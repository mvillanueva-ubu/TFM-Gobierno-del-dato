import{a as tm,b as im,c as nm,d as rm}from"./chunk-6TIBB6OQ.js";import{a as mm}from"./chunk-DVCLZYWR.js";import{a as um,b as pm,c as dm,d as Ur,e as fm,f as hm,g as vn}from"./chunk-6JHNLUDL.js";import{b as sm,d as am,e as lm,f as cm}from"./chunk-ADIACNFY.js";import{k as om}from"./chunk-4HCP6ZL4.js";import{a as em}from"./chunk-4T7RASTP.js";import{a as Xt,b as Di,c as Jl,d as ec}from"./chunk-67GL5YFT.js";import{a as Ac,c as wc}from"./chunk-FAENQBGE.js";import{a as Dr,b as un,c as zo,d as Mr,e as Uo,f as Pr,g as Ir}from"./chunk-QGV3NOWX.js";import{A as jr,B as vi,C as hn,D as jc,E as $c,F as zc,G as Bi,H as Qo,I as Wo,J as gn,K as Vi,L as $r,M as yn,N as Yo,O as Uc,P as ji,Q as Xo,R as zr,U as qc,a as Vl,b as jl,c as zl,g as Rc,i as Hc,k as de,l as Bc,m as Vc,n as Fr,o as Nr,p as Rr,q as pn,r as Ko,s as Lr,t as Hr,u as dn,v as Br,w as Vr,x as Go,y as fn,z as Pt}from"./chunk-JQEOB3VZ.js";import{a as Ic}from"./chunk-QXWNQE7J.js";import{a as ei}from"./chunk-MA6JW2A4.js";import{a as ur,b as pr,c as ac,d as dr,e as lc,f as fr,g as cc,h as hr,i as Fi,j as mc}from"./chunk-2HTFTBIT.js";import{a as Jc}from"./chunk-KP3VH6Z7.js";import{a as Kc}from"./chunk-7RWCIHFI.js";import{c as It,d as Ot,f as Zo,g as Jo,h as es,i as $i,k as Gc,m as ts,n as Qc,o as Wc,p as is,q as ri,r as ns,s as Yc,u as rs,v as os}from"./chunk-ZSGRQJXI.js";import{a as Xc,b as Zc}from"./chunk-BLUYHPWS.js";import{a as qo}from"./chunk-RXGULR2P.js";import{c as Bl}from"./chunk-KNM6FCYO.js";import"./chunk-SN6NWPRN.js";import{a as Pc}from"./chunk-EHRR3YRI.js";import"./chunk-3UFA6TFV.js";import{a as Lc}from"./chunk-YPBQUHFA.js";import{a as vl,b as Sl,d as Hi}from"./chunk-UUTSXDDJ.js";import{a as yl,b as Ze}from"./chunk-ABVNDMIM.js";import{a as kc,b as Dc,f as Mc}from"./chunk-AGAPB23W.js";import{c as Nc}from"./chunk-M5FSYXXJ.js";import{a as mr}from"./chunk-LEU5GMJJ.js";import{a as ti}from"./chunk-HKBFZV3L.js";import{a as ii}from"./chunk-3DWBQ3AZ.js";import{a as Ql,b as Wl,c as Yl,d as Xl,e as Zl}from"./chunk-SUMTKICK.js";import{a as lt}from"./chunk-GDM375JW.js";import{a as ni}from"./chunk-RJ7V3MDH.js";import{a as Oc,b as Fc,c as Or}from"./chunk-UCNXABJ7.js";import{a as ic,b as nc}from"./chunk-WTLSZVSU.js";import{a as bt}from"./chunk-D7WAZQPE.js";import{b as Mi,c as Ne,d as Ue,e as qe,f as Ke,g as Ge,h as Ct}from"./chunk-4P6JHET6.js";import{d as tc}from"./chunk-7WEK5KIV.js";import"./chunk-2G27YEIW.js";import{a as Wn,b as Yn,c as Xn,d as Zn,e as Jn,f as er,g as tr,h as ir,i as nr,j as rr,k as or,l as nn}from"./chunk-FC4XU2XU.js";import{d as Gl,e as Ri,f as sn,g as Sr,h as _r,i as $o,j as Li,k as an,l as dc,m as Cr,n as bc,o as Ec}from"./chunk-SZDZ4MRC.js";import{a as br,b as Er,c as yc}from"./chunk-YMU2MOOR.js";import{a as wr,b as kr,c as Tc,d as xc}from"./chunk-5AH45KVW.js";import{a as Ae}from"./chunk-SW63VHA3.js";import{B as mn,a as ar,b as $l,c as Kl,d as gi,e as gr,f as uc,g as rn,h as Ni,i as jo,j as on,k as pc,l as yr,m as vr,n as hc,o as gc,p as vc,q as Tr,r as ln,s as xr,t as yi,u as cn,v as Sc,w as _c,x as Ar,y as Cc}from"./chunk-AJIV73VZ.js";import{a as Rl,b as Ll,c as Hl,e as fc}from"./chunk-TGSF3K3X.js";import{b as Be}from"./chunk-AGWUCOZB.js";import"./chunk-3RK6DDJD.js";import{a as oc,b as sc}from"./chunk-IN2CUFXI.js";import{a as hl,b as ki,c as gl}from"./chunk-FURLESHC.js";import{a as N,b as ge,c as I,d as rc}from"./chunk-YPF27OPI.js";import{a as Ce}from"./chunk-QNZ3LUPX.js";import{a as Ro,b as jn,c as ml,d as $n,e as ul,f as zn,g as pl,h as Lo}from"./chunk-EAFEU3LN.js";import{b as lr,c as cr}from"./chunk-HP7XJUQG.js";import{b as Pi,c as Ul,g as ql,h as Ii,i as Oi}from"./chunk-SAY7LY4C.js";import{a as dl,b as Un,e as Dt,f as Re,g as Mt}from"./chunk-5TWJAVHX.js";import{$ as me,$a as $,$b as Io,$c as rl,Ab as Xi,Bb as Zi,Bd as Bo,C as G,Cb as Ji,Cc as Hn,Cd as bl,D as ha,Da as Yi,Dc as He,E as mi,Ea as wa,Ec as Qa,Ee as Vo,F as De,Fa as ka,Fc as Wa,Fe as Gn,Gb as en,Gc as Ya,Ge as Jt,Hb as S,He as Qn,I as ga,Ib as _e,Jb as ie,Jc as Xa,Jd as El,Je as tn,Ka as Da,Kb as wi,Kc as Za,Ke as be,La as _,Lb as pi,Lc as Ja,M as ya,Ma,Mb as Ba,Na as Pa,Nb as Va,Oa as Ia,Ob as ja,Oc as el,Oe as Fl,Pa as re,Pc as tl,Pe as sr,Q as va,Qc as il,R as Sa,Ra as Oa,Rc as Yt,Re as Nl,Sb as $a,T as _a,Ub as di,Uc as Oo,Ud as Tl,Ue as Et,Va as ue,Vc as ze,Ve as Tt,W as F,Wa as _t,Wc as nl,X as Me,Xa as Fn,Xc as Zt,Xe as hi,Y as ce,Yb as Oe,Yc as fi,Za as $e,Zb as Fe,Zc as Fo,Zd as xl,Ze as xt,_ as Ca,_c as Bn,_d as Al,aa as ba,ab as Fa,af as At,b as Mo,ba as j,bb as z,c as pt,ca as St,cb as Na,cc as Nn,cd as ol,cf as wt,da as qt,db as Xe,dd as sl,e as ma,ea as x,ed as No,f as zt,fa as Z,fd as al,ff as kt,g as ua,gd as ll,hb as Q,hd as ae,hf as at,i as pa,j as da,jb as ui,jc as Rn,k as ee,ka as Ea,kb as Kt,kd as Rt,ke as wl,l as M,lb as Gt,ld as Vn,ma as oe,mb as y,me as kl,na as se,nb as g,ne as Dl,o as fa,ob as Y,od as cl,p as P,pb as Qt,pc as za,pd as H,q as ci,qa as Ta,qb as Wt,qc as Ua,qd as he,ra as On,rb as Ra,rc as rt,rd as st,sb as Se,sd as Ee,ta as xi,td as Lt,te as Ml,ua as nt,ub as te,uc as ot,ud as fl,ue as Pl,va as Ai,vb as L,vd as qn,ve as Il,w as Ut,wa as xa,wb as La,wc as qa,wd as Kn,we as Ol,x as Po,xb as Ha,xc as Ka,xd as Ho,y as In,ya as Aa,yc as Ga,yd as _l,z as fe,zc as Ln,zd as Cl}from"./chunk-6VUBUCMU.js";import{a as w,b as O,c as ca,d as jt,e as $t}from"./chunk-EQDQRRRY.js";var cd=jt((ad,ld)=>{"use strict";(function(t){typeof ad=="object"&&typeof ld=="object"?t(ei()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){var i=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),e=t.Pos,n={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function r(d){return d&&d.bracketRegex||/[(){}[\]]/}function o(d,h,b){var T=d.getLineHandle(h.line),f=h.ch-1,u=b&&b.afterCursor;u==null&&(u=/(^| )cm-fat-cursor($| )/.test(d.getWrapperElement().className));var m=r(b),p=!u&&f>=0&&m.test(T.text.charAt(f))&&n[T.text.charAt(f)]||m.test(T.text.charAt(f+1))&&n[T.text.charAt(++f)];if(!p)return null;var v=p.charAt(1)==">"?1:-1;if(b&&b.strict&&v>0!=(f==h.ch))return null;var C=d.getTokenTypeAt(e(h.line,f+1)),E=a(d,e(h.line,f+(v>0?1:0)),v,C,b);return E==null?null:{from:e(h.line,f),to:E&&E.pos,match:E&&E.ch==p.charAt(0),forward:v>0}}function a(d,h,b,T,f){for(var u=f&&f.maxScanLineLength||1e4,m=f&&f.maxScanLines||1e3,p=[],v=r(f),C=b>0?Math.min(h.line+m,d.lastLine()+1):Math.max(d.firstLine()-1,h.line-m),E=h.line;E!=C;E+=b){var A=d.getLine(E);if(A){var D=b>0?0:A.length-1,R=b>0?A.length:-1;if(!(A.length>u))for(E==h.line&&(D=h.ch-(b<0?1:0));D!=R;D+=b){var U=A.charAt(D);if(v.test(U)&&(T===void 0||(d.getTokenTypeAt(e(E,D+1))||"")==(T||""))){var K=n[U];if(K&&K.charAt(1)==">"==b>0)p.push(U);else if(p.length)p.pop();else return{pos:e(E,D),ch:U}}}}}return E-b==(b>0?d.lastLine():d.firstLine())?!1:null}function s(d,h,b){for(var T=d.state.matchBrackets.maxHighlightLineLength||1e3,f=b&&b.highlightNonMatching,u=[],m=d.listSelections(),p=0;p<m.length;p++){var v=m[p].empty()&&o(d,m[p].head,b);if(v&&(v.match||f!==!1)&&d.getLine(v.from.line).length<=T){var C=v.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";u.push(d.markText(v.from,e(v.from.line,v.from.ch+1),{className:C})),v.to&&d.getLine(v.to.line).length<=T&&u.push(d.markText(v.to,e(v.to.line,v.to.ch+1),{className:C}))}}if(u.length){i&&d.state.focused&&d.focus();var E=function(){d.operation(function(){for(var A=0;A<u.length;A++)u[A].clear()})};if(h)setTimeout(E,800);else return E}}function l(d){d.operation(function(){d.state.matchBrackets.currentlyHighlighted&&(d.state.matchBrackets.currentlyHighlighted(),d.state.matchBrackets.currentlyHighlighted=null),d.state.matchBrackets.currentlyHighlighted=s(d,!1,d.state.matchBrackets)})}function c(d){d.state.matchBrackets&&d.state.matchBrackets.currentlyHighlighted&&(d.state.matchBrackets.currentlyHighlighted(),d.state.matchBrackets.currentlyHighlighted=null)}t.defineOption("matchBrackets",!1,function(d,h,b){b&&b!=t.Init&&(d.off("cursorActivity",l),d.off("focus",l),d.off("blur",c),c(d)),h&&(d.state.matchBrackets=typeof h=="object"?h:{},d.on("cursorActivity",l),d.on("focus",l),d.on("blur",c))}),t.defineExtension("matchBrackets",function(){s(this,!0)}),t.defineExtension("findMatchingBracket",function(d,h,b){return(b||typeof h=="boolean")&&(b?(b.strict=h,h=b):h=h?{strict:!0}:null),o(this,d,h)}),t.defineExtension("scanForBracket",function(d,h,b,T){return a(this,d,h,b,T)})})});var pd=jt((md,ud)=>{"use strict";(function(t){typeof md=="object"&&typeof ud=="object"?t(ei()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";function i(e){return function(n,r){var o=r.line,a=n.getLine(o);function s(T){for(var f,u=r.ch,m=0;;){var p=u<=0?-1:a.lastIndexOf(T[0],u-1);if(p==-1){if(m==1)break;m=1,u=a.length;continue}if(m==1&&p<r.ch)break;if(f=n.getTokenTypeAt(t.Pos(o,p+1)),!/^(comment|string)/.test(f))return{ch:p+1,tokenType:f,pair:T};u=p-1}}function l(T){var f=1,u=n.lastLine(),m,p=T.ch,v;e:for(var C=o;C<=u;++C)for(var E=n.getLine(C),A=C==o?p:0;;){var D=E.indexOf(T.pair[0],A),R=E.indexOf(T.pair[1],A);if(D<0&&(D=E.length),R<0&&(R=E.length),A=Math.min(D,R),A==E.length)break;if(n.getTokenTypeAt(t.Pos(C,A+1))==T.tokenType){if(A==D)++f;else if(!--f){m=C,v=A;break e}}++A}return m==null||o==m?null:{from:t.Pos(o,p),to:t.Pos(m,v)}}for(var c=[],d=0;d<e.length;d++){var h=s(e[d]);h&&c.push(h)}c.sort(function(T,f){return T.ch-f.ch});for(var d=0;d<c.length;d++){var b=l(c[d]);if(b)return b}return null}}t.registerHelper("fold","brace",i([["{","}"],["[","]"]])),t.registerHelper("fold","brace-paren",i([["{","}"],["[","]"],["(",")"]])),t.registerHelper("fold","import",function(e,n){function r(d){if(d<e.firstLine()||d>e.lastLine())return null;var h=e.getTokenAt(t.Pos(d,1));if(/\S/.test(h.string)||(h=e.getTokenAt(t.Pos(d,h.end+1))),h.type!="keyword"||h.string!="import")return null;for(var b=d,T=Math.min(e.lastLine(),d+10);b<=T;++b){var f=e.getLine(b),u=f.indexOf(";");if(u!=-1)return{startCh:h.end,end:t.Pos(b,u)}}}var o=n.line,a=r(o),s;if(!a||r(o-1)||(s=r(o-2))&&s.end.line==o-1)return null;for(var l=a.end;;){var c=r(l.line+1);if(c==null)break;l=c.end}return{from:e.clipPos(t.Pos(o,a.startCh+1)),to:l}}),t.registerHelper("fold","include",function(e,n){function r(c){if(c<e.firstLine()||c>e.lastLine())return null;var d=e.getTokenAt(t.Pos(c,1));if(/\S/.test(d.string)||(d=e.getTokenAt(t.Pos(c,d.end+1))),d.type=="meta"&&d.string.slice(0,8)=="#include")return d.start+8}var o=n.line,a=r(o);if(a==null||r(o-1)!=null)return null;for(var s=o;;){var l=r(s+1);if(l==null)break;++s}return{from:t.Pos(o,a+1),to:e.clipPos(t.Pos(s))}})})});var hd=jt((dd,fd)=>{"use strict";(function(t){typeof dd=="object"&&typeof fd=="object"?t(ei()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.registerGlobalHelper("fold","comment",function(i){return i.blockCommentStart&&i.blockCommentEnd},function(i,e){var n=i.getModeAt(e),r=n.blockCommentStart,o=n.blockCommentEnd;if(!(!r||!o)){for(var a=e.line,s=i.getLine(a),l,c=e.ch,d=0;;){var h=c<=0?-1:s.lastIndexOf(r,c-1);if(h==-1){if(d==1)return;d=1,c=s.length;continue}if(d==1&&h<e.ch)return;if(/comment/.test(i.getTokenTypeAt(t.Pos(a,h+1)))&&(h==0||s.slice(h-o.length,h)==o||!/comment/.test(i.getTokenTypeAt(t.Pos(a,h))))){l=h+r.length;break}c=h-1}var b=1,T=i.lastLine(),f,u;e:for(var m=a;m<=T;++m)for(var p=i.getLine(m),v=m==a?l:0;;){var C=p.indexOf(r,v),E=p.indexOf(o,v);if(C<0&&(C=p.length),E<0&&(E=p.length),v=Math.min(C,E),v==p.length)break;if(v==C)++b;else if(!--b){f=m,u=v;break e}++v}if(!(f==null||a==f&&u==l))return{from:t.Pos(a,l),to:t.Pos(f,u)}}})})});var aa=jt((gd,yd)=>{"use strict";(function(t){typeof gd=="object"&&typeof yd=="object"?t(ei()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";function i(o,a,s,l){if(s&&s.call){var c=s;s=null}else var c=r(o,s,"rangeFinder");typeof a=="number"&&(a=t.Pos(a,0));var d=r(o,s,"minFoldSize");function h(u){var m=c(o,a);if(!m||m.to.line-m.from.line<d)return null;if(l==="fold")return m;for(var p=o.findMarksAt(m.from),v=0;v<p.length;++v)if(p[v].__isFold){if(!u)return null;m.cleared=!0,p[v].clear()}return m}var b=h(!0);if(r(o,s,"scanUp"))for(;!b&&a.line>o.firstLine();)a=t.Pos(a.line-1,0),b=h(!1);if(!(!b||b.cleared||l==="unfold")){var T=e(o,s,b);t.on(T,"mousedown",function(u){f.clear(),t.e_preventDefault(u)});var f=o.markText(b.from,b.to,{replacedWith:T,clearOnEnter:r(o,s,"clearOnEnter"),__isFold:!0});f.on("clear",function(u,m){t.signal(o,"unfold",o,u,m)}),t.signal(o,"fold",o,b.from,b.to)}}function e(o,a,s){var l=r(o,a,"widget");if(typeof l=="function"&&(l=l(s.from,s.to)),typeof l=="string"){var c=document.createTextNode(l);l=document.createElement("span"),l.appendChild(c),l.className="CodeMirror-foldmarker"}else l&&(l=l.cloneNode(!0));return l}t.newFoldFunction=function(o,a){return function(s,l){i(s,l,{rangeFinder:o,widget:a})}},t.defineExtension("foldCode",function(o,a,s){i(this,o,a,s)}),t.defineExtension("isFolded",function(o){for(var a=this.findMarksAt(o),s=0;s<a.length;++s)if(a[s].__isFold)return!0}),t.commands.toggleFold=function(o){o.foldCode(o.getCursor())},t.commands.fold=function(o){o.foldCode(o.getCursor(),null,"fold")},t.commands.unfold=function(o){o.foldCode(o.getCursor(),{scanUp:!1},"unfold")},t.commands.foldAll=function(o){o.operation(function(){for(var a=o.firstLine(),s=o.lastLine();a<=s;a++)o.foldCode(t.Pos(a,0),{scanUp:!1},"fold")})},t.commands.unfoldAll=function(o){o.operation(function(){for(var a=o.firstLine(),s=o.lastLine();a<=s;a++)o.foldCode(t.Pos(a,0),{scanUp:!1},"unfold")})},t.registerHelper("fold","combine",function(){var o=Array.prototype.slice.call(arguments,0);return function(a,s){for(var l=0;l<o.length;++l){var c=o[l](a,s);if(c)return c}}}),t.registerHelper("fold","auto",function(o,a){for(var s=o.getHelpers(a,"fold"),l=0;l<s.length;l++){var c=s[l](o,a);if(c)return c}});var n={rangeFinder:t.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};t.defineOption("foldOptions",null);function r(o,a,s){if(a&&a[s]!==void 0)return a[s];var l=o.options.foldOptions;return l&&l[s]!==void 0?l[s]:n[s]}t.defineExtension("foldOption",function(o,a){return r(this,o,a)})})});var _d=jt((vd,Sd)=>{"use strict";(function(t){typeof vd=="object"&&typeof Sd=="object"?t(ei(),aa()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./foldcode"],t):t(CodeMirror)})(function(t){"use strict";t.defineOption("foldGutter",!1,function(f,u,m){m&&m!=t.Init&&(f.clearGutter(f.state.foldGutter.options.gutter),f.state.foldGutter=null,f.off("gutterClick",c),f.off("changes",h),f.off("viewportChange",b),f.off("fold",T),f.off("unfold",T),f.off("swapDoc",h),f.off("optionChange",d)),u&&(f.state.foldGutter=new e(n(u)),l(f),f.on("gutterClick",c),f.on("changes",h),f.on("viewportChange",b),f.on("fold",T),f.on("unfold",T),f.on("swapDoc",h),f.on("optionChange",d))});var i=t.Pos;function e(f){this.options=f,this.from=this.to=0}function n(f){return f===!0&&(f={}),f.gutter==null&&(f.gutter="CodeMirror-foldgutter"),f.indicatorOpen==null&&(f.indicatorOpen="CodeMirror-foldgutter-open"),f.indicatorFolded==null&&(f.indicatorFolded="CodeMirror-foldgutter-folded"),f}function r(f,u){for(var m=f.findMarks(i(u,0),i(u+1,0)),p=0;p<m.length;++p)if(m[p].__isFold){var v=m[p].find(-1);if(v&&v.line===u)return m[p]}}function o(f){if(typeof f=="string"){var u=document.createElement("div");return u.className=f+" CodeMirror-guttermarker-subtle",u}else return f.cloneNode(!0)}function a(f,u,m){var p=f.state.foldGutter.options,v=u-1,C=f.foldOption(p,"minFoldSize"),E=f.foldOption(p,"rangeFinder"),A=typeof p.indicatorFolded=="string"&&s(p.indicatorFolded),D=typeof p.indicatorOpen=="string"&&s(p.indicatorOpen);f.eachLine(u,m,function(R){++v;var U=null,K=R.gutterMarkers;if(K&&(K=K[p.gutter]),r(f,v)){if(A&&K&&A.test(K.className))return;U=o(p.indicatorFolded)}else{var ye=i(v,0),we=E&&E(f,ye);if(we&&we.to.line-we.from.line>=C){if(D&&K&&D.test(K.className))return;U=o(p.indicatorOpen)}}!U&&!K||f.setGutterMarker(R,p.gutter,U)})}function s(f){return new RegExp("(^|\\s)"+f+"(?:$|\\s)\\s*")}function l(f){var u=f.getViewport(),m=f.state.foldGutter;m&&(f.operation(function(){a(f,u.from,u.to)}),m.from=u.from,m.to=u.to)}function c(f,u,m){var p=f.state.foldGutter;if(p){var v=p.options;if(m==v.gutter){var C=r(f,u);C?C.clear():f.foldCode(i(u,0),v)}}}function d(f,u){u=="mode"&&h(f)}function h(f){var u=f.state.foldGutter;if(u){var m=u.options;u.from=u.to=0,clearTimeout(u.changeUpdate),u.changeUpdate=setTimeout(function(){l(f)},m.foldOnChangeTimeSpan||600)}}function b(f){var u=f.state.foldGutter;if(u){var m=u.options;clearTimeout(u.changeUpdate),u.changeUpdate=setTimeout(function(){var p=f.getViewport();u.from==u.to||p.from-u.to>20||u.from-p.to>20?l(f):f.operation(function(){p.from<u.from&&(a(f,p.from,u.from),u.from=p.from),p.to>u.to&&(a(f,u.to,p.to),u.to=p.to)})},m.updateViewportTimeSpan||400)}}function T(f,u){var m=f.state.foldGutter;if(m){var p=u.line;p>=m.from&&p<m.to&&a(f,p,p+1)}}})});var Ed=jt((Cd,bd)=>{"use strict";(function(t){typeof Cd=="object"&&typeof bd=="object"?t(ei()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.registerHelper("fold","markdown",function(i,e){var n=100;function r(b){var T=i.getTokenTypeAt(t.Pos(b,0));return T&&/\bheader\b/.test(T)}function o(b,T,f){var u=T&&T.match(/^#+/);return u&&r(b)?u[0].length:(u=f&&f.match(/^[=\-]+\s*$/),u&&r(b+1)?f[0]=="="?1:2:n)}var a=i.getLine(e.line),s=i.getLine(e.line+1),l=o(e.line,a,s);if(l!==n){for(var c=i.lastLine(),d=e.line,h=i.getLine(d+2);d<c&&!(o(d+1,s,h)<=l);)++d,s=h,h=i.getLine(d+2);return{from:t.Pos(e.line,a.length),to:t.Pos(d,i.getLine(d).length)}}})})});var Ad=jt((Td,xd)=>{"use strict";(function(t){typeof Td=="object"&&typeof xd=="object"?t(ei()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";var i=t.Pos;function e(m,p){return m.line-p.line||m.ch-p.ch}var n="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=n+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",o=new RegExp("<(/?)(["+n+"]["+r+"]*)","g");function a(m,p,v,C){this.line=p,this.ch=v,this.cm=m,this.text=m.getLine(p),this.min=C?Math.max(C.from,m.firstLine()):m.firstLine(),this.max=C?Math.min(C.to-1,m.lastLine()):m.lastLine()}function s(m,p){var v=m.cm.getTokenTypeAt(i(m.line,p));return v&&/\btag\b/.test(v)}function l(m){if(!(m.line>=m.max))return m.ch=0,m.text=m.cm.getLine(++m.line),!0}function c(m){if(!(m.line<=m.min))return m.text=m.cm.getLine(--m.line),m.ch=m.text.length,!0}function d(m){for(;;){var p=m.text.indexOf(">",m.ch);if(p==-1){if(l(m))continue;return}if(!s(m,p+1)){m.ch=p+1;continue}var v=m.text.lastIndexOf("/",p),C=v>-1&&!/\S/.test(m.text.slice(v+1,p));return m.ch=p+1,C?"selfClose":"regular"}}function h(m){for(;;){var p=m.ch?m.text.lastIndexOf("<",m.ch-1):-1;if(p==-1){if(c(m))continue;return}if(!s(m,p+1)){m.ch=p;continue}o.lastIndex=p,m.ch=p;var v=o.exec(m.text);if(v&&v.index==p)return v}}function b(m){for(;;){o.lastIndex=m.ch;var p=o.exec(m.text);if(!p){if(l(m))continue;return}if(!s(m,p.index+1)){m.ch=p.index+1;continue}return m.ch=p.index+p[0].length,p}}function T(m){for(;;){var p=m.ch?m.text.lastIndexOf(">",m.ch-1):-1;if(p==-1){if(c(m))continue;return}if(!s(m,p+1)){m.ch=p;continue}var v=m.text.lastIndexOf("/",p),C=v>-1&&!/\S/.test(m.text.slice(v+1,p));return m.ch=p+1,C?"selfClose":"regular"}}function f(m,p){for(var v=[];;){var C=b(m),E,A=m.line,D=m.ch-(C?C[0].length:0);if(!C||!(E=d(m)))return;if(E!="selfClose")if(C[1]){for(var R=v.length-1;R>=0;--R)if(v[R]==C[2]){v.length=R;break}if(R<0&&(!p||p==C[2]))return{tag:C[2],from:i(A,D),to:i(m.line,m.ch)}}else v.push(C[2])}}function u(m,p){for(var v=[];;){var C=T(m);if(!C)return;if(C=="selfClose"){h(m);continue}var E=m.line,A=m.ch,D=h(m);if(!D)return;if(D[1])v.push(D[2]);else{for(var R=v.length-1;R>=0;--R)if(v[R]==D[2]){v.length=R;break}if(R<0&&(!p||p==D[2]))return{tag:D[2],from:i(m.line,m.ch),to:i(E,A)}}}}t.registerHelper("fold","xml",function(m,p){for(var v=new a(m,p.line,0);;){var C=b(v);if(!C||v.line!=p.line)return;var E=d(v);if(!E)return;if(!C[1]&&E!="selfClose"){var A=i(v.line,v.ch),D=f(v,C[2]);return D&&e(D.from,A)>0?{from:A,to:D.from}:null}}}),t.findMatchingTag=function(m,p,v){var C=new a(m,p.line,p.ch,v);if(!(C.text.indexOf(">")==-1&&C.text.indexOf("<")==-1)){var E=d(C),A=E&&i(C.line,C.ch),D=E&&h(C);if(!(!E||!D||e(C,p)>0)){var R={from:i(C.line,C.ch),to:A,tag:D[2]};return E=="selfClose"?{open:R,close:null,at:"open"}:D[1]?{open:u(C,D[2]),close:R,at:"close"}:(C=new a(m,A.line,A.ch,v),{open:R,close:f(C,D[2]),at:"open"})}}},t.findEnclosingTag=function(m,p,v,C){for(var E=new a(m,p.line,p.ch,v);;){var A=u(E,C);if(!A)break;var D=new a(m,p.line,p.ch,v),R=f(D,A.tag);if(R)return{open:A,close:R}}},t.scanForClosingTag=function(m,p,v,C){var E=new a(m,p.line,p.ch,C?{from:0,to:C}:null);return f(E,v)}})});var Dd=jt((wd,kd)=>{"use strict";(function(t){typeof wd=="object"&&typeof kd=="object"?t(ei()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";var i="CodeMirror-hint",e="CodeMirror-hint-active";t.showHint=function(u,m,p){if(!m)return u.showHint(p);p&&p.async&&(m.async=!0);var v={hint:m};if(p)for(var C in p)v[C]=p[C];return u.showHint(v)},t.defineExtension("showHint",function(u){u=a(this,this.getCursor("start"),u);var m=this.listSelections();if(!(m.length>1)){if(this.somethingSelected()){if(!u.hint.supportsSelection)return;for(var p=0;p<m.length;p++)if(m[p].head.line!=m[p].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var v=this.state.completionActive=new n(this,u);v.options.hint&&(t.signal(this,"startCompletion",this),v.update(!0))}}),t.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function n(u,m){if(this.cm=u,this.options=m,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var p=this;u.on("cursorActivity",this.activityFunc=function(){p.cursorActivity()})}}var r=window.requestAnimationFrame||function(u){return setTimeout(u,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;n.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(u,m){var p=u.list[m],v=this;this.cm.operation(function(){p.hint?p.hint(v.cm,u,p):v.cm.replaceRange(s(p),p.from||u.from,p.to||u.to,"complete"),t.signal(u,"pick",p),v.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var u=this.startPos;this.data&&(u=this.data.from);var m=this.cm.getCursor(),p=this.cm.getLine(m.line);if(m.line!=this.startPos.line||p.length-m.ch!=this.startLen-this.startPos.ch||m.ch<u.ch||this.cm.somethingSelected()||!m.ch||this.options.closeCharacters.test(p.charAt(m.ch-1)))this.close();else{var v=this;this.debounce=r(function(){v.update()}),this.widget&&this.widget.disable()}},update:function(u){if(this.tick!=null){var m=this,p=++this.tick;b(this.options.hint,this.cm,this.options,function(v){m.tick==p&&m.finishUpdate(v,u)})}},finishUpdate:function(u,m){this.data&&t.signal(this.data,"update");var p=this.widget&&this.widget.picked||m&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=u,u&&u.list.length&&(p&&u.list.length==1?this.pick(u,0):(this.widget=new d(this,u),t.signal(u,"shown")))}};function a(u,m,p){var v=u.options.hintOptions,C={};for(var E in f)C[E]=f[E];if(v)for(var E in v)v[E]!==void 0&&(C[E]=v[E]);if(p)for(var E in p)p[E]!==void 0&&(C[E]=p[E]);return C.hint.resolve&&(C.hint=C.hint.resolve(u,m)),C}function s(u){return typeof u=="string"?u:u.text}function l(u,m){var p={Up:function(){m.moveFocus(-1)},Down:function(){m.moveFocus(1)},PageUp:function(){m.moveFocus(-m.menuSize()+1,!0)},PageDown:function(){m.moveFocus(m.menuSize()-1,!0)},Home:function(){m.setFocus(0)},End:function(){m.setFocus(m.length-1)},Enter:m.pick,Tab:m.pick,Esc:m.close},v=/Mac/.test(navigator.platform);v&&(p["Ctrl-P"]=function(){m.moveFocus(-1)},p["Ctrl-N"]=function(){m.moveFocus(1)});var C=u.options.customKeys,E=C?{}:p;function A(U,K){var ye;typeof K!="string"?ye=function(we){return K(we,m)}:p.hasOwnProperty(K)?ye=p[K]:ye=K,E[U]=ye}if(C)for(var D in C)C.hasOwnProperty(D)&&A(D,C[D]);var R=u.options.extraKeys;if(R)for(var D in R)R.hasOwnProperty(D)&&A(D,R[D]);return E}function c(u,m){for(;m&&m!=u;){if(m.nodeName.toUpperCase()==="LI"&&m.parentNode==u)return m;m=m.parentNode}}function d(u,m){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=u,this.data=m,this.picked=!1;var p=this,v=u.cm,C=v.getInputField().ownerDocument,E=C.defaultView||C.parentWindow,A=this.hints=C.createElement("ul");A.setAttribute("role","listbox"),A.setAttribute("aria-expanded","true"),A.id=this.id;var D=u.cm.options.theme;A.className="CodeMirror-hints "+D,this.selectedHint=m.selectedHint||0;for(var R=m.list,U=0;U<R.length;++U){var K=A.appendChild(C.createElement("li")),ye=R[U],we=i+(U!=this.selectedHint?"":" "+e);ye.className!=null&&(we=ye.className+" "+we),K.className=we,U==this.selectedHint&&K.setAttribute("aria-selected","true"),K.id=this.id+"-"+U,K.setAttribute("role","option"),ye.render?ye.render(K,m,ye):K.appendChild(C.createTextNode(ye.displayText||s(ye))),K.hintId=U}var Ve=u.options.container||C.body,et=v.cursorCoords(u.options.alignWithWord?m.from:null),li=et.left,tt=et.bottom,B=!0,V=0,q=0;if(Ve!==C.body){var J=["absolute","relative","fixed"].indexOf(E.getComputedStyle(Ve).position)!==-1,ve=J?Ve:Ve.offsetParent,Pe=ve.getBoundingClientRect(),k=C.body.getBoundingClientRect();V=Pe.left-k.left-ve.scrollLeft,q=Pe.top-k.top-ve.scrollTop}A.style.left=li-V+"px",A.style.top=tt-q+"px";var le=E.innerWidth||Math.max(C.body.offsetWidth,C.documentElement.offsetWidth),X=E.innerHeight||Math.max(C.body.offsetHeight,C.documentElement.offsetHeight);Ve.appendChild(A),v.getInputField().setAttribute("aria-autocomplete","list"),v.getInputField().setAttribute("aria-owns",this.id),v.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var pe=u.options.moveOnOverlap?A.getBoundingClientRect():new DOMRect,Ie=u.options.paddingForScrollbar?A.scrollHeight>A.clientHeight+1:!1,Te;setTimeout(function(){Te=v.getScrollInfo()});var ut=pe.bottom-X;if(ut>0){var xe=pe.bottom-pe.top,yt=pe.top-(et.bottom-et.top)-2;X-pe.top<yt?(xe>yt&&(A.style.height=(xe=yt)+"px"),A.style.top=(tt=et.top-xe)+q+"px",B=!1):A.style.height=X-pe.top-2+"px"}var vt=pe.right-le;if(Ie&&(vt+=v.display.nativeBarWidth),vt>0&&(pe.right-pe.left>le&&(A.style.width=le-5+"px",vt-=pe.right-pe.left-le),A.style.left=(li=Math.max(et.left-vt-V,0))+"px"),Ie)for(var Ti=A.firstChild;Ti;Ti=Ti.nextSibling)Ti.style.paddingRight=v.display.nativeBarWidth+"px";if(v.addKeyMap(this.keyMap=l(u,{moveFocus:function(Le,it){p.changeActive(p.selectedHint+Le,it)},setFocus:function(Le){p.changeActive(Le)},menuSize:function(){return p.screenAmount()},length:R.length,close:function(){u.close()},pick:function(){p.pick()},data:m})),u.options.closeOnUnfocus){var ke;v.on("blur",this.onBlur=function(){ke=setTimeout(function(){u.close()},100)}),v.on("focus",this.onFocus=function(){clearTimeout(ke)})}v.on("scroll",this.onScroll=function(){var Le=v.getScrollInfo(),it=v.getWrapperElement().getBoundingClientRect();Te||(Te=v.getScrollInfo());var la=tt+Te.top-Le.top,Do=la-(E.pageYOffset||(C.documentElement||C.body).scrollTop);if(B||(Do+=A.offsetHeight),Do<=it.top||Do>=it.bottom)return u.close();A.style.top=la+"px",A.style.left=li+Te.left-Le.left+"px"}),t.on(A,"dblclick",function(Le){var it=c(A,Le.target||Le.srcElement);it&&it.hintId!=null&&(p.changeActive(it.hintId),p.pick())}),t.on(A,"click",function(Le){var it=c(A,Le.target||Le.srcElement);it&&it.hintId!=null&&(p.changeActive(it.hintId),u.options.completeOnSingleClick&&p.pick())}),t.on(A,"mousedown",function(){setTimeout(function(){v.focus()},20)});var Pn=this.getSelectedHintRange();return(Pn.from!==0||Pn.to!==0)&&this.scrollToActive(),t.signal(m,"select",R[this.selectedHint],A.childNodes[this.selectedHint]),!0}d.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var u=this.completion.cm.getInputField();u.removeAttribute("aria-activedescendant"),u.removeAttribute("aria-owns");var m=this.completion.cm;this.completion.options.closeOnUnfocus&&(m.off("blur",this.onBlur),m.off("focus",this.onFocus)),m.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var u=this;this.keyMap={Enter:function(){u.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(u,m){if(u>=this.data.list.length?u=m?this.data.list.length-1:0:u<0&&(u=m?0:this.data.list.length-1),this.selectedHint!=u){var p=this.hints.childNodes[this.selectedHint];p&&(p.className=p.className.replace(" "+e,""),p.removeAttribute("aria-selected")),p=this.hints.childNodes[this.selectedHint=u],p.className+=" "+e,p.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",p.id),this.scrollToActive(),t.signal(this.data,"select",this.data.list[this.selectedHint],p)}},scrollToActive:function(){var u=this.getSelectedHintRange(),m=this.hints.childNodes[u.from],p=this.hints.childNodes[u.to],v=this.hints.firstChild;m.offsetTop<this.hints.scrollTop?this.hints.scrollTop=m.offsetTop-v.offsetTop:p.offsetTop+p.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=p.offsetTop+p.offsetHeight-this.hints.clientHeight+v.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var u=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-u),to:Math.min(this.data.list.length-1,this.selectedHint+u)}}};function h(u,m){if(!u.somethingSelected())return m;for(var p=[],v=0;v<m.length;v++)m[v].supportsSelection&&p.push(m[v]);return p}function b(u,m,p,v){if(u.async)u(m,v,p);else{var C=u(m,p);C&&C.then?C.then(v):v(C)}}function T(u,m){var p=u.getHelpers(m,"hint"),v;if(p.length){var C=function(E,A,D){var R=h(E,p);function U(K){if(K==R.length)return A(null);b(R[K],E,D,function(ye){ye&&ye.list.length>0?A(ye):U(K+1)})}U(0)};return C.async=!0,C.supportsSelection=!0,C}else return(v=u.getHelper(u.getCursor(),"hintWords"))?function(E){return t.hint.fromList(E,{words:v})}:t.hint.anyword?function(E,A){return t.hint.anyword(E,A)}:function(){}}t.registerHelper("hint","auto",{resolve:T}),t.registerHelper("hint","fromList",function(u,m){var p=u.getCursor(),v=u.getTokenAt(p),C,E=t.Pos(p.line,v.start),A=p;v.start<p.ch&&/\w/.test(v.string.charAt(p.ch-v.start-1))?C=v.string.substr(0,p.ch-v.start):(C="",E=p);for(var D=[],R=0;R<m.words.length;R++){var U=m.words[R];U.slice(0,C.length)==C&&D.push(U)}if(D.length)return{list:D,from:E,to:A}}),t.commands.autocomplete=t.showHint;var f={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};t.defineOption("hintOptions",null)})});var qr=(()=>{class t{static{this.API="../nifi-api"}constructor(e){this.httpClient=e}getUser(){return this.httpClient.get(`${t.API}/flow/current-user`)}static{this.\u0275fac=function(n){return new(n||t)(x(He))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Kr=Zt("[Login Configuration] Load Login Configuration"),oi=Zt("[Login Configuration] Load Login Configuration Success",fi());var je=()=>{let t=Z(Xt),i=Z(qr),e=Z(Ce),n=Z(ae);return n.select(ki).pipe(De(1),F(o=>o?M(o):ee(t.getLoginConfiguration()).pipe(ce(a=>{n.dispatch(oi({response:{loginConfiguration:a.authenticationConfiguration}}))})))).pipe(F(o=>n.select(Un).pipe(De(1),F(a=>a.status=="success"?M(!0):ee(i.getUser()).pipe(ce(s=>{n.dispatch(jn({response:{user:s}}))}),P(()=>!0),G(s=>((s.status!==401||o.loginSupported)&&n.dispatch(e.fullScreenError(s)),M(!1))))))),G(()=>(n.dispatch(st({errorDetail:{title:"Unauthorized",message:"Unable to load authentication configuration. Please contact your system administrator."}})),M(!1))))};var ss=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ue({type:t,selectors:[["route-not-found"]],decls:4,vars:0,consts:[[1,"error-background","pt-24","pl-24","h-full"],["title","Route Not Found"],[1,"text-base"]],template:function(n,r){n&1&&(y(0,"div",0)(1,"page-content",1)(2,"div",2),S(3,"The URL entered is not recognized as a supported route."),g()()())},dependencies:[Di],styles:[`.error-background[_ngcontent-%COMP%]{background:url("./media/bg-error-GUIFCDYN.png") left top no-repeat}
















`]})}}return t})();var gm=t=>()=>{let i=Z(ae),e=Z(Xt),n=Z(Ce);return i.select(ki).pipe(F(r=>r?M(r):e.getLoginConfiguration().pipe(ce(o=>i.dispatch(oi({response:{loginConfiguration:o.authenticationConfiguration}}))))),P(r=>t(r)?!0:(i.dispatch(st({skipReplaceUrl:!0,errorDetail:{title:"Unable to load",message:"Login configuration check failed"}})),!1)),G(r=>(i.dispatch(n.fullScreenError(r,!0)),M(!1))))};function Id(t,i){if(t&1&&(y(0,"page-content",1)(1,"div",3),S(2),g()()),t&2){let e=i;z("title",e.title),_(2),_e(e.message)}}function Od(t,i){t&1&&(y(0,"page-content",2)(1,"div",3),S(2,"Please check the logs or navigate home and try again."),g()())}var ym=(()=>{class t{constructor(e){this.store=e,this.errorDetail$=this.store.select(vl)}ngOnDestroy(){this.store.dispatch(qn())}static{this.\u0275fac=function(n){return new(n||t)(re(ae))}}static{this.\u0275cmp=ue({type:t,selectors:[["error"]],decls:4,vars:3,consts:[[1,"error-background","pt-24","pl-24","h-full"],[3,"title"],["title","Error"],[1,"text-base"]],template:function(n,r){if(n&1&&(y(0,"div",0),$(1,Id,3,2,"page-content",1),Oe(2,"async"),$(3,Od,3,0,"page-content",2),g()),n&2){let o;_(),Q((o=Fe(2,1,r.errorDetail$))?1:3,o)}},dependencies:[rt,Di],styles:['.error-background[_ngcontent-%COMP%]{background:url("./media/bg-error-GUIFCDYN.png") left top no-repeat}']})}}return t})();var vm=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ue({type:t,selectors:[["logout"]],decls:4,vars:1,consts:[[1,"logout-background","pt-24","pl-24","h-full"],[3,"title"],[1,"text-sm"]],template:function(n,r){n&1&&(y(0,"div",0)(1,"page-content",1)(2,"div",2),S(3,"You have have successfully logged out. You may now close the window."),g()()()),n&2&&(_(),z("title","Logout successful"))},dependencies:[Di],encapsulation:2})}}return t})();var Fd=[{path:"login",canMatch:[gm(t=>t.loginSupported)],loadChildren:()=>import("./chunk-M5ZAGHU2.js").then(t=>t.LoginModule)},{path:"logout-complete",loadComponent:()=>vm},{path:"error",loadComponent:()=>ym},{path:"404",component:ss},{path:"documentation",canMatch:[je],loadChildren:()=>import("./chunk-IRRWTRNM.js").then(t=>t.DocumentationModule)},{path:"settings",canMatch:[je],loadChildren:()=>import("./chunk-NXBQD6U3.js").then(t=>t.SettingsModule)},{path:"provenance",canMatch:[je],loadChildren:()=>import("./chunk-QGDEU7I6.js").then(t=>t.ProvenanceModule)},{path:"parameter-contexts",canMatch:[je],loadChildren:()=>import("./chunk-EIXVTN2F.js").then(t=>t.ParameterContextsModule)},{path:"counters",canMatch:[je],loadChildren:()=>import("./chunk-NOUJ6WVJ.js").then(t=>t.CountersModule)},{path:"users",canMatch:[je],loadChildren:()=>import("./chunk-5VXFSQDM.js").then(t=>t.UsersModule)},{path:"access-policies",canMatch:[je],loadChildren:()=>import("./chunk-AOR7QGNP.js").then(t=>t.AccessPoliciesModule)},{path:"summary",canMatch:[je],loadChildren:()=>import("./chunk-TJHSLAT6.js").then(t=>t.SummaryModule)},{path:"bulletins",canMatch:[je],loadChildren:()=>import("./chunk-W5R54UE3.js").then(t=>t.BulletinsModule)},{path:"queue",canMatch:[je],loadChildren:()=>import("./chunk-UZ4Y2WTP.js").then(t=>t.QueueModule)},{path:"flow-configuration-history",canMatch:[je],loadChildren:()=>import("./chunk-LSQCEUFX.js").then(t=>t.FlowConfigurationHistoryModule)},{path:"cluster",canMatch:[je],loadChildren:()=>import("./chunk-X3BMESHZ.js").then(t=>t.ClusterModule)},{path:"content-viewer",canMatch:[je],loadChildren:()=>import("./chunk-TS2VBNM3.js").then(t=>t.ContentViewerModule)},{path:"",canMatch:[je],loadChildren:()=>import("./chunk-R4EW2JCS.js").then(t=>t.FlowDesignerModule)},{path:"**",component:ss}],Sm=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=_t({type:t})}static{this.\u0275inj=St({imports:[Oo.forRoot(Fd,{paramsInheritanceStrategy:"always",useHash:!0}),Oo]})}}return t})();function Nd(t,i){if(t&1){let e=Se();y(0,"mat-checkbox",9),te("mousedown",function(r){oe(e);let o=L();return se(o.preventDrag(r))})("change",function(){oe(e);let r=L();return se(r.setEmptyStringChanged())}),S(1,"Set empty string "),g()}}function Rd(t,i){if(t&1){let e=Se();y(0,"button",10),te("mousedown",function(r){oe(e);let o=L();return se(o.preventDrag(r))})("click",function(){oe(e);let r=L();return se(r.cancelClicked())}),S(1," Close "),g()}}function Ld(t,i){if(t&1){let e=Se();y(0,"button",11),te("mousedown",function(r){oe(e);let o=L();return se(o.preventDrag(r))})("click",function(){oe(e);let r=L();return se(r.cancelClicked())}),S(1," Cancel "),g(),y(2,"button",12),te("mousedown",function(r){oe(e);let o=L();return se(o.preventDrag(r))})("click",function(){oe(e);let r=L();return se(r.okClicked())}),S(3," Ok "),g()}if(t&2){let e=L();_(2),z("disabled",!e.textEditorForm.dirty||e.textEditorForm.invalid)}}var _m=(()=>{class t{set item(e){this.textEditorForm.get("value")?.setValue(e.entry.value);let n=e.entry.value==="";this.textEditorForm.get("setEmptyString")?.setValue(n),this.setEmptyStringChanged(),this.itemSet=!0}constructor(e,n,r){this.formBuilder=e,this.viewContainerRef=n,this.renderer=r,this.readonly=!1,this.ok=new nt,this.exit=new nt,this.blank=!1,this.itemSet=!1,this.textEditorForm=this.formBuilder.group({value:new hi(""),setEmptyString:new hi(!1)})}cancelClicked(){this.exit.next()}okClicked(){let e=this.textEditorForm.get("value"),n=this.textEditorForm.get("setEmptyString");if(e&&n){let r=e.value;r===""?n.value?this.ok.next(""):this.ok.next(null):this.ok.next(r)}}setEmptyStringChanged(){let e=this.textEditorForm.get("setEmptyString");e&&(this.blank=e.value,e.value?(this.textEditorForm.get("value")?.setValue(""),this.textEditorForm.get("value")?.disable(),this.editor&&this.editor.setOption("readOnly","nocursor")):(this.textEditorForm.get("value")?.enable(),this.editor&&this.editor.setOption("readOnly",!1)))}resized(e){this.editor.setSize("100%",e.height-112)}preventDrag(e){e.stopPropagation()}codeMirrorLoaded(e){this.editor=e.codeMirror,this.editor.setSize("100%",108),this.readonly||(this.editor.focus(),this.editor.execCommand("selectAll")),this.textEditorForm.get("setEmptyString")?.value&&(this.textEditorForm.get("value")?.disable(),this.editor.setOption("readOnly","nocursor"))}getOptions(){return{readOnly:this.readonly,lineNumbers:!0,matchBrackets:!0,theme:"nifi",extraKeys:{Enter:()=>{this.textEditorForm.dirty&&this.textEditorForm.valid&&this.okClicked()}}}}static{this.\u0275fac=function(n){return new(n||t)(re(kt),re(Oa),re(Ia))}}static{this.\u0275cmp=ue({type:t,selectors:[["text-editor"]],inputs:{item:"item",width:"width",readonly:"readonly"},outputs:{ok:"ok",exit:"exit"},decls:10,vars:9,consts:[["cdkDrag","","resizable","",1,"text-editor","mat-elevation-z8","p-4","h-full",3,"resized"],["cdkTrapFocus","",1,"h-full",3,"formGroup","cdkTrapFocusAutoCapture"],[1,"flex","flex-col","gap-y-3","relative","h-full"],[1,"flex","flex-col","gap-y-0.5","flex-1"],[1,"editor","h-full","w-full","absolute","overflow-auto"],["formControlName","value",3,"mousedown","codeMirrorLoaded","options"],["formControlName","setEmptyString"],[1,"flex","justify-end","items-center","gap-x-2"],["mat-flat-button","","type","button"],["formControlName","setEmptyString",3,"mousedown","change"],["mat-flat-button","","type","button",3,"mousedown","click"],["mat-button","","type","button",3,"mousedown","click"],["type","button","mat-flat-button","",3,"mousedown","click","disabled"]],template:function(n,r){n&1&&(y(0,"div",0),te("resized",function(a){return r.resized(a)}),y(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ngx-codemirror",5),te("mousedown",function(a){return r.preventDrag(a)})("codeMirrorLoaded",function(a){return r.codeMirrorLoaded(a)}),g(),$(6,Nd,2,0,"mat-checkbox",6),g()(),y(7,"div",7),$(8,Rd,2,0,"button",8)(9,Ld,4,1),g()()()()),n&2&&(Na("width",r.width,"px"),_(),z("formGroup",r.textEditorForm)("cdkTrapFocusAutoCapture",!r.readonly),_(3),Xe("blank",r.blank),_(),z("options",r.getOptions()),_(),Q(r.readonly?-1:6),_(2),Q(r.readonly?8:9))},dependencies:[ot,Bl,xl,jl,Vl,Re,ar,at,xt,Et,Tt,At,wt,zl],styles:[".text-editor[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px}.text-editor[_ngcontent-%COMP%]{--mdc-filled-button-container-height: 32px}.text-editor[_ngcontent-%COMP%]{--mdc-protected-button-container-height: 32px}.text-editor[_ngcontent-%COMP%]{--mdc-outlined-button-container-height: 32px}.text-editor[_ngcontent-%COMP%]{--mat-text-button-touch-target-display: block}.text-editor[_ngcontent-%COMP%]{--mat-filled-button-touch-target-display: block}.text-editor[_ngcontent-%COMP%]{--mat-protected-button-touch-target-display: block}.text-editor[_ngcontent-%COMP%]{--mat-outlined-button-touch-target-display: block}.text-editor[_ngcontent-%COMP%]{min-height:220px;min-width:245px;max-height:100vh;max-width:100vw;cursor:move}"]})}}return t})();var Hd=["trigger"],Bd=["*"],Vd=t=>({$implicit:t});function jd(t,i){if(t&1){let e=Se();y(0,"div")(1,"button",19),te("click",function(){oe(e);let r=L();return se(r.newEntryClicked())}),Y(2,"i",20),g()()}}function $d(t,i){t&1&&(y(0,"th",21),S(1,"Name"),g())}function zd(t,i){if(t&1&&(y(0,"td",22)(1,"div",6)(2,"div",23),S(3),g()()()),t&2){let e=i.$implicit;_(2),z("title",e.entry.name),_(),ie(" ",e.entry.name," ")}}function Ud(t,i){t&1&&(y(0,"th",21),S(1,"Value"),g())}function qd(t,i){t&1&&(y(0,"div",25),S(1,"No value set"),g())}function Kd(t,i){t&1&&Ra(0)}function Gd(t,i){t&1&&(y(0,"div",27),S(1,"Empty string set"),g())}function Qd(t,i){if(t&1&&Y(0,"div",28),t&2){let e=L(4);z("tooltipComponentType",e.TextTip)}}function Wd(t,i){if(t&1&&(y(0,"div",6)(1,"div",23),S(2),g(),$(3,Qd,1,1,"div",28),g()),t&2){let e=i.$implicit,n=L(3);_(),z("title",e),_(),ie(" ",e," "),_(),Q(n.hasExtraWhitespace(e)?3:-1)}}function Yd(t,i){if(t&1&&$(0,Kd,1,0,"ng-container",26)(1,Gd,2,0,"ng-template",null,2,Io)(3,Wd,4,3,"ng-template",null,3,Io),t&2){let e=en(2),n=en(4),r=L().$implicit,o=L();z("ngTemplateOutlet",o.isEmptyString(r.entry.value)?e:n)("ngTemplateOutletContext",di(2,Vd,r.entry.value))}}function Xd(t,i){if(t&1){let e=Se();y(0,"td",22)(1,"div",24,1),te("click",function(r){let o=oe(e).$implicit,a=en(2),s=L();return se(s.openEditor(a,o,r))}),$(3,qd,2,0,"div",25)(4,Yd,5,4),g()()}if(t&2){let e=i.$implicit,n=L();_(),z("id",n.formatId(e)),_(2),Q(n.isNull(e.entry.value)?3:4)}}function Zd(t,i){t&1&&Y(0,"th",21)}function Jd(t,i){if(t&1&&(y(0,"button",30),Y(1,"i",34),g()),t&2){L();let e=en(4);z("matMenuTriggerFor",e)}}function ef(t,i){if(t&1){let e=Se();y(0,"td",22)(1,"div",29),$(2,Jd,2,1,"button",30),y(3,"mat-menu",31,4)(5,"button",32),te("click",function(){let r=oe(e).$implicit,o=L();return se(o.deleteProperty(r))}),Y(6,"i",33),S(7," Delete "),g()()()()}if(t&2){let e=L();_(2),Q(e.isDisabled?-1:2)}}function tf(t,i){t&1&&Y(0,"tr",35)}function nf(t,i){if(t&1){let e=Se();y(0,"tr",36),te("click",function(){let r=oe(e).$implicit,o=L();return se(o.select(r))}),g()}if(t&2){let e=i.$implicit,n=i.even,r=L();Xe("selected",r.isSelected(e))("even",n)}}function rf(t,i){if(t&1){let e=Se();y(0,"text-editor",37),te("ok",function(r){oe(e);let o=L();return se(o.saveValue(o.editorItem,r))})("exit",function(){oe(e);let r=L();return se(r.closeEditor())}),g()}if(t&2){let e=L();z("item",e.editorItem)("width",e.editorWidth)("readonly",e.isDisabled)}}var bm=(()=>{class t{constructor(e,n){this.changeDetector=e,this.nifiCommon=n,this.reportChangesOnly=!1,this.destroyRef=Z(xi),this.itemLookup=new Map,this.displayedColumns=["name","value","actions"],this.dataSource=new nn,this.isDisabled=!1,this.isTouched=!1,this.editorOpen=!1,this.editorTrigger=null,this.editorWidth=0,this.editorOffsetX=0,this.editorOffsetY=0,this.originPos={originX:"center",originY:"center"},this.editorOverlayPos={overlayX:"center",overlayY:"center"},this.editorPositions=[],this.TextTip=ii}ngAfterViewInit(){this.initFilter(),this.valueTriggers.changes.pipe(ze(this.destroyRef)).subscribe(()=>{let e=this.dataSource.data.find(n=>n.triggerEdit);if(e){let n=this.valueTriggers.find(r=>this.formatId(e)==r.elementRef.nativeElement.getAttribute("id"));n&&(n.elementRef.nativeElement.scrollIntoView({block:"center",behavior:"instant"}),window.setTimeout(function(){n.elementRef.nativeElement.click()},0)),e.triggerEdit=!1}})}initFilter(){this.dataSource.filterPredicate=e=>this.isVisible(e),this.dataSource.filter=" "}isVisible(e){return!e.deleted}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.isDisabled=e}writeValue(e){this.itemLookup.clear();let n=0,r=[];e&&(r=e.map(o=>{let a={entry:o,id:n++,triggerEdit:!1,deleted:!1,added:!1,dirty:!1};return this.itemLookup.set(o.name,a),a})),this.setItems(r)}setItems(e){this.dataSource=new nn(e),this.initFilter()}newEntryClicked(){let e=this.dataSource.data.filter(n=>!n.deleted).map(n=>n.entry.name);this.createNew(e).pipe(De(1)).subscribe(n=>{let r=this.dataSource.data,o=r.findIndex(a=>a.entry.name==n.name);if(o>-1){let a=r[o],s=O(w({},a),{entry:n,triggerEdit:!0,deleted:!1,added:!0,dirty:!0});this.itemLookup.set(n.name,s),r[o]=s}else{let a=r.length,s={entry:n,id:a,triggerEdit:!0,deleted:!1,added:!0,dirty:!0};this.itemLookup.set(n.name,s),this.setItems([...r,s])}this.handleChanged()})}formatId(e){return"entry-"+e.id}isNull(e){return e==null}isEmptyString(e){return e==""}hasExtraWhitespace(e){return this.nifiCommon.hasLeadTrailWhitespace(e)}openEditor(e,n,r){if(r.target){let a=r.target.closest("td");if(a){let{width:s}=a.getBoundingClientRect();this.editorPositions.pop(),this.editorItem=n,this.editorTrigger=e,this.editorOpen=!0,this.editorWidth=s+100,this.editorOffsetX=8,this.editorOffsetY=80,this.editorPositions.push(new Dl(this.originPos,this.editorOverlayPos,this.editorOffsetX,this.editorOffsetY))}}}deleteProperty(e){e.deleted||(e.entry.value=null,e.deleted=!0,e.dirty=!0,this.handleChanged())}saveValue(e,n){e.entry.value!=n&&(e.entry.value=n,e.dirty=!0,this.handleChanged()),this.closeEditor()}handleChanged(){this.dataSource._updateChangeSubscription(),this.changeDetector.markForCheck(),this.isTouched||(this.isTouched=!0,this.onTouched()),this.onChange(this.serializeEntries())}serializeEntries(){let e=this.dataSource.data;return this.reportChangesOnly?e.filter(n=>n.dirty).filter(n=>!(n.added&&n.deleted)).map(n=>n.entry):e.filter(n=>!n.deleted).map(n=>n.entry)}closeEditor(){this.editorOpen=!1}select(e){this.selectedItem=e}isSelected(e){return this.selectedItem?e.entry.name==this.selectedItem.entry.name:!1}static{this.\u0275fac=function(n){return new(n||t)(re(Nn),re(Be))}}static{this.\u0275cmp=ue({type:t,selectors:[["map-table"]],viewQuery:function(n,r){if(n&1&&Xi(Hd,5),n&2){let o;Zi(o=Ji())&&(r.valueTriggers=o)}},inputs:{createNew:"createNew",reportChangesOnly:"reportChangesOnly"},features:[$a([{provide:Fl,useExisting:ba(()=>t),multi:!0}])],ngContentSelectors:Bd,decls:21,vars:10,consts:[["mapTable",""],["trigger","cdkOverlayOrigin"],["blank",""],["nonBlank",""],["actionMenu","matMenu"],[1,"map-table","flex","flex-col","h-full","gap-y-3"],[1,"flex","justify-between","items-center"],[1,"font-bold","flex-1"],[1,"listing-table","flex-1","relative"],[1,"absolute","inset-0","overflow-y-auto","overflow-x-hidden"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"selected","even","click",4,"matRowDef","matRowDefColumns"],["cdkConnectedOverlay","",3,"detach","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayBackdropClass","cdkConnectedOverlayOpen"],["title","Add","mat-icon-button","","type","button",1,"primary-icon-button",3,"click"],[1,"fa","fa-plus"],["mat-header-cell",""],["mat-cell",""],[1,"whitespace-nowrap","overflow-hidden","text-ellipsis","leading-normal",3,"title"],["cdkOverlayOrigin","",1,"pointer",3,"click","id"],[1,"unset","neutral-color"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"empty","neutral-color"],["nifiTooltip","","tooltipInputData","The specified value contains leading and/or trailing whitespace character(s). This could produce unexpected results if it was not intentional.",1,"fa","fa-info-circle","primary-color",3,"tooltipComponentType"],[1,"flex","items-center","justify-end","gap-x-2"],["mat-icon-button","","type","button",1,"h-16","w-16","flex","items-center","justify-center","icon","global-menu",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","",3,"click"],[1,"fa","fa-trash","primary-color","mr-2"],[1,"fa","fa-ellipsis-v"],["mat-header-row",""],["mat-row","",3,"click"],[3,"ok","exit","item","width","readonly"]],template:function(n,r){if(n&1){let o=Se();La(),y(0,"div",5)(1,"div",6)(2,"div",7),Ha(3),g(),$(4,jd,3,0,"div"),g(),y(5,"div",8)(6,"div",9)(7,"table",10,0),Qt(9,11),$(10,$d,2,0,"th",12)(11,zd,4,2,"td",13),Wt(),Qt(12,14),$(13,Ud,2,0,"th",12)(14,Xd,5,2,"td",13),Wt(),Qt(15,15),$(16,Zd,1,0,"th",12)(17,ef,8,1,"td",13),Wt(),$(18,tf,1,0,"tr",16)(19,nf,1,4,"tr",17),g(),$(20,rf,1,3,"ng-template",18),te("detach",function(){return oe(o),se(r.closeEditor())}),g()()()}n&2&&(_(4),Q(r.isDisabled?-1:4),_(3),z("dataSource",r.dataSource),_(11),z("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),_(),z("matRowDefColumns",r.displayedColumns),_(),z("cdkConnectedOverlayOrigin",r.editorTrigger)("cdkConnectedOverlayPositions",r.editorPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop")("cdkConnectedOverlayOpen",r.editorOpen))},dependencies:[ot,Ua,Il,Pl,er,Yn,Zn,Jn,Dt,Wn,Xn,ti,Hl,Ll,Rl,rr,nr,ir,tr,_m],encapsulation:2})}}return t})();var Em=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ue({type:t,selectors:[["copy-button"]],decls:2,vars:0,consts:[["mat-icon-button","",1,"primary-icon-button"],[1,"fa","fa-copy"]],template:function(n,r){n&1&&(y(0,"button",0),Y(1,"i",1),g())},dependencies:[Dt],encapsulation:2})}}return t})();function of(t,i){if(t&1&&(y(0,"mat-error"),S(1),g()),t&2){let e=L();_(),_e(e.getNameErrorMessage())}}var Tm=(()=>{class t extends bt{constructor(e,n){super(),this.formBuilder=e,this.data=n,this.newEntry=new nt,this.name=new hi(null,[Nl.required,this.existingEntryValidator(this.data.existingEntries)]),this.newEntryForm=e.group({name:this.name})}existingEntryValidator(e){return n=>{let r=n.value;return r===""?null:e.includes(r)?{existingEntry:!0}:null}}getNameErrorMessage(){return this.name?this.name.hasError("required")?"Name is required.":this.name.hasError("existingEntry")?"Name already exists.":"":""}addClicked(){this.newEntry.next(this.name.value)}static{this.\u0275fac=function(n){return new(n||t)(re(kt),re(Mi))}}static{this.\u0275cmp=ue({type:t,selectors:[["new-map-table-entry-dialog"]],outputs:{newEntry:"newEntry"},features:[$e],decls:15,vars:4,consts:[["mat-dialog-title",""],[1,"new-entry-form",3,"formGroup"],[1,"mb-2"],["matInput","","formControlName","name","type","text"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"click","disabled"]],template:function(n,r){n&1&&(y(0,"h2",0),S(1),g(),y(2,"form",1)(3,"mat-dialog-content")(4,"div",2)(5,"mat-form-field")(6,"mat-label"),S(7,"Name"),g(),Y(8,"input",3),$(9,of,2,1,"mat-error"),g()()(),y(10,"mat-dialog-actions",4)(11,"button",5),S(12,"Cancel"),g(),y(13,"button",6),te("click",function(){return r.addClicked()}),S(14," Ok "),g()()()),n&2&&(_(),ie("Add ",r.data.entryTypeLabel||"Entry",""),_(),z("formGroup",r.newEntryForm),_(7),Q(r.name.invalid?9:-1),_(4),z("disabled",!r.newEntryForm.dirty||r.newEntryForm.invalid))},dependencies:[ot,Re,Ge,Ue,Ke,qe,Ul,Ii,lr,Pi,at,xt,sr,Et,Tt,At,wt],styles:[`.new-entry-form[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px}.new-entry-form[_ngcontent-%COMP%]{--mdc-filled-button-container-height: 32px}.new-entry-form[_ngcontent-%COMP%]{--mdc-protected-button-container-height: 32px}.new-entry-form[_ngcontent-%COMP%]{--mdc-outlined-button-container-height: 32px}.new-entry-form[_ngcontent-%COMP%]{--mat-text-button-touch-target-display: block}.new-entry-form[_ngcontent-%COMP%]{--mat-filled-button-touch-target-display: block}.new-entry-form[_ngcontent-%COMP%]{--mat-protected-button-touch-target-display: block}.new-entry-form[_ngcontent-%COMP%]{--mat-outlined-button-touch-target-display: block}.new-entry-form[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}
















`]})}}return t})();var xm=(()=>{class t{constructor(e){this.dialog=e}createNewEntry(e){return n=>{let r=this.dialog.open(Tm,O(w({},Gn),{data:{existingEntries:n,entryTypeLabel:e}}));return r.componentInstance.newEntry.pipe(Me(r.afterClosed()),F(o=>(r.close(),M({name:o,value:null}))))}}static{this.\u0275fac=function(n){return new(n||t)(x(Ne))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Qr=Zt("[Navigation] Push Back Navigation",fi()),Wr=Zt("[Navigation] Pop Back Navigation",fi());var Yr=Zt("[Document Visibility] Document Visibility Changed",fi());function sf(t,i){t&1&&(y(0,"div",0)(1,"div",1),Y(2,"mat-spinner",2),g()())}function af(t,i){t&1&&Y(0,"router-outlet")}var Am=(()=>{class t{constructor(e,n,r,o,a){this.router=e,this.storage=n,this.themingService=r,this.dialog=o,this.store=a,this.title="nifi",this.guardLoading=!0,this.documentVisibilityListener=()=>{this.store.dispatch(Yr({change:{documentVisibility:document.visibilityState==="visible"?vn.Visible:vn.Hidden,changedTimestamp:Date.now()}}))},this.router.events.pipe(ze(),ce(c=>{c instanceof Xa&&this.dialog.openDialogs.forEach(d=>d.close("ROUTED")),c instanceof el&&(this.guardLoading=!0),(c instanceof tl||c instanceof Ja)&&(this.guardLoading=!1)}),fe(c=>c instanceof Za),P(c=>c),Ae(()=>this.store.select(Ec))).subscribe(([c,d])=>{let h=this.router.getCurrentNavigation()?.extras;if(h?.state?.backNavigation){let b=h?.state?.backNavigation;this.store.dispatch(Qr({backNavigation:b}))}else d&&this.store.dispatch(Wr({url:c.url}))});let s=this.storage.getItem("theme"),l=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;this.themingService.toggleTheme(l,s),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(c=>{s=this.storage.getItem("theme"),this.themingService.toggleTheme(c.matches,s)}),document.addEventListener("visibilitychange",this.documentVisibilityListener)}ngOnDestroy(){document.removeEventListener("visibilitychange",this.documentVisibilityListener)}static{this.\u0275fac=function(n){return new(n||t)(re(Yt),re(Kl),re(Gl),re(Ne),re(ae))}}static{this.\u0275cmp=ue({type:t,selectors:[["nifi"]],standalone:!1,decls:2,vars:1,consts:[[1,"splash","h-screen","p-20"],[1,"splash-img","h-full","flex","items-center","justify-center"],[1,"tertiary-spinner"]],template:function(n,r){n&1&&$(0,sf,3,0,"div",0)(1,af,1,0,"router-outlet"),n&2&&Q(r.guardLoading?0:1)},dependencies:[il,Jl],styles:['.splash[_ngcontent-%COMP%]   .splash-img[_ngcontent-%COMP%]{background:transparent url("./media/nifi-drop-splash-XQG4BR47.svg") no-repeat center center}']})}}return t})();var ne=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ne||{}),dt="*";function wm(t,i=null){return{type:ne.Sequence,steps:t,options:i}}function ls(t){return{type:ne.Style,styles:t,offset:null}}var Ht=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(i=0,e=0){this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},zi=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(i){this.players=i;let e=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++n==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){let e=i*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let i=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return i!=null?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Sn="!";function km(t){return new me(3e3,!1)}function lf(){return new me(3100,!1)}function cf(){return new me(3101,!1)}function mf(t){return new me(3001,!1)}function uf(t){return new me(3003,!1)}function pf(t){return new me(3004,!1)}function Mm(t,i){return new me(3005,!1)}function Pm(){return new me(3006,!1)}function Im(){return new me(3007,!1)}function Om(t,i){return new me(3008,!1)}function Fm(t){return new me(3002,!1)}function Nm(t,i,e,n,r){return new me(3010,!1)}function Rm(){return new me(3011,!1)}function Lm(){return new me(3012,!1)}function Hm(){return new me(3200,!1)}function Bm(){return new me(3202,!1)}function Vm(){return new me(3013,!1)}function jm(t){return new me(3014,!1)}function $m(t){return new me(3015,!1)}function zm(t){return new me(3016,!1)}function Um(t,i){return new me(3404,!1)}function df(t){return new me(3502,!1)}function qm(t){return new me(3503,!1)}function Km(){return new me(3300,!1)}function Gm(t){return new me(3504,!1)}function Qm(t){return new me(3301,!1)}function Wm(t,i){return new me(3302,!1)}function Ym(t){return new me(3303,!1)}function Xm(t,i){return new me(3400,!1)}function Zm(t){return new me(3401,!1)}function Jm(t){return new me(3402,!1)}function eu(t,i){return new me(3505,!1)}function Bt(t){switch(t.length){case 0:return new Ht;case 1:return t[0];default:return new zi(t)}}function ps(t,i,e=new Map,n=new Map){let r=[],o=[],a=-1,s=null;if(i.forEach(l=>{let c=l.get("offset"),d=c==a,h=d&&s||new Map;l.forEach((b,T)=>{let f=T,u=b;if(T!=="offset")switch(f=t.normalizePropertyName(f,r),u){case Sn:u=e.get(T);break;case dt:u=n.get(T);break;default:u=t.normalizeStyleValue(T,f,u,r);break}h.set(f,u)}),d||o.push(h),s=h,a=c}),r.length)throw df(r);return o}function Xr(t,i,e,n){switch(i){case"start":t.onStart(()=>n(e&&cs(e,"start",t)));break;case"done":t.onDone(()=>n(e&&cs(e,"done",t)));break;case"destroy":t.onDestroy(()=>n(e&&cs(e,"destroy",t)));break}}function cs(t,i,e){let n=e.totalTime,r=!!e.disabled,o=Zr(t.element,t.triggerName,t.fromState,t.toState,i||t.phaseName,n??t.totalTime,r),a=t._data;return a!=null&&(o._data=a),o}function Zr(t,i,e,n,r="",o=0,a){return{element:t,triggerName:i,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!a}}function We(t,i,e){let n=t.get(i);return n||t.set(i,n=e),n}function ds(t){let i=t.indexOf(":"),e=t.substring(1,i),n=t.slice(i+1);return[e,n]}var ff=typeof document>"u"?null:document.documentElement;function Jr(t){let i=t.parentNode||t.host||null;return i===ff?null:i}function hf(t){return t.substring(1,6)=="ebkit"}var _i=null,Dm=!1;function tu(t){_i||(_i=gf()||{},Dm=_i.style?"WebkitAppearance"in _i.style:!1);let i=!0;return _i.style&&!hf(t)&&(i=t in _i.style,!i&&Dm&&(i="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in _i.style)),i}function gf(){return typeof document<"u"?document.body:null}function fs(t,i){for(;i;){if(i===t)return!0;i=Jr(i)}return!1}function hs(t,i,e){if(e)return Array.from(t.querySelectorAll(i));let n=t.querySelector(i);return n?[n]:[]}var yf=1e3,gs="{{",vf="}}",ys="ng-enter",eo="ng-leave",_n="ng-trigger",Cn=".ng-trigger",vs="ng-animating",to=".ng-animating";function Ft(t){if(typeof t=="number")return t;let i=t.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:ms(parseFloat(i[1]),i[2])}function ms(t,i){switch(i){case"s":return t*yf;default:return t}}function bn(t,i,e){return t.hasOwnProperty("duration")?t:Sf(t,i,e)}function Sf(t,i,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof t=="string"){let s=t.match(n);if(s===null)return i.push(km(t)),{duration:0,delay:0,easing:""};r=ms(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(o=ms(parseFloat(l),s[4]));let c=s[5];c&&(a=c)}else r=t;if(!e){let s=!1,l=i.length;r<0&&(i.push(lf()),s=!0),o<0&&(i.push(cf()),s=!0),s&&i.splice(l,0,km(t))}return{duration:r,delay:o,easing:a}}function iu(t){return t.length?t[0]instanceof Map?t:t.map(i=>new Map(Object.entries(i))):[]}function ft(t,i,e){i.forEach((n,r)=>{let o=io(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=n})}function ai(t,i){i.forEach((e,n)=>{let r=io(n);t.style[r]=""})}function Ui(t){return Array.isArray(t)?t.length==1?t[0]:wm(t):t}function nu(t,i,e){let n=i.params||{},r=Ss(t);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(mf(o))})}var us=new RegExp(`${gs}\\s*(.+?)\\s*${vf}`,"g");function Ss(t){let i=[];if(typeof t=="string"){let e;for(;e=us.exec(t);)i.push(e[1]);us.lastIndex=0}return i}function qi(t,i,e){let n=`${t}`,r=n.replace(us,(o,a)=>{let s=i[a];return s==null&&(e.push(uf(a)),s=""),s.toString()});return r==n?t:r}var _f=/-+([a-z0-9])/g;function io(t){return t.replace(_f,(...i)=>i[1].toUpperCase())}function ru(t,i){return t===0||i===0}function ou(t,i,e){if(e.size&&i.length){let n=i[0],r=[];if(e.forEach((o,a)=>{n.has(a)||r.push(a),n.set(a,o)}),r.length)for(let o=1;o<i.length;o++){let a=i[o];r.forEach(s=>a.set(s,no(t,s)))}}return i}function Ye(t,i,e){switch(i.type){case ne.Trigger:return t.visitTrigger(i,e);case ne.State:return t.visitState(i,e);case ne.Transition:return t.visitTransition(i,e);case ne.Sequence:return t.visitSequence(i,e);case ne.Group:return t.visitGroup(i,e);case ne.Animate:return t.visitAnimate(i,e);case ne.Keyframes:return t.visitKeyframes(i,e);case ne.Style:return t.visitStyle(i,e);case ne.Reference:return t.visitReference(i,e);case ne.AnimateChild:return t.visitAnimateChild(i,e);case ne.AnimateRef:return t.visitAnimateRef(i,e);case ne.Query:return t.visitQuery(i,e);case ne.Stagger:return t.visitStagger(i,e);default:throw pf(i.type)}}function no(t,i){return window.getComputedStyle(t)[i]}var Rs=(()=>{class t{validateStyleProperty(e){return tu(e)}containsElement(e,n){return fs(e,n)}getParentElement(e){return Jr(e)}query(e,n,r){return hs(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,a,s=[],l){return new Ht(r,o)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),bi=class{static NOOP=new Rs},Ei=class{};var Cf=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),lo=class extends Ei{normalizePropertyName(i,e){return io(i)}normalizeStyleValue(i,e,n,r){let o="",a=n.toString().trim();if(Cf.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push(Mm(i,n))}return a+o}};var co="*";function bf(t,i){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(n=>Ef(n,e,i)):e.push(t),e}function Ef(t,i,e){if(t[0]==":"){let l=Tf(t,e);if(typeof l=="function"){i.push(l);return}t=l}let n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push($m(t)),i;let r=n[1],o=n[2],a=n[3];i.push(su(r,a));let s=r==co&&a==co;o[0]=="<"&&!s&&i.push(su(a,r))}function Tf(t,i){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return i.push(zm(t)),"* => *"}}var ro=new Set(["true","1"]),oo=new Set(["false","0"]);function su(t,i){let e=ro.has(t)||oo.has(t),n=ro.has(i)||oo.has(i);return(r,o)=>{let a=t==co||t==r,s=i==co||i==o;return!a&&e&&typeof r=="boolean"&&(a=r?ro.has(t):oo.has(t)),!s&&n&&typeof o=="boolean"&&(s=o?ro.has(i):oo.has(i)),a&&s}}var gu=":self",xf=new RegExp(`s*${gu}s*,?`,"g");function yu(t,i,e,n){return new xs(t).build(i,e,n)}var au="",xs=class{_driver;constructor(i){this._driver=i}build(i,e,n){let r=new As(e);return this._resetContextStyleTimingState(r),Ye(this,Ui(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector=au,i.collectedStyles=new Map,i.collectedStyles.set(au,new Map),i.currentTime=0}visitTrigger(i,e){let n=e.queryCount=0,r=e.depCount=0,o=[],a=[];return i.name.charAt(0)=="@"&&e.errors.push(Pm()),i.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==ne.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,e))}),l.name=c}else if(s.type==ne.Transition){let l=this.visitTransition(s,e);n+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(Im())}),{type:ne.Trigger,name:i.name,states:o,transitions:a,queryCount:n,depCount:r,options:null}}visitState(i,e){let n=this.visitStyle(i.styles,e),r=i.options&&i.options.params||null;if(n.containsDynamicStyles){let o=new Set,a=r||{};n.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{Ss(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(Om(i.name,[...o.values()]))}return{type:ne.State,name:i.name,style:n,options:r?{params:r}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let n=Ye(this,Ui(i.animation),e),r=bf(i.expr,e.errors);return{type:ne.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ci(i.options)}}visitSequence(i,e){return{type:ne.Sequence,steps:i.steps.map(n=>Ye(this,n,e)),options:Ci(i.options)}}visitGroup(i,e){let n=e.currentTime,r=0,o=i.steps.map(a=>{e.currentTime=n;let s=Ye(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:ne.Group,steps:o,options:Ci(i.options)}}visitAnimate(i,e){let n=Df(i.timings,e.errors);e.currentAnimateTimings=n;let r,o=i.styles?i.styles:ls({});if(o.type==ne.Keyframes)r=this.visitKeyframes(o,e);else{let a=i.styles,s=!1;if(!a){s=!0;let c={};n.easing&&(c.easing=n.easing),a=ls(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(a,e);l.isEmptyStep=s,r=l}return e.currentAnimateTimings=null,{type:ne.Animate,timings:n,style:r,options:null}}visitStyle(i,e){let n=this._makeStyleAst(i,e);return this._validateStyleAst(n,e),n}_makeStyleAst(i,e){let n=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let s of r)typeof s=="string"?s===dt?n.push(s):e.errors.push(Fm(s)):n.push(new Map(Object.entries(s)));let o=!1,a=null;return n.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let l of s.values())if(l.toString().indexOf(gs)>=0){o=!0;break}}}),{type:ne.Style,styles:n,easing:a,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,e){let n=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),i.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l),h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(Nm(l,d.startTime,d.endTime,o,r)),h=!1),o=d.startTime),h&&c.set(l,{startTime:o,endTime:r}),e.options&&nu(s,e.options,e.errors)})})}visitKeyframes(i,e){let n={type:ne.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Rm()),n;let r=1,o=0,a=[],s=!1,l=!1,c=0,d=i.steps.map(p=>{let v=this._makeStyleAst(p,e),C=v.offset!=null?v.offset:kf(v.styles),E=0;return C!=null&&(o++,E=v.offset=C),l=l||E<0||E>1,s=s||E<c,c=E,a.push(E),v});l&&e.errors.push(Lm()),s&&e.errors.push(Hm());let h=i.steps.length,b=0;o>0&&o<h?e.errors.push(Bm()):o==0&&(b=r/(h-1));let T=h-1,f=e.currentTime,u=e.currentAnimateTimings,m=u.duration;return d.forEach((p,v)=>{let C=b>0?v==T?1:b*v:a[v],E=C*m;e.currentTime=f+u.delay+E,u.duration=E,this._validateStyleAst(p,e),p.offset=C,n.styles.push(p)}),n}visitReference(i,e){return{type:ne.Reference,animation:Ye(this,Ui(i.animation),e),options:Ci(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:ne.AnimateChild,options:Ci(i.options)}}visitAnimateRef(i,e){return{type:ne.AnimateRef,animation:this.visitReference(i.animation,e),options:Ci(i.options)}}visitQuery(i,e){let n=e.currentQuerySelector,r=i.options||{};e.queryCount++,e.currentQuery=i;let[o,a]=Af(i.selector);e.currentQuerySelector=n.length?n+" "+o:o,We(e.collectedStyles,e.currentQuerySelector,new Map);let s=Ye(this,Ui(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:ne.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:i.selector,options:Ci(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(Vm());let n=i.timings==="full"?{duration:0,delay:0,easing:"full"}:bn(i.timings,e.errors,!0);return{type:ne.Stagger,animation:Ye(this,Ui(i.animation),e),timings:n,options:null}}};function Af(t){let i=!!t.split(/\s*,\s*/).find(e=>e==gu);return i&&(t=t.replace(xf,"")),t=t.replace(/@\*/g,Cn).replace(/@\w+/g,e=>Cn+"-"+e.slice(1)).replace(/:animating/g,to),[t,i]}function wf(t){return t?w({},t):null}var As=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(i){this.errors=i}};function kf(t){if(typeof t=="string")return null;let i=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function Df(t,i){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=bn(t,i).duration;return _s(o,0,"")}let e=t;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=_s(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=bn(e,i);return _s(r.duration,r.delay,r.easing)}function Ci(t){return t?(t=w({},t),t.params&&(t.params=wf(t.params))):t={},t}function _s(t,i,e){return{duration:t,delay:i,easing:e}}function Ls(t,i,e,n,r,o,a=null,s=!1){return{type:1,element:t,keyframes:i,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var Tn=class{_map=new Map;get(i){return this._map.get(i)||[]}append(i,e){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},Mf=1,Pf=":enter",If=new RegExp(Pf,"g"),Of=":leave",Ff=new RegExp(Of,"g");function vu(t,i,e,n,r,o=new Map,a=new Map,s,l,c=[]){return new ws().buildKeyframes(t,i,e,n,r,o,a,s,l,c)}var ws=class{buildKeyframes(i,e,n,r,o,a,s,l,c,d=[]){c=c||new Tn;let h=new ks(i,e,c,r,o,d,[]);h.options=l;let b=l.delay?Ft(l.delay):0;h.currentTimeline.delayNextStep(b),h.currentTimeline.setStyles([a],null,h.errors,l),Ye(this,n,h);let T=h.timelines.filter(f=>f.containsAnimation());if(T.length&&s.size){let f;for(let u=T.length-1;u>=0;u--){let m=T[u];if(m.element===e){f=m;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([s],null,h.errors,l)}return T.length?T.map(f=>f.buildKeyframes()):[Ls(e,[],[],[],0,b,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(i.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=i}visitAnimateRef(i,e){let n=e.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,n),this.visitReference(i.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,n){for(let r of i){let o=r?.delay;if(o){let a=typeof o=="number"?o:Ft(qi(o,r?.params??{},e.errors));n.delayNextStep(a)}}}_visitSubInstructions(i,e,n){let o=e.currentTimeline.currentTime,a=n.duration!=null?Ft(n.duration):null,s=n.delay!=null?Ft(n.delay):null;return a!==0&&i.forEach(l=>{let c=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(i,e){e.updateOptions(i.options,!0),Ye(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let n=e.subContextCount,r=e,o=i.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==ne.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=mo);let a=Ft(o.delay);r.delayNextStep(a)}i.steps.length&&(i.steps.forEach(a=>Ye(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let n=[],r=e.currentTimeline.currentTime,o=i.options&&i.options.delay?Ft(i.options.delay):0;i.steps.forEach(a=>{let s=e.createSubContext(i.options);o&&s.delayNextStep(o),Ye(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let n=i.strValue,r=e.params?qi(n,e.params,e.errors):n;return bn(r,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let n=e.currentAnimateTimings=this._visitTiming(i.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let o=i.style;o.type==ne.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(o):n.setStyles(i.styles,o,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,i.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=i}visitQuery(i,e){let n=e.currentTimeline.currentTime,r=i.options||{},o=r.delay?Ft(r.delay):0;o&&(e.previousNode.type===ne.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=mo);let a=n,s=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,d)=>{e.currentQueryIndex=d;let h=e.createSubContext(i.options,c);o&&h.delayNextStep(o),c===e.element&&(l=h.currentTimeline),Ye(this,i.animation,h),h.currentTimeline.applyStylesToKeyframe();let b=h.currentTimeline.currentTime;a=Math.max(a,b)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let n=e.parentContext,r=e.currentTimeline,o=i.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=n.currentStaggerTime;break}let d=e.currentTimeline;l&&d.delayNextStep(l);let h=d.currentTime;Ye(this,i.animation,e),e.previousNode=i,n.currentStaggerTime=r.currentTime-h+(r.startTime-n.currentTimeline.startTime)}},mo={},ks=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=mo;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(i,e,n,r,o,a,s,l){this._driver=i,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.currentTimeline=l||new uo(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let n=i,r=this.options;n.duration!=null&&(r.duration=Ft(n.duration)),n.delay!=null&&(r.delay=Ft(n.delay));let o=n.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=qi(o[s],a,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let n=i.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return i}createSubContext(i=null,e,n){let r=e||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(i),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(i){return this.previousNode=mo,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,n){let r={duration:e??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},o=new Ds(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,n,r,o,a){let s=[];if(r&&s.push(this.element),i.length>0){i=i.replace(If,"."+this._enterClassName),i=i.replace(Ff,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,i,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),s.push(...c)}return!o&&s.length==0&&a.push(jm(e)),s}},uo=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(i,e,n,r){this._driver=i,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new t(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Mf,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||dt),this._currentKeyframe.set(e,dt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,n,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=Nf(i,this._globalTimelineStyles);for(let[s,l]of a){let c=qi(l,o,n);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??dt),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((d,h)=>{d===Sn?i.add(h):d===dt&&e.add(h)}),n||c.set("offset",l/this.duration),r.push(c)});let o=[...i.values()],a=[...e.values()];if(n){let s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return Ls(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},Ds=class extends uo{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(i,e,n,r,o,a,s=!1){super(i,e,a.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=n+e,s=e/a,l=new Map(i[0]);l.set("offset",0),o.push(l);let c=new Map(i[0]);c.set("offset",lu(s)),o.push(c);let d=i.length-1;for(let h=1;h<=d;h++){let b=new Map(i[h]),T=b.get("offset"),f=e+T*n;b.set("offset",lu(f/a)),o.push(b)}n=a,e=0,r="",i=o}return Ls(this.element,i,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function lu(t,i=3){let e=Math.pow(10,i-1);return Math.round(t*e)/e}function Nf(t,i){let e=new Map,n;return t.forEach(r=>{if(r==="*"){n??=i.keys();for(let o of n)e.set(o,dt)}else for(let[o,a]of r)e.set(o,a)}),e}function cu(t,i,e,n,r,o,a,s,l,c,d,h,b){return{type:0,element:t,triggerName:i,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:b}}var Cs={},po=class{_triggerName;ast;_stateStyles;constructor(i,e,n){this._triggerName=i,this.ast=e,this._stateStyles=n}match(i,e,n,r){return Rf(this.ast.matchers,i,e,n,r)}buildStyles(i,e,n){let r=this._stateStyles.get("*");return i!==void 0&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(e,n):new Map}build(i,e,n,r,o,a,s,l,c,d){let h=[],b=this.ast.options&&this.ast.options.params||Cs,T=s&&s.params||Cs,f=this.buildStyles(n,T,h),u=l&&l.params||Cs,m=this.buildStyles(r,u,h),p=new Set,v=new Map,C=new Map,E=r==="void",A={params:Su(u,b),delay:this.ast.options?.delay},D=d?[]:vu(i,e,this.ast.animation,o,a,f,m,A,c,h),R=0;return D.forEach(U=>{R=Math.max(U.duration+U.delay,R)}),h.length?cu(e,this._triggerName,n,r,E,f,m,[],[],v,C,R,h):(D.forEach(U=>{let K=U.element,ye=We(v,K,new Set);U.preStyleProps.forEach(Ve=>ye.add(Ve));let we=We(C,K,new Set);U.postStyleProps.forEach(Ve=>we.add(Ve)),K!==e&&p.add(K)}),cu(e,this._triggerName,n,r,E,f,m,D,[...p.values()],v,C,R))}};function Rf(t,i,e,n,r){return t.some(o=>o(i,e,n,r))}function Su(t,i){let e=w({},i);return Object.entries(t).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var Ms=class{styles;defaultParams;normalizer;constructor(i,e,n){this.styles=i,this.defaultParams=e,this.normalizer=n}buildStyles(i,e){let n=new Map,r=Su(i,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=qi(a,r,e));let l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),n.set(s,a)})}),n}};function Lf(t,i,e){return new Ps(t,i,e)}var Ps=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(i,e,n){this.name=i,this.ast=e,this._normalizer=n,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new Ms(r.style,o,n))}),mu(this.states,"true","1"),mu(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new po(i,r,this.states))}),this.fallbackTransition=Hf(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,n,r){return this.transitionFactories.find(a=>a.match(i,e,n,r))||null}matchStyles(i,e,n){return this.fallbackTransition.buildStyles(i,e,n)}};function Hf(t,i,e){let n=[(a,s)=>!0],r={type:ne.Sequence,steps:[],options:null},o={type:ne.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new po(t,o,i)}function mu(t,i,e){t.has(i)?t.has(e)||t.set(e,t.get(i)):t.has(e)&&t.set(i,t.get(e))}var Bf=new Tn,Is=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n}register(i,e){let n=[],r=[],o=yu(this._driver,e,n,r);if(n.length)throw qm(n);this._animations.set(i,o)}_buildPlayer(i,e,n){let r=i.element,o=ps(this._normalizer,i.keyframes,e,n);return this._driver.animate(r,o,i.duration,i.delay,i.easing,[],!0)}create(i,e,n={}){let r=[],o=this._animations.get(i),a,s=new Map;if(o?(a=vu(this._driver,e,o,ys,eo,new Map,new Map,n,Bf,r),a.forEach(d=>{let h=We(s,d.element,new Map);d.postStyleProps.forEach(b=>h.set(b,null))})):(r.push(Km()),a=[]),r.length)throw Gm(r);s.forEach((d,h)=>{d.forEach((b,T)=>{d.set(T,this._driver.computeStyle(h,T,dt))})});let l=a.map(d=>{let h=s.get(d.element);return this._buildPlayer(d,new Map,h)}),c=Bt(l);return this._playersById.set(i,c),c.onDestroy(()=>this.destroy(i)),this.players.push(c),c}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw Qm(i);return e}listen(i,e,n,r){let o=Zr(e,"","","");return Xr(this._getPlayer(i),n,o,r),()=>{}}command(i,e,n,r){if(n=="register"){this.register(i,r[0]);return}if(n=="create"){let a=r[0]||{};this.create(i,e,a);return}let o=this._getPlayer(i);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i);break}}},uu="ng-animate-queued",Vf=".ng-animate-queued",bs="ng-animate-disabled",jf=".ng-animate-disabled",$f="ng-star-inserted",zf=".ng-star-inserted",Uf=[],_u={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ht="__ng_removed",xn=class{namespaceId;value;options;get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let n=i&&i.hasOwnProperty("value"),r=n?i.value:i;if(this.value=Gf(r),n){let o=i,{value:a}=o,s=ca(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},En="void",Es=new xn(En),Os=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(i,e,n){this.id=i,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+i,mt(e,this._hostClassName)}listen(i,e,n,r){if(!this._triggers.has(e))throw Wm(n,e);if(n==null||n.length==0)throw Ym(e);if(!Qf(n))throw Xm(n,e);let o=We(this._elementListeners,i,[]),a={name:e,phase:n,callback:r};o.push(a);let s=We(this._engine.statesByElement,i,new Map);return s.has(e)||(mt(i,_n),mt(i,_n+"-"+e),s.set(e,Es)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw Zm(i);return e}trigger(i,e,n,r=!0){let o=this._getTrigger(e),a=new An(this.id,e,i),s=this._engine.statesByElement.get(i);s||(mt(i,_n),mt(i,_n+"-"+e),this._engine.statesByElement.set(i,s=new Map));let l=s.get(e),c=new xn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=Es),!(c.value===En)&&l.value===c.value){if(!Xf(l.params,c.params)){let u=[],m=o.matchStyles(l.value,l.params,u),p=o.matchStyles(c.value,c.params,u);u.length?this._engine.reportError(u):this._engine.afterFlush(()=>{ai(i,m),ft(i,p)})}return}let b=We(this._engine.playersByElement,i,[]);b.forEach(u=>{u.namespaceId==this.id&&u.triggerName==e&&u.queued&&u.destroy()});let T=o.matchTransition(l.value,c.value,i,c.params),f=!1;if(!T){if(!r)return;T=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:T,fromState:l,toState:c,player:a,isFallbackTransition:f}),f||(mt(i,uu),a.onStart(()=>{Ki(i,uu)})),a.onDone(()=>{let u=this.players.indexOf(a);u>=0&&this.players.splice(u,1);let m=this._engine.playersByElement.get(i);if(m){let p=m.indexOf(a);p>=0&&m.splice(p,1)}}),this.players.push(a),b.push(a),a}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let n=this._engine.driver.query(i,Cn,!0);n.forEach(r=>{if(r[ht])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,e,n,r){let o=this._engine.statesByElement.get(i),a=new Map;if(o){let s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let d=this.trigger(i,c,En,r);d&&s.push(d)}}),s.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,a),n&&Bt(s).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(e&&n){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let l=this._triggers.get(a).fallbackTransition,c=n.get(a)||Es,d=new xn(En),h=new An(this.id,a,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:a,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(i,e){let n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(i):[];if(o&&o.length)r=!0;else{let a=i;for(;a=a.parentNode;)if(n.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)n.markElementAsRemoved(this.id,i,!1,e);else{let o=i[ht];(!o||o===_u)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,e))}}insertNode(i,e){mt(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==n.triggerName){let l=Zr(o,n.triggerName,n.fromState.value,n.toState.value);l._data=i,Xr(n.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let o=n.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},Fs=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(i,e)=>{};_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,n){this.bodyNode=i,this.driver=e,this._normalizer=n}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,e){let n=new Os(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let l=r.get(s);if(l){let c=n.indexOf(l);n.splice(c+1,0,i),a=!0;break}s=this.driver.getParentElement(s)}a||n.unshift(i)}else n.push(i);return r.set(e,i),i}register(i,e){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,e)),n}registerTrigger(i,e,n){let r=this._namespaceLookup[i];r&&r.register(e,n)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,n=this.statesByElement.get(i);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(i,e,n,r){if(so(e)){let o=this._fetchNamespace(i);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(i,e,n,r){if(!so(e))return;let o=e[ht];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(i){let a=this._fetchNamespace(i);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),mt(i,bs)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Ki(i,bs))}removeNode(i,e,n){if(so(e)){let r=i?this._fetchNamespace(i):null;r?r.removeNode(e,n):this.markElementAsRemoved(i,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==i&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(i,e,n,r,o){this.collectedLeaveElements.push(e),e[ht]={namespaceId:i,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(i,e,n,r,o){return so(e)?this._fetchNamespace(i).listen(e,n,r,o):()=>{}}_buildInstruction(i,e,n,r,o){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,r,i.fromState.options,i.toState.options,e,o)}destroyInnerAnimations(i){let e=this.driver.query(i,Cn,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,to,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Bt(this.players).onDone(()=>i());i()})}processLeaveNode(i){let e=i[ht];if(e&&e.setForRemoval){if(i[ht]=_u,e.namespaceId){this.destroyInnerAnimations(i);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(bs)&&this.markElementAsDisabled(i,!1),this.driver.query(i,jf,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];mt(r,$f)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,i)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?Bt(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(i){throw Jm(i)}_flushAnimations(i,e){let n=new Tn,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(B=>{d.add(B);let V=this.driver.query(B,Vf,!0);for(let q=0;q<V.length;q++)d.add(V[q])});let h=this.bodyNode,b=Array.from(this.statesByElement.keys()),T=fu(b,this.collectedEnterElements),f=new Map,u=0;T.forEach((B,V)=>{let q=ys+u++;f.set(V,q),B.forEach(J=>mt(J,q))});let m=[],p=new Set,v=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){let V=this.collectedLeaveElements[B],q=V[ht];q&&q.setForRemoval&&(m.push(V),p.add(V),q.hasAnimation?this.driver.query(V,zf,!0).forEach(J=>p.add(J)):v.add(V))}let C=new Map,E=fu(b,Array.from(p));E.forEach((B,V)=>{let q=eo+u++;C.set(V,q),B.forEach(J=>mt(J,q))}),i.push(()=>{T.forEach((B,V)=>{let q=f.get(V);B.forEach(J=>Ki(J,q))}),E.forEach((B,V)=>{let q=C.get(V);B.forEach(J=>Ki(J,q))}),m.forEach(B=>{this.processLeaveNode(B)})});let A=[],D=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(e).forEach(q=>{let J=q.player,ve=q.element;if(A.push(J),this.collectedEnterElements.length){let Te=ve[ht];if(Te&&Te.setForMove){if(Te.previousTriggersValues&&Te.previousTriggersValues.has(q.triggerName)){let ut=Te.previousTriggersValues.get(q.triggerName),xe=this.statesByElement.get(q.element);if(xe&&xe.has(q.triggerName)){let yt=xe.get(q.triggerName);yt.value=ut,xe.set(q.triggerName,yt)}}J.destroy();return}}let Pe=!h||!this.driver.containsElement(h,ve),k=C.get(ve),le=f.get(ve),X=this._buildInstruction(q,n,le,k,Pe);if(X.errors&&X.errors.length){D.push(X);return}if(Pe){J.onStart(()=>ai(ve,X.fromStyles)),J.onDestroy(()=>ft(ve,X.toStyles)),r.push(J);return}if(q.isFallbackTransition){J.onStart(()=>ai(ve,X.fromStyles)),J.onDestroy(()=>ft(ve,X.toStyles)),r.push(J);return}let pe=[];X.timelines.forEach(Te=>{Te.stretchStartingKeyframe=!0,this.disabledNodes.has(Te.element)||pe.push(Te)}),X.timelines=pe,n.append(ve,X.timelines);let Ie={instruction:X,player:J,element:ve};a.push(Ie),X.queriedElements.forEach(Te=>We(s,Te,[]).push(J)),X.preStyleProps.forEach((Te,ut)=>{if(Te.size){let xe=l.get(ut);xe||l.set(ut,xe=new Set),Te.forEach((yt,vt)=>xe.add(vt))}}),X.postStyleProps.forEach((Te,ut)=>{let xe=c.get(ut);xe||c.set(ut,xe=new Set),Te.forEach((yt,vt)=>xe.add(vt))})});if(D.length){let B=[];D.forEach(V=>{B.push(eu(V.triggerName,V.errors))}),A.forEach(V=>V.destroy()),this.reportError(B)}let R=new Map,U=new Map;a.forEach(B=>{let V=B.element;n.has(V)&&(U.set(V,V),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,R))}),r.forEach(B=>{let V=B.element;this._getPreviousPlayers(V,!1,B.namespaceId,B.triggerName,null).forEach(J=>{We(R,V,[]).push(J),J.destroy()})});let K=m.filter(B=>hu(B,l,c)),ye=new Map;du(ye,this.driver,v,c,dt).forEach(B=>{hu(B,l,c)&&K.push(B)});let Ve=new Map;T.forEach((B,V)=>{du(Ve,this.driver,new Set(B),l,Sn)}),K.forEach(B=>{let V=ye.get(B),q=Ve.get(B);ye.set(B,new Map([...V?.entries()??[],...q?.entries()??[]]))});let et=[],li=[],tt={};a.forEach(B=>{let{element:V,player:q,instruction:J}=B;if(n.has(V)){if(d.has(V)){q.onDestroy(()=>ft(V,J.toStyles)),q.disabled=!0,q.overrideTotalTime(J.totalTime),r.push(q);return}let ve=tt;if(U.size>1){let k=V,le=[];for(;k=k.parentNode;){let X=U.get(k);if(X){ve=X;break}le.push(k)}le.forEach(X=>U.set(X,ve))}let Pe=this._buildAnimation(q.namespaceId,J,R,o,Ve,ye);if(q.setRealPlayer(Pe),ve===tt)et.push(q);else{let k=this.playersByElement.get(ve);k&&k.length&&(q.parentPlayer=Bt(k)),r.push(q)}}else ai(V,J.fromStyles),q.onDestroy(()=>ft(V,J.toStyles)),li.push(q),d.has(V)&&r.push(q)}),li.forEach(B=>{let V=o.get(B.element);if(V&&V.length){let q=Bt(V);B.setRealPlayer(q)}}),r.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<m.length;B++){let V=m[B],q=V[ht];if(Ki(V,eo),q&&q.hasAnimation)continue;let J=[];if(s.size){let Pe=s.get(V);Pe&&Pe.length&&J.push(...Pe);let k=this.driver.query(V,to,!0);for(let le=0;le<k.length;le++){let X=s.get(k[le]);X&&X.length&&J.push(...X)}}let ve=J.filter(Pe=>!Pe.destroyed);ve.length?Wf(this,V,ve):this.processLeaveNode(V)}return m.length=0,et.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();let V=this.players.indexOf(B);this.players.splice(V,1)}),B.play()}),et}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,n,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(i);s&&(a=s)}else{let s=this.playersByElement.get(i);if(s){let l=!o||o==En;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(n||r)&&(a=a.filter(s=>!(n&&n!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(i,e,n){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:i,s=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,d=c!==o,h=We(n,c,[]);this._getPreviousPlayers(c,d,a,s,e.toState).forEach(T=>{let f=T.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),T.destroy(),h.push(T)})}ai(o,e.fromStyles)}_buildAnimation(i,e,n,r,o,a){let s=e.triggerName,l=e.element,c=[],d=new Set,h=new Set,b=e.timelines.map(f=>{let u=f.element;d.add(u);let m=u[ht];if(m&&m.removedBeforeQueried)return new Ht(f.duration,f.delay);let p=u!==l,v=Yf((n.get(u)||Uf).map(R=>R.getRealPlayer())).filter(R=>{let U=R;return U.element?U.element===u:!1}),C=o.get(u),E=a.get(u),A=ps(this._normalizer,f.keyframes,C,E),D=this._buildPlayer(f,A,v);if(f.subTimeline&&r&&h.add(u),p){let R=new An(i,s,u);R.setRealPlayer(D),c.push(R)}return D});c.forEach(f=>{We(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>Kf(this.playersByQueriedElement,f.element,f))}),d.forEach(f=>mt(f,vs));let T=Bt(b);return T.onDestroy(()=>{d.forEach(f=>Ki(f,vs)),ft(l,e.toStyles)}),h.forEach(f=>{We(r,f,[]).push(T)}),T}_buildPlayer(i,e,n){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,n):new Ht(i.duration,i.delay)}},An=class{namespaceId;triggerName;element;_player=new Ht;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(i,e,n){this.namespaceId=i,this.triggerName=e,this.element=n}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Xr(i,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){We(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function Kf(t,i,e){let n=t.get(i);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&t.delete(i)}return n}function Gf(t){return t??null}function so(t){return t&&t.nodeType===1}function Qf(t){return t=="start"||t=="done"}function pu(t,i){let e=t.style.display;return t.style.display=i??"none",e}function du(t,i,e,n,r){let o=[];e.forEach(l=>o.push(pu(l)));let a=[];n.forEach((l,c)=>{let d=new Map;l.forEach(h=>{let b=i.computeStyle(c,h,r);d.set(h,b),(!b||b.length==0)&&(c[ht]=qf,a.push(c))}),t.set(c,d)});let s=0;return e.forEach(l=>pu(l,o[s++])),a}function fu(t,i){let e=new Map;if(t.forEach(s=>e.set(s,[])),i.length==0)return e;let n=1,r=new Set(i),o=new Map;function a(s){if(!s)return n;let l=o.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:r.has(c)?l=n:l=a(c),o.set(s,l),l}return i.forEach(s=>{let l=a(s);l!==n&&e.get(l).push(s)}),e}function mt(t,i){t.classList?.add(i)}function Ki(t,i){t.classList?.remove(i)}function Wf(t,i,e){Bt(e).onDone(()=>t.processLeaveNode(i))}function Yf(t){let i=[];return Cu(t,i),i}function Cu(t,i){for(let e=0;e<t.length;e++){let n=t[e];n instanceof zi?Cu(n.players,i):i.push(n)}}function Xf(t,i){let e=Object.keys(t),n=Object.keys(i);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!i.hasOwnProperty(o)||t[o]!==i[o])return!1}return!0}function hu(t,i,e){let n=e.get(t);if(!n)return!1;let r=i.get(t);return r?n.forEach(o=>r.add(o)):i.set(t,n),e.delete(t),!0}var Gi=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(i,e)=>{};constructor(i,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new Fs(i.body,e,n),this._timelineEngine=new Is(i.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(i,e,n,r,o){let a=i+"-"+r,s=this._triggerCache[a];if(!s){let l=[],c=[],d=yu(this._driver,o,l,c);if(l.length)throw Um(r,l);s=Lf(r,d,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,n,r){this._transitionEngine.insertNode(i,e,n,r)}onRemove(i,e,n){this._transitionEngine.removeNode(i,e,n)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,n,r){if(n.charAt(0)=="@"){let[o,a]=ds(n),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(i,e,n,r)}listen(i,e,n,r,o){if(n.charAt(0)=="@"){let[a,s]=ds(n);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(i,e,n,r,o)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function Zf(t,i){let e=null,n=null;return Array.isArray(i)&&i.length?(e=Ts(i[0]),i.length>1&&(n=Ts(i[i.length-1]))):i instanceof Map&&(e=Ts(i)),e||n?new Jf(t,e,n):null}var Jf=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ft(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ft(this._element,this._initialStyles),this._endStyles&&(ft(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ai(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ai(this._element,this._endStyles),this._endStyles=null),ft(this._element,this._initialStyles),this._state=3)}}return t})();function Ts(t){let i=null;return t.forEach((e,n)=>{eh(n)&&(i=i||new Map,i.set(n,e))}),i}function eh(t){return t==="display"||t==="position"}var fo=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(i,e,n,r){this.element=i,this.keyframes=e,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(i,e,n){return i.animate(this._convertKeyframesToObject(e),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&i.set(r,this._finished?n:no(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},ho=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return fs(i,e)}getParentElement(i){return Jr(i)}query(i,e,n){return hs(i,e,n)}computeStyle(i,e,n){return no(i,e)}animate(i,e,n,r,o,a=[]){let s=r==0?"both":"forwards",l={duration:n,delay:r,fill:s};o&&(l.easing=o);let c=new Map,d=a.filter(T=>T instanceof fo);ru(n,r)&&d.forEach(T=>{T.currentSnapshot.forEach((f,u)=>c.set(u,f))});let h=iu(e).map(T=>new Map(T));h=ou(i,h,c);let b=Zf(i,h);return new fo(i,h,l,b)}};var ao="@",bu="@.disabled",go=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(i,e,n,r){this.namespaceId=i,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,n,r=!0){this.delegate.insertBefore(i,e,n),this.engine.onInsert(this.namespaceId,e,i,r)}removeChild(i,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,r){this.delegate.setAttribute(i,e,n,r)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,r){this.delegate.setStyle(i,e,n,r)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){e.charAt(0)==ao&&e==bu?this.disableAnimations(i,!!n):this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n,r){return this.delegate.listen(i,e,n,r)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},Ns=class extends go{factory;constructor(i,e,n,r,o){super(e,n,r,o),this.factory=i,this.namespaceId=e}setProperty(i,e,n){e.charAt(0)==ao?e.charAt(1)=="."&&e==bu?(n=n===void 0?!0:!!n,this.disableAnimations(i,n)):this.engine.process(this.namespaceId,i,e.slice(1),n):this.delegate.setProperty(i,e,n)}listen(i,e,n,r){if(e.charAt(0)==ao){let o=th(i),a=e.slice(1),s="";return a.charAt(0)!=ao&&([a,s]=ih(a)),this.engine.listen(this.namespaceId,o,a,s,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(i,e,n,r)}};function th(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function ih(t){let i=t.indexOf("."),e=t.substring(0,i),n=t.slice(i+1);return[e,n]}var yo=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(i,e,n){this.delegate=i,this.engine=e,this._zone=n,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(i,e){let n="",r=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let c=this._rendererCache,d=c.get(r);if(!d){let h=()=>c.delete(r);d=new go(n,r,this.engine,h),c.set(r,d)}return d}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(o,a,i,c.name,c)};return e.data.animation.forEach(s),new Ns(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,n){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(i){this.engine.flush(),this.delegate.componentReplaced?.(i)}};var rh=(()=>{class t extends Gi{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||t)(x(Rn),x(bi),x(Ei))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();function oh(){return new lo}function sh(t,i,e){return new yo(t,i,e)}var Eu=[{provide:Ei,useFactory:oh},{provide:Gi,useClass:rh},{provide:Pa,useFactory:sh,deps:[Ka,Gi,Ai]}],Tu=[{provide:bi,useClass:Rs},{provide:Yi,useValue:"NoopAnimations"},...Eu],Hs=[{provide:bi,useFactory:()=>new ho},{provide:Yi,useFactory:()=>"BrowserAnimations"},...Eu],xu=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Tu:Hs}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=_t({type:t});static \u0275inj=St({providers:Hs,imports:[Ln]})}return t})();function Au(){return wa("NgEagerAnimations"),[...Hs]}function wu(){return[...Tu]}var kn="PERFORM_ACTION",ah="REFRESH",Ou="RESET",Fu="ROLLBACK",Nu="COMMIT",Ru="SWEEP",Lu="TOGGLE_ACTION",lh="SET_ACTIONS_ACTIVE",Hu="JUMP_TO_STATE",Bu="JUMP_TO_ACTION",Xs="IMPORT_STATE",Vu="LOCK_CHANGES",ju="PAUSE_RECORDING",Qi=class{constructor(i,e){if(this.action=i,this.timestamp=e,this.type=kn,typeof i.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Bs=class{constructor(){this.type=ah}},Vs=class{constructor(i){this.timestamp=i,this.type=Ou}},js=class{constructor(i){this.timestamp=i,this.type=Fu}},$s=class{constructor(i){this.timestamp=i,this.type=Nu}},zs=class{constructor(){this.type=Ru}},Us=class{constructor(i){this.id=i,this.type=Lu}};var qs=class{constructor(i){this.index=i,this.type=Hu}},Ks=class{constructor(i){this.actionId=i,this.type=Bu}},Gs=class{constructor(i){this.nextLiftedState=i,this.type=Xs}},Qs=class{constructor(i){this.status=i,this.type=Vu}},Ws=class{constructor(i){this.status=i,this.type=ju}};var Co=new qt("@ngrx/store-devtools Options"),ku=new qt("@ngrx/store-devtools Initial Config");function $u(){return null}var ch="NgRx Store DevTools";function mh(t){let i={maxAge:!1,monitor:$u,actionSanitizer:void 0,stateSanitizer:void 0,name:ch,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof t=="function"?t():t,n=e.logOnly?{pause:!0,export:!0,test:!0}:!1,r=e.features||n||i.features;r.import===!0&&(r.import="custom");let o=Object.assign({},i,{features:r},e);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function Du(t,i){return t.filter(e=>i.indexOf(e)<0)}function zu(t){let{computedStates:i,currentStateIndex:e}=t;if(e>=i.length){let{state:r}=i[i.length-1];return r}let{state:n}=i[e];return n}function wn(t){return new Qi(t,+Date.now())}function uh(t,i){return Object.keys(i).reduce((e,n)=>{let r=Number(n);return e[r]=Uu(t,i[r],r),e},{})}function Uu(t,i,e){return O(w({},i),{action:t(i.action,e)})}function ph(t,i){return i.map((e,n)=>({state:qu(t,e.state,n),error:e.error}))}function qu(t,i,e){return t(i,e)}function Ku(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function dh(t,i,e,n){let r=[],o={},a=[];return t.stagedActionIds.forEach((s,l)=>{let c=t.actionsById[s];c&&(l&&Zs(t.computedStates[l],c,i,e,n)||(o[s]=c,r.push(s),a.push(t.computedStates[l])))}),O(w({},t),{stagedActionIds:r,actionsById:o,computedStates:a})}function Zs(t,i,e,n,r){let o=e&&!e(t,i.action),a=n&&!i.action.type.match(n.map(l=>Mu(l)).join("|")),s=r&&i.action.type.match(r.map(l=>Mu(l)).join("|"));return o||a||s}function Mu(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gu(t){return{ngZone:t?Z(Ai):null,connectInZone:t}}var bo=(()=>{class t extends Bn{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ta(t)))(r||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),vo={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Ys=new qt("@ngrx/store-devtools Redux Devtools Extension"),Qu=(()=>{class t{constructor(e,n,r){this.config=n,this.dispatcher=r,this.zoneConfig=Gu(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,n){if(this.devtoolsExtension)if(e.type===kn){if(n.isLocked||n.isPaused)return;let r=zu(n);if(Ku(this.config)&&Zs(r,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?qu(this.config.stateSanitizer,r,n.currentStateIndex):r,a=this.config.actionSanitizer?Uu(this.config.actionSanitizer,e,n.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,o))}else{let r=O(w({},n),{stagedActionIds:n.stagedActionIds,actionsById:this.config.actionSanitizer?uh(this.config.actionSanitizer,n.actionsById):n.actionsById,computedStates:this.config.stateSanitizer?ph(this.config.stateSanitizer,n.computedStates):n.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Mo(e=>{let n=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=n,n.init(),n.subscribe(r=>e.next(r)),n.unsubscribe}):pa}createActionStreams(){let e=this.createChangesObservable().pipe(Sa()),n=e.pipe(fe(c=>c.type===vo.START)),r=e.pipe(fe(c=>c.type===vo.STOP)),o=e.pipe(fe(c=>c.type===vo.DISPATCH),P(c=>this.unwrapAction(c.payload)),ha(c=>c.type===Xs?this.dispatcher.pipe(fe(d=>d.type===No),fa(1e3),mi(1e3),P(()=>c),G(()=>M(c)),De(1)):M(c))),s=e.pipe(fe(c=>c.type===vo.ACTION),P(c=>this.unwrapAction(c.payload))).pipe(Me(r)),l=o.pipe(Me(r));this.start$=n.pipe(Me(r)),this.actions$=this.start$.pipe(F(()=>s)),this.liftedActions$=this.start$.pipe(F(()=>l))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){let n={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(n.maxAge=e.maxAge),n}sendToReduxDevtools(e){try{e()}catch(n){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",n)}}static{this.\u0275fac=function(n){return new(n||t)(x(Ys),x(Co),x(bo))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),_o={type:Fo},fh="@ngrx/store-devtools/recompute",hh={type:fh};function Wu(t,i,e,n,r){if(n)return{state:e,error:"Interrupted by an error up the chain"};let o=e,a;try{o=t(e,i)}catch(s){a=s.toString(),r.handleError(s)}return{state:o,error:a}}function So(t,i,e,n,r,o,a,s,l){if(i>=t.length&&t.length===o.length)return t;let c=t.slice(0,i),d=o.length-(l?1:0);for(let h=i;h<d;h++){let b=o[h],T=r[b].action,f=c[h-1],u=f?f.state:n,m=f?f.error:void 0,v=a.indexOf(b)>-1?f:Wu(e,T,u,m,s);c.push(v)}return l&&c.push(t[t.length-1]),c}function gh(t,i){return{monitorState:i(void 0,{}),nextActionId:1,actionsById:{0:wn(_o)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function yh(t,i,e,n,r={}){return o=>(a,s)=>{let{monitorState:l,actionsById:c,nextActionId:d,stagedActionIds:h,skippedActionIds:b,committedState:T,currentStateIndex:f,computedStates:u,isLocked:m,isPaused:p}=a||i;a||(c=Object.create(c));function v(A){let D=A,R=h.slice(1,D+1);for(let U=0;U<R.length;U++)if(u[U+1].error){D=U,R=h.slice(1,D+1);break}else delete c[R[U]];b=b.filter(U=>R.indexOf(U)===-1),h=[0,...h.slice(D+1)],T=u[D].state,u=u.slice(D),f=f>D?f-D:0}function C(){c={0:wn(_o)},d=1,h=[0],b=[],T=u[f].state,f=0,u=[]}let E=0;switch(s.type){case Vu:{m=s.status,E=1/0;break}case ju:{p=s.status,p?(h=[...h,d],c[d]=new Qi({type:"@ngrx/devtools/pause"},+Date.now()),d++,E=h.length-1,u=u.concat(u[u.length-1]),f===h.length-2&&f++,E=1/0):C();break}case Ou:{c={0:wn(_o)},d=1,h=[0],b=[],T=t,f=0,u=[];break}case Nu:{C();break}case Fu:{c={0:wn(_o)},d=1,h=[0],b=[],f=0,u=[];break}case Lu:{let{id:A}=s;b.indexOf(A)===-1?b=[A,...b]:b=b.filter(R=>R!==A),E=h.indexOf(A);break}case lh:{let{start:A,end:D,active:R}=s,U=[];for(let K=A;K<D;K++)U.push(K);R?b=Du(b,U):b=[...b,...U],E=h.indexOf(A);break}case Hu:{f=s.index,E=1/0;break}case Bu:{let A=h.indexOf(s.actionId);A!==-1&&(f=A),E=1/0;break}case Ru:{h=Du(h,b),b=[],f=Math.min(f,h.length-1);break}case kn:{if(m)return a||i;if(p||a&&Zs(a.computedStates[f],s,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let D=u[u.length-1];u=[...u.slice(0,-1),Wu(o,s.action,D.state,D.error,e)],E=1/0;break}r.maxAge&&h.length===r.maxAge&&v(1),f===h.length-1&&f++;let A=d++;c[A]=s,h=[...h,A],E=h.length-1;break}case Xs:{({monitorState:l,actionsById:c,nextActionId:d,stagedActionIds:h,skippedActionIds:b,committedState:T,currentStateIndex:f,computedStates:u,isLocked:m,isPaused:p}=s.nextLiftedState);break}case Fo:{E=0,r.maxAge&&h.length>r.maxAge&&(u=So(u,E,o,T,c,h,b,e,p),v(h.length-r.maxAge),E=1/0);break}case No:{if(u.filter(D=>D.error).length>0)E=0,r.maxAge&&h.length>r.maxAge&&(u=So(u,E,o,T,c,h,b,e,p),v(h.length-r.maxAge),E=1/0);else{if(!p&&!m){f===h.length-1&&f++;let D=d++;c[D]=new Qi(s,+Date.now()),h=[...h,D],E=h.length-1,u=So(u,E,o,T,c,h,b,e,p)}u=u.map(D=>O(w({},D),{state:o(D.state,hh)})),f=h.length-1,r.maxAge&&h.length>r.maxAge&&v(h.length-r.maxAge),E=1/0}break}default:{E=1/0;break}}return u=So(u,E,o,T,c,h,b,e,p),l=n(l,s),{monitorState:l,actionsById:c,nextActionId:d,stagedActionIds:h,skippedActionIds:b,committedState:T,currentStateIndex:f,computedStates:u,isLocked:m,isPaused:p}}}var Pu=(()=>{class t{constructor(e,n,r,o,a,s,l,c){let d=gh(l,c.monitor),h=yh(l,d,s,c.monitor,c),b=Po(Po(n.asObservable().pipe(_a(1)),o.actions$).pipe(P(wn)),e,o.liftedActions$).pipe(da(ua)),T=r.pipe(P(h)),f=Gu(c.connectInZone),u=new ma(1);this.liftedStateSubscription=b.pipe(Ca(T),Iu(f),va(({state:v},[C,E])=>{let A=E(v,C);return C.type!==kn&&Ku(c)&&(A=dh(A,c.predicate,c.actionsSafelist,c.actionsBlocklist)),o.notify(C,A),{state:A,action:C}},{state:d,action:null})).subscribe(({state:v,action:C})=>{if(u.next(v),C.type===kn){let E=C.action;a.next(E)}}),this.extensionStartSubscription=o.start$.pipe(Iu(f)).subscribe(()=>{this.refresh()});let m=u.asObservable(),p=m.pipe(P(zu));Object.defineProperty(p,"state",{value:nl(p,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=m,this.state=p}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new Qi(e,+Date.now()))}refresh(){this.dispatch(new Bs)}reset(){this.dispatch(new Vs(+Date.now()))}rollback(){this.dispatch(new js(+Date.now()))}commit(){this.dispatch(new $s(+Date.now()))}sweep(){this.dispatch(new zs)}toggleAction(e){this.dispatch(new Us(e))}jumpToAction(e){this.dispatch(new Ks(e))}jumpToState(e){this.dispatch(new qs(e))}importState(e){this.dispatch(new Gs(e))}lockChanges(e){this.dispatch(new Qs(e))}pauseRecording(e){this.dispatch(new Ws(e))}static{this.\u0275fac=function(n){return new(n||t)(x(bo),x(Bn),x(ol),x(Qu),x(al),x(xa),x(rl),x(Co))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function Iu({ngZone:t,connectInZone:i}){return e=>i?new Mo(n=>e.subscribe({next:r=>t.run(()=>n.next(r)),error:r=>t.run(()=>n.error(r)),complete:()=>t.run(()=>n.complete())})):e}var vh=new qt("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Sh(t,i){return!!t||i.monitor!==$u}function _h(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function Ch(t){return t.state}function bh(t={}){return Ea([Qu,bo,Pu,{provide:ku,useValue:t},{provide:vh,deps:[Ys,Co],useFactory:Sh},{provide:Ys,useFactory:_h},{provide:Co,deps:[ku],useFactory:mh},{provide:ll,deps:[Pu],useFactory:Ch},{provide:sl,useExisting:bo}])}var Yu=(()=>{class t{static instrument(e={}){return{ngModule:t,providers:[bh(e)]}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=_t({type:t})}static{this.\u0275inj=St({})}}return t})();var Xu={production:!0};var Eh={processorTypes:[],controllerServiceTypes:[],prioritizerTypes:[],reportingTaskTypes:[],registryClientTypes:[],flowAnalysisRuleTypes:[],parameterProviderTypes:[],status:"pending"},Zu=he(Eh,H(ur,t=>O(w({},t),{status:"loading"})),H(pr,(t,{response:i})=>O(w({},t),{processorTypes:i.processorTypes,controllerServiceTypes:i.controllerServiceTypes,prioritizerTypes:i.prioritizers,status:"success"})),H(dr,(t,{response:i})=>O(w({},t),{controllerServiceTypes:i.controllerServiceTypes,reportingTaskTypes:i.reportingTaskTypes,registryClientTypes:i.registryClientTypes,parameterProviderTypes:i.parameterProviderTypes,flowAnalysisRuleTypes:i.flowAnalysisRuleTypes,status:"success"})),H(fr,(t,{response:i})=>O(w({},t),{processorTypes:i.processorTypes,controllerServiceTypes:i.controllerServiceTypes,reportingTaskTypes:i.reportingTaskTypes,parameterProviderTypes:i.parameterProviderTypes,flowAnalysisRuleTypes:i.flowAnalysisRuleTypes,status:"success"})),H(hr,(t,{response:i})=>O(w({},t),{processorTypes:i.processorTypes,controllerServiceTypes:i.controllerServiceTypes,reportingTaskTypes:i.reportingTaskTypes,parameterProviderTypes:i.parameterProviderTypes,flowAnalysisRuleTypes:i.flowAnalysisRuleTypes,status:"success"})));var Th={about:null,status:"pending"},Ju=he(Th,H(br,t=>O(w({},t),{status:"loading"})),H(Er,(t,{response:i})=>O(w({},t),{about:i.about,status:"success"})));var Eo="status-history";var Dn={statusHistory:{},status:"pending",loadedTimestamp:""},ep=he(Dn,H(gi,gr,t=>O(w({},t),{status:"loading"})),H(Ni,rn,(t,{response:i})=>O(w({},t),{status:"success",loadedTimestamp:i.statusHistory.statusHistory.generated,statusHistory:i.statusHistory})),H(on,t=>O(w({},t),{status:"error"})),H(pc,()=>w({},Dn)),H(yr,vr,()=>w({},Dn)));var tp={setEnableRequest:{enable:!0,currentStep:de.Pending,scope:"SERVICE_ONLY"},controllerService:null,status:"pending"},ip=he(tp,H(Bc,()=>w({},tp)),H(Vc,(t,{request:i})=>O(w({},t),{controllerService:i.controllerService})),H(Fr,(t,{request:i})=>O(w({},t),{setEnableRequest:{enable:!0,currentStep:de.EnableService,scope:i.scope}})),H(Nr,t=>O(w({},t),{setEnableRequest:{enable:!1,currentStep:de.StopReferencingComponents,scope:"SERVICE_AND_REFERENCING_COMPONENTS"}})),H(pn,fn,(t,{response:i})=>O(w({},t),{controllerService:i.controllerService,setEnableRequest:O(w({},t.setEnableRequest),{currentStep:i.currentStep})})),H(Lr,dn,(t,{response:i})=>lt(t,e=>{e.controllerService&&(e.controllerService.component.referencingComponents=i.referencingComponents),e.setEnableRequest.currentStep=i.currentStep})),H(Pt,(t,{response:i})=>O(w({},t),{setEnableRequest:O(w({},t.setEnableRequest),{error:i}),status:"error"})));var Js={systemDiagnostics:null,status:"pending",loadedTimestamp:""},np=he(Js,H(Ri,_r,t=>O(w({},t),{status:"loading"})),H(sn,Sr,(t,{response:i})=>O(w({},t),{status:"success",loadedTimestamp:i.systemDiagnostics.aggregateSnapshot.statsLastRefreshed,systemDiagnostics:i.systemDiagnostics})),H(an,Li,t=>O(w({},t),{status:"error"})),H(dc,()=>w({},Js)),H(Cr,()=>w({},Js)));var To="componentState";var rp={componentName:null,componentUri:null,componentState:null,canClear:null,status:"pending"},op=he(rp,H(Dr,(t,{request:i})=>O(w({},t),{componentName:i.componentName,componentUri:i.componentUri,canClear:i.canClear,status:"loading"})),H(un,Pr,(t,{response:i})=>O(w({},t),{status:"success",componentState:i.componentState})),H(Ir,()=>w({},rp)));var sp={bannerErrors:{},fullScreenError:null,routedToFullScreenError:!1},ap=he(sp,H(st,(t,{errorDetail:i})=>O(w({},t),{fullScreenError:i})),H(Lt,(t,{errorContext:i})=>lt(t,e=>{e.bannerErrors===null&&(e.bannerErrors={}),e.bannerErrors[i.context]||(e.bannerErrors[i.context]=[]),e.bannerErrors[i.context].push(...i.errors)})),H(fl,(t,{context:i})=>lt(t,e=>{e.bannerErrors&&e.bannerErrors[i]&&delete e.bannerErrors[i]})),H(Kn,(t,{routedToFullScreenError:i})=>O(w({},t),{routedToFullScreenError:i})),H(qn,()=>w({},sp)));var xh={disconnectionAcknowledged:!1,connectedStateChanged:!1,clusterSummary:null,searchResults:null,status:"pending"},lp=he(xh,H(ln,t=>O(w({},t),{status:"loading"})),H(xr,(t,{response:i})=>O(w({},t),{clusterSummary:i.clusterSummary,status:"success"})),H(Ar,(t,{response:i})=>O(w({},t),{searchResults:i})),H(yi,t=>O(w({},t),{connectedStateChanged:!0})),H(Sc,t=>O(w({},t),{connectedStateChanged:!1})),H(cn,(t,{disconnectionAcknowledged:i})=>O(w({},t),{disconnectionAcknowledged:i})));var Ah={loginConfiguration:null,status:"pending"},cp=he(Ah,H(Kr,t=>O(w({},t),{status:"loading"})),H(oi,(t,{response:i})=>O(w({},t),{loginConfiguration:i.loginConfiguration,status:"success"})));var mp={results:[],status:"pending",requestContext:null,activeRequest:null,configurationAnalysis:null,attributes:null},up=he(mp,H(ji,(t,{response:i})=>lt(t,e=>{e.status="loading",e.configurationAnalysis=i.configurationAnalysis,e.requestContext=i.requestContext,i.configurationAnalysis.supportsVerification&&(e.attributes=i.configurationAnalysis.referencedAttributes)})),H(Bi,(t,{response:i})=>O(w({},t),{configurationAnalysis:i.configurationAnalysis,requestContext:i.requestContext})),H(yn,gn,(t,{response:i})=>O(w({},t),{activeRequest:i.request,results:i.request.results||[]})),H($r,t=>O(w({},t),{activeRequest:null,status:"success"})),H(Uc,t=>O(w({},mp),{attributes:t.attributes})));var wh={backNavigations:[]},pp=he(wh,H(Qr,(t,{backNavigation:i})=>lt(t,e=>{if(e.backNavigations.length>0){let n=e.backNavigations[e.backNavigations.length-1];kh(n.route,i.route)&&e.backNavigations.push(i)}else e.backNavigations.push(i)})),H(Wr,(t,{url:i})=>lt(t,e=>{for(;e.backNavigations.length>0;){let n=e.backNavigations[e.backNavigations.length-1];if(!i.startsWith(n.routeBoundary.join("/")))e.backNavigations.pop();else break}})));function kh(t,i){if(t.length!==i.length)return!0;for(let e=0;e<t.length;e++)if(t[e]!==i[e])return!0;return!1}var Dh={bannerText:null,status:"pending"},dp=he(Dh,H(wr,t=>O(w({},t),{status:"loading"})),H(kr,(t,{response:i})=>O(w({},t),{bannerText:i.bannerText,status:"success"})));var Mh={documentVisibility:vn.Visible,changedTimestamp:Date.now()},fp=he(Mh,H(Yr,(t,{change:i})=>O(w({},t),{documentVisibility:i.documentVisibility,changedTimestamp:i.changedTimestamp})));var hp={copiedContent:null},gp=he(hp,H(um,(t,{content:i})=>O(w({},t),{copiedContent:i})),H(pm,(t,{pasted:i})=>lt(t,e=>{i.strategy===cm.OFFSET_FROM_ORIGINAL&&e.copiedContent&&e.copiedContent.copyResponse.id===i.copyId&&e.copiedContent.processGroupId===i.processGroupId&&e.copiedContent.pasteCount++})),H(dm,()=>w({},hp)));var yp={[Yl]:Ql,[yl]:ap,[dl]:sm,[mc]:Zu,[Xc]:Ju,[Tc]:dp,[bc]:pp,[fc]:am,[hl]:cp,[Eo]:ep,[Hc]:ip,[tm]:np,[To]:op,[hm]:fp,[Cc]:lp,[Rc]:up,[lm]:gp};var vp=(()=>{class t{constructor(e,n,r,o,a,s){this.actions$=e,this.store=n,this.router=r,this.userService=o,this.authService=a,this.errorHelper=s,this.loadCurrentUser$=N(()=>this.actions$.pipe(I(Ro),F(()=>ee(this.userService.getUser().pipe(P(l=>jn({response:{user:l}})),G(l=>M(this.errorHelper.fullScreenError(l)))))))),this.startCurrentUserPolling$=N(()=>this.actions$.pipe(I(ml),F(()=>Ut(3e4,zt).pipe(Me(this.actions$.pipe(I($n))))),F(()=>M(Ro())))),this.navigateToLogIn$=N(()=>this.actions$.pipe(I(zn),ce(()=>{this.router.navigate(["/login"])})),{dispatch:!1}),this.logout$=N(()=>this.actions$.pipe(I(pl),F(()=>ee(this.authService.logout()).pipe(P(()=>Lo()),G(l=>M(this.errorHelper.fullScreenError(l))))))),this.navigateToLogOut$=N(()=>this.actions$.pipe(I(Lo),Ae(()=>this.store.select(gl)),ce(([,l])=>{l&&(window.location.href=l)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(ae),x(Yt),x(qr),x(Xt),x(Ce))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Sp=(t,i)=>{let e=Z(ae);return i(t).pipe(G(n=>{if(n instanceof Hn&&n.status===401)return ci([e.select(Un).pipe(De(1),ce(()=>e.dispatch(ul()))),e.select(ki).pipe(De(1)),e.select(Sl).pipe(De(1),ce(()=>e.dispatch(Kn({routedToFullScreenError:!0}))))]).pipe(F(([r,o,a])=>(r.status==="pending"&&o?.loginSupported&&!a?e.dispatch(zn()):e.dispatch(st({errorDetail:{title:"Unauthorized",message:"Your session has expired. Please navigate home to log in again."}})),In)));throw n}))};var _p=(()=>{class t{constructor(e,n,r){this.actions$=e,this.extensionTypesService=n,this.errorHelper=r,this.loadExtensionTypesForCanvas$=N(()=>this.actions$.pipe(I(ur),F(()=>ci([this.extensionTypesService.getProcessorTypes(),this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getPrioritizers()]).pipe(P(([o,a,s])=>pr({response:{processorTypes:o.processorTypes,controllerServiceTypes:a.controllerServiceTypes,prioritizers:s.prioritizerTypes}})),G(o=>M(Fi({error:o}))))))),this.loadExtensionTypesForSettings$=N(()=>this.actions$.pipe(I(ac),F(()=>ci([this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getReportingTaskTypes(),this.extensionTypesService.getRegistryClientTypes(),this.extensionTypesService.getParameterProviderTypes(),this.extensionTypesService.getFlowAnalysisRuleTypes()]).pipe(P(([o,a,s,l,c])=>dr({response:{controllerServiceTypes:o.controllerServiceTypes,reportingTaskTypes:a.reportingTaskTypes,registryClientTypes:s.flowRegistryClientTypes,parameterProviderTypes:l.parameterProviderTypes,flowAnalysisRuleTypes:c.flowAnalysisRuleTypes}})),G(o=>M(Fi({error:o}))))))),this.loadExtensionTypesForPolicies$=N(()=>this.actions$.pipe(I(lc),F(()=>ci([this.extensionTypesService.getProcessorTypes(),this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getReportingTaskTypes(),this.extensionTypesService.getParameterProviderTypes(),this.extensionTypesService.getFlowAnalysisRuleTypes()]).pipe(P(([o,a,s,l,c])=>fr({response:{processorTypes:o.processorTypes,controllerServiceTypes:a.controllerServiceTypes,reportingTaskTypes:s.reportingTaskTypes,parameterProviderTypes:l.parameterProviderTypes,flowAnalysisRuleTypes:c.flowAnalysisRuleTypes}})),G(o=>M(Fi({error:o}))))))),this.loadExtensionTypesForDocumentation$=N(()=>this.actions$.pipe(I(cc),F(()=>ci([this.extensionTypesService.getProcessorTypes(),this.extensionTypesService.getControllerServiceTypes(),this.extensionTypesService.getReportingTaskTypes(),this.extensionTypesService.getParameterProviderTypes(),this.extensionTypesService.getFlowAnalysisRuleTypes()]).pipe(P(([o,a,s,l,c])=>hr({response:{processorTypes:o.processorTypes,controllerServiceTypes:a.controllerServiceTypes,reportingTaskTypes:s.reportingTaskTypes,parameterProviderTypes:l.parameterProviderTypes,flowAnalysisRuleTypes:c.flowAnalysisRuleTypes}})),G(o=>M(Fi({error:o}))))))),this.extensionTypesApiError$=N(()=>this.actions$.pipe(I(Fi),P(o=>o.error),F(o=>M(Ee({error:this.errorHelper.getErrorString(o,"Failed to load extension types. You may not be able to create new Processors, Controller Services, Reporting Tasks, Parameter Providers, or Flow Analysis Rules.")})))))}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(jc),x(Ce))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Cp=(t,i)=>{let e=Z(ae);return i(t).pipe(G(n=>{if(n instanceof Hn&&n.status===0)return e.dispatch($n()),e.dispatch(om()),e.dispatch(Tr()),e.dispatch(st({errorDetail:{title:"Unable to communicate with NiFi",message:"Please ensure the application is running and check the logs for any errors."}})),In;throw n}))};var bp=(()=>{class t{static{this.API="../nifi-api"}constructor(e){this.httpClient=e}getAbout(){return this.httpClient.get(`${t.API}/flow/about`)}static{this.\u0275fac=function(n){return new(n||t)(x(He))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Oh(t,i){if(t&1&&(y(0,"div",9),S(1),g()),t&2){let e=L();_(),_e(e.buildTimestamp)}}function Fh(t,i){if(t&1&&(y(0,"div",9),S(1),g()),t&2){let e=L();_(),ie("Tagged ",e.buildTag,"")}}function Nh(t,i){if(t&1&&(y(0,"div",9),S(1),g()),t&2){let e=L();_(),wi("From ",e.buildRevision," on branch ",e.buildBranch,"")}}function Rh(t,i){if(t&1&&(y(0,"div",5),Y(1,"img",6),g(),y(2,"div",7)(3,"div",8),S(4),g(),$(5,Oh,2,1,"div",9)(6,Fh,2,1,"div",9)(7,Nh,2,2,"div",9),g(),y(8,"div"),S(9," Apache NiFi is a framework to support highly scalable and flexible dataflows. It can be run on laptops up through clusters of enterprise class servers. Instead of dictating a particular dataflow or behavior it empowers you to design your own optimal dataflow tailored to your specific environment. "),g()),t&2){let e=i;_(4),_e(e.version),_(),Q(e.buildTimestamp?5:-1),_(),Q(e.buildTag&&e.buildTag!=="HEAD"?6:-1),_(),Q(e.buildRevision?7:-1)}}var Ep=(()=>{class t extends bt{constructor(e){super(),this.store=e,this.about$=this.store.select(Zc)}static{this.\u0275fac=function(n){return new(n||t)(re(ae))}}static{this.\u0275cmp=ue({type:t,selectors:[["about"]],features:[$e],decls:10,vars:3,consts:[[1,"about-dialog"],["mat-dialog-title",""],[1,"flex","flex-col","justify-between","gap-y-5"],["align","end"],["mat-button","","mat-dialog-close",""],[1,"flex","justify-center"],["ngSrc","assets/icons/nifi-logo-about.svg","priority","","width","300","height","128","alt","NiFi Logo"],[1,"flex","flex-col","gap-y-1"],[1,"font-bold"],[1,"text-sm","ml-2"]],template:function(n,r){if(n&1&&(y(0,"div",0)(1,"h2",1),S(2,"About"),g(),y(3,"mat-dialog-content")(4,"div",2),$(5,Rh,10,4),Oe(6,"async"),g()(),y(7,"mat-dialog-actions",3)(8,"button",4),S(9,"Close"),g()()()),n&2){let o;_(5),Q((o=Fe(6,1,r.about$))?5:-1,o)}},dependencies:[Mt,Re,Ct,Ue,qe,Ge,Ke,or,Or,rt,at,Oi,cr,qa],styles:[".about-dialog[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px}.about-dialog[_ngcontent-%COMP%]{--mdc-filled-button-container-height: 32px}.about-dialog[_ngcontent-%COMP%]{--mdc-protected-button-container-height: 32px}.about-dialog[_ngcontent-%COMP%]{--mdc-outlined-button-container-height: 32px}.about-dialog[_ngcontent-%COMP%]{--mat-text-button-touch-target-display: block}.about-dialog[_ngcontent-%COMP%]{--mat-filled-button-touch-target-display: block}.about-dialog[_ngcontent-%COMP%]{--mat-protected-button-touch-target-display: block}.about-dialog[_ngcontent-%COMP%]{--mat-outlined-button-touch-target-display: block}"]})}}return t})();var Tp=(()=>{class t{constructor(e,n,r,o){this.actions$=e,this.aboutService=n,this.dialog=r,this.errorHelper=o,this.loadAbout$=N(()=>this.actions$.pipe(I(br),F(()=>ee(this.aboutService.getAbout().pipe(P(a=>Er({response:a})),G(a=>M(Ee({error:this.errorHelper.getErrorString(a)})))))))),this.openAboutDialog$=N(()=>this.actions$.pipe(I(yc),ce(()=>{this.dialog.open(Ep,O(w({},Jt),{autoFocus:!1}))})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(bp),x(Ne),x(Ce))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var xo=(()=>{class t{static{this.API="../nifi-api"}constructor(e,n){this.httpClient=e,this.client=n}getComponentStatusHistory(e,n){let r;switch(e){case tn.Processor:r="processors";break;case tn.ProcessGroup:r="process-groups";break;case tn.Connection:r="connections";break;case tn.RemoteProcessGroup:r="remote-process-groups";break;default:r="processors"}return this.httpClient.get(`${t.API}/flow/${r}/${encodeURIComponent(n)}/status/history`)}getNodeStatusHistory(){return this.httpClient.get(`${t.API}/controller/status/history`)}static{this.\u0275fac=function(n){return new(n||t)(x(He),x(ni))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ia=Vn(Eo),Ao=Rt(ia,t=>t.statusHistory),Ap=Rt(Ao,t=>t.statusHistory?.componentDetails),wp=Rt(Ao,t=>t.statusHistory?.fieldDescriptors);var gt={nifiInstanceId:"nifi-instance-id",nifiInstanceLabel:"NiFi"};var kp=(()=>{class t{set instances(e){this._instances=e,this._selectedDescriptor&&this.updateChart(this._selectedDescriptor)}get instances(){return this._instances}set selectedFieldDescriptor(e){this._selectedDescriptor!==e&&(this.brushSelection=null,this._selectedDescriptor=e,e&&this.updateChart(e))}get selectedFieldDescriptor(){return this._selectedDescriptor}set visibleInstances(e){this._visibleInstances=e,this._selectedDescriptor&&this.updateChart(this._selectedDescriptor)}get visibleInstances(){return this._visibleInstances}constructor(e){this.nifiCommon=e,this._selectedDescriptor=null,this._visibleInstances={},this.nodeStats=new nt,this.clusterStats=new nt,this.nodeStats$=new pt,this.clusterStats$=new pt,this.nodes=[],this.formatters={DURATION:n=>this.nifiCommon.formatDuration(n),COUNT:n=>n%1===0?this.nifiCommon.formatInteger(n):this.nifiCommon.formatFloat(n),DATA_SIZE:n=>this.nifiCommon.formatDataSize(n),FRACTION:n=>this.nifiCommon.formatFloat(n/1e6)},this.brushSelection=null,this.nodeStats$.pipe(mi(20),ze()).subscribe(n=>{this.nodeStats.next(n)}),this.clusterStats$.pipe(mi(20),ze()).subscribe(n=>{this.clusterStats.next(n)})}updateChart(e){let n={top:15,right:20,bottom:25,left:80},r=Wc(Yc),o=this.instances.map(k=>k.label);r.domain(o);let a=this.instances.map(k=>({id:k.id,label:k.label,values:k.snapshots.map(le=>({timestamp:le.timestamp,value:le.statusMetrics[e.field]})),visible:this._visibleInstances[k.id]})),s=k=>k.getMilliseconds()?ri(":%S.%L")(k):k.getSeconds()?ri(":%S")(k):k.getMinutes()||k.getHours()?ri("%H:%M")(k):k.getDay()&&k.getDate()!==1?ri("%a %d")(k):k.getDate()!==1?ri("%b %d")(k):k.getMonth()?ri("%B")(k):ri("%Y")(k),l=document.getElementById("status-history-chart-container");l.replaceChildren();let c=l.clientWidth-n.left-n.right,d=l.clientHeight-n.top-n.bottom,h=ns().range([0,c]),b=Jo(h).ticks(5).tickFormat(s),T=is().range([d,0]),f=es(T).tickFormat(this.formatters[e.formatter]),u=rs().curve(os).x(k=>h(k.timestamp)).y(k=>T(k.value)),m=$i("#status-history-chart-container").append("svg").attr("style","pointer-events: none;").attr("width",l.clientWidth).attr("height",l.clientHeight),p=m.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",c).attr("height",d),v=m.append("g").attr("transform","translate("+n.left+", "+n.top+")"),C=Ot(a,k=>Ot(k.values,le=>le.timestamp)),E=It(a,k=>It(k.values,le=>le.timestamp));h.domain([C,E]),T.domain([this.getMinValue(a),this.getMaxValue(a)]),v.append("g").attr("class","x axis").attr("transform","translate(0, "+d+")").call(b),v.append("g").attr("class","y axis").call(f).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("text-anchor","end").text(e.label);let A=v.selectAll(".status").data(a).enter().append("g").attr("clip-path","url(#clip)").attr("class","status");A.append("path").attr("class",k=>"chart-line chart-line-"+k.id).attr("d",k=>u(k.values)).attr("stroke",k=>r(k.label)).classed("hidden",k=>k.visible===!1).append("title").text(k=>k.label),A.each((k,le,X)=>{$i(X[le]).append("g").attr("class",function(){return"mark-group mark-group-"+k.id}).classed("hidden",function(Ie){return Ie.visible===!1}).selectAll("circle.mark").data(k.values).enter().append("circle").attr("style","pointer-events: all;").attr("class","mark").attr("cx",Ie=>h(Ie.timestamp)).attr("cy",Ie=>T(Ie.value)).attr("fill",()=>r(k.label)).attr("r",1.5).append("title").text(Ie=>k.label+" -- "+this.formatters[e.formatter](Ie.value))});let D=l.parentElement;D&&m.attr("width",D.clientWidth).attr("height",l.clientHeight),p.attr("width",c).attr("height",d),v.select(".x.axis").attr("transform","translate(0, "+d+")");let R=document.getElementById("status-history-chart-control-container");R.replaceChildren();let U=R.clientHeight-n.top-n.bottom,K=ns().range([0,c]),ye=Jo(K).ticks(5).tickFormat(s),we=is().range([U,0]),Ve=es(we).tickValues(T.domain()).tickFormat(this.formatters[e.formatter]),et=rs().curve(os).x(function(k){return K(k.timestamp)}).y(function(k){return we(k.value)}),tt=$i("#status-history-chart-control-container").append("svg").attr("width",l.clientWidth).attr("height",R.clientHeight).append("g").attr("transform","translate("+n.left+", "+n.top+")");K.domain(h.domain()),we.domain(T.domain()),tt.append("g").attr("class","x axis").attr("transform","translate(0, "+U+")").call(ye),tt.append("g").attr("class","y axis").call(Ve),tt.selectAll(".status").data(a).enter().append("g").attr("class","status").append("path").attr("class",k=>"chart-line chart-line-"+k.id).attr("d",k=>et(k.values)).attr("stroke",k=>r(k.label)).classed("hidden",k=>this.visibleInstances[k.id]===!1).append("title").text(function(k){return k.label});let V=()=>{let k=h.domain(),le=T.domain(),X=a.map(ke=>{let Pn=ke.values.filter(Le=>Le.timestamp>=k[0].getTime()&&Le.timestamp<=k[1]&&Le.value>=le[0]&&Le.value<=le[1]);return O(w({},ke),{values:Pn})}),pe=X.filter(ke=>ke.id!==gt.nifiInstanceId&&ke.visible&&ke.values.length>0),Ie=pe.length===0?"NA":this.formatters[e.formatter](this.getMinValue(pe)),Te=pe.length===0?"NA":this.formatters[e.formatter](this.getMeanValue(pe)),ut=pe.length===0?"NA":this.formatters[e.formatter](this.getMaxValue(pe));this.nodeStats$.next({min:Ie,max:ut,mean:Te,nodes:pe.map(ke=>({id:ke.id,label:ke.label,color:r(ke.label)}))});let xe=X.filter(ke=>ke.id===gt.nifiInstanceId&&ke.visible&&ke.values.length>0),yt=xe.length===0?"NA":this.formatters[e.formatter](this.getMinValue(xe)),vt=xe.length===0?"NA":this.formatters[e.formatter](this.getMeanValue(xe)),Ti=xe.length===0?"NA":this.formatters[e.formatter](this.getMaxValue(xe));this.clusterStats$.next({min:yt,max:Ti,mean:vt,nodes:xe.map(ke=>({id:ke.id,label:ke.label,color:r(ke.label)}))})},q=(k,le)=>{h.domain(k),T.domain(le),A.selectAll(".chart-line").attr("d",X=>u(X.values)),A.selectAll("circle.mark").attr("cx",X=>h(X.timestamp)).attr("cy",X=>T(X.value)).attr("r",function(){return ts(Pe.node())===null?1.5:4}),v.select(".x.axis").call(b),v.select(".y.axis").call(f)},J=()=>{this.brushSelection=ts(Pe.node());let k,le;if(this.brushSelection===null){let X=a.filter(pe=>pe.visible);X.length===0?le=we.domain():le=[Ot(X,pe=>Ot(pe.values,Ie=>Ie.value)),It(X,pe=>It(pe.values,Ie=>Ie.value))],k=K.domain()}else k=[this.brushSelection[0][0],this.brushSelection[1][0]].map(K.invert,K),le=[this.brushSelection[1][1],this.brushSelection[0][1]].map(we.invert,we);q(k,le),V()},ve=Qc().extent([[K.range()[0],we.range()[1]],[K.range()[1],we.range()[0]]]).on("brush",J),Pe=tt.append("g").attr("class","brush").on("click",J).call(ve);this.brushSelection&&(ve=ve.move(Pe,this.brushSelection)),tt.select("rect.selection").attr("style","pointer-events: all;").on("dblclick",()=>{if(this.brushSelection!==null){let k=we.range();ve.move(Pe,[[this.brushSelection[0][0],k[1]],[this.brushSelection[1][0],k[0]]])}}),this.nodes=a.filter(k=>k.id!==gt.nifiInstanceId).sort((k,le)=>k.label<le.label?-1:k.label>le.label?1:0),J()}getMinValue(e){return Ot(e,n=>Ot(n.values,r=>r.value))}getMaxValue(e){return It(e,n=>It(n.values,r=>r.value))}getMeanValue(e){let n=0;return Zo(e,o=>(n+=o.values.length,Zo(o.values,a=>a.value)))/n}ngOnDestroy(){this.nodeStats$.complete(),this.clusterStats$.complete()}static{this.\u0275fac=function(n){return new(n||t)(re(Be))}}static{this.\u0275cmp=ue({type:t,selectors:[["status-history-chart"]],inputs:{instances:"instances",selectedFieldDescriptor:"selectedFieldDescriptor",visibleInstances:"visibleInstances"},outputs:{nodeStats:"nodeStats",clusterStats:"clusterStats"},decls:3,vars:0,consts:[["id","status-history-container",1,"flex-1","flex","flex-col","select-none"],["id","status-history-chart-container",1,"grow"],["id","status-history-chart-control-container"]],template:function(n,r){n&1&&(y(0,"div",0),Y(1,"div",1)(2,"div",2),g())},encapsulation:2})}}return t})();var Dp=t=>({color:t}),Bh=(t,i)=>i.id;function Vh(t,i){if(t&1){let e=Se();y(0,"button",15),te("click",function(){oe(e);let r=L(3);return se(r.maximize())}),Y(1,"i",16),g()}}function jh(t,i){if(t&1){let e=Se();y(0,"button",17),te("click",function(){oe(e);let r=L(3);return se(r.minimize())}),Y(1,"i",18),g()}}function $h(t,i){if(t&1&&$(0,Vh,2,0,"button",13)(1,jh,2,0,"button",14),t&2){let e=L(2);Q(e.dialogMaximized?1:0)}}function zh(t,i){t&1&&(y(0,"div",8),Y(1,"ngx-skeleton-loader",19),g())}function Uh(t,i){if(t&1&&(y(0,"div",24)(1,"div"),S(2),g(),y(3,"div",33),S(4),g()()),t&2){let e=L().$implicit;_(2),_e(e.key),_(),z("title",e.value),_(),ie(" ",e.value," ")}}function qh(t,i){if(t&1&&$(0,Uh,5,3,"div",24),t&2){let e=i.$implicit;Q(e.key&&e.value?0:-1)}}function Kh(t,i){if(t&1){let e=Se();y(0,"div",38)(1,"mat-label",28),S(2),g(),y(3,"mat-checkbox",39),te("change",function(r){oe(e);let o=L(7);return se(o.selectNode(r))}),g()()}if(t&2){let e=L().$implicit,n=L(6);_(),z("ngStyle",di(4,Dp,n.getColor(n.nodeStats,e.id))),_(),ie("",e.label," "),_(),z("value",e.id)("checked",!!n.instanceVisibility[e.id])}}function Gh(t,i){if(t&1&&$(0,Kh,4,6,"div",38),t&2){let e=i.$implicit;Q(e.snapshots!=null&&e.snapshots.length?0:-1)}}function Qh(t,i){if(t&1){let e=Se();y(0,"div",24)(1,"div",34)(2,"mat-label",35),S(3,"Nodes "),g(),y(4,"mat-checkbox",36),te("change",function(r){oe(e);let o=L(5);return se(o.selectAllNodesChanged(r))}),g()(),y(5,"div")(6,"div"),S(7,"Min / Max / Mean"),g(),y(8,"div",25),S(9),g()(),y(10,"div",37),Kt(11,Gh,1,1,null,null,Bh),g()()}if(t&2){let e=L(5);_(4),z("checked",e.areAllNodesSelected(e.instanceVisibility))("indeterminate",e.areAnyNodesSelected(e.instanceVisibility)),_(5),pi(" ",e.nodeStats.min," / ",e.nodeStats.max," / ",e.nodeStats.mean," "),_(2),Gt(e.nodes)}}function Wh(t,i){if(t&1&&(y(0,"mat-option",41)(1,"span",43),S(2),g()()),t&2){let e=L().$implicit,n=L(6);z("value",e)("tooltipComponentType",n.TextTip)("tooltipInputData",e.description)("delayClose",!1),_(2),_e(e.label)}}function Yh(t,i){if(t&1&&(y(0,"mat-option",42)(1,"span",43),S(2),g()()),t&2){let e=L().$implicit;z("value",e),_(2),_e(e.label)}}function Xh(t,i){if(t&1&&$(0,Wh,3,5,"mat-option",41)(1,Yh,3,2,"mat-option",42),t&2){let e=i.$implicit;Q(e.description?0:1)}}function Zh(t,i){if(t&1&&(y(0,"div",31)(1,"mat-form-field")(2,"mat-select",40),Kt(3,Xh,2,1,null,null,ui),g()()()),t&2){let e=L(5);_(3),Gt(e.fieldDescriptors)}}function Jh(t,i){if(t&1){let e=Se();y(0,"div",21)(1,"div",22)(2,"div",23),Kt(3,qh,1,1,null,null,ui),y(5,"div",24)(6,"div"),S(7,"Start"),g(),y(8,"div",25),S(9),g()(),y(10,"div",24)(11,"div"),S(12,"End"),g(),y(13,"div",25),S(14),g()(),y(15,"div",24)(16,"div",26)(17,"div"),S(18,"Min / Max / Mean"),g(),y(19,"div",25),S(20),g()(),y(21,"div",27)(22,"mat-label",28),S(23,"NiFi "),g(),y(24,"mat-checkbox",29),te("change",function(r){oe(e);let o=L(4);return se(o.selectNode(r))}),g()()(),$(25,Qh,13,5,"div",24),g()(),y(26,"div",30),$(27,Zh,5,0,"div",31),Oe(28,"async"),y(29,"status-history-chart",32),te("nodeStats",function(r){oe(e);let o=L(4);return se(o.nodeStatsChanged(r))})("clusterStats",function(r){oe(e);let o=L(4);return se(o.clusterStatsChanged(r))}),g()()()}if(t&2){let e=L(4);_(3),Gt(e.details),_(6),ie(" ",e.minDate," "),_(5),ie(" ",e.maxDate," "),_(6),pi(" ",e.clusterStats.min," / ",e.clusterStats.max," / ",e.clusterStats.mean," "),_(2),z("ngStyle",di(14,Dp,e.getColor(e.nodeStats,e.NIFI_NODE_CONFIG.nifiInstanceId))),_(2),z("checked",!!e.instanceVisibility["nifi-instance-id"]),_(),Q(e.nodes&&e.nodes.length>0?25:-1),_(2),Q(Fe(28,12,e.fieldDescriptors$)?27:-1),_(2),z("instances",e.instances)("visibleInstances",e.instanceVisibility)("selectedFieldDescriptor",e.selectedDescriptor)}}function eg(t,i){if(t&1&&($(0,Jh,30,16,"div",21),Oe(1,"async")),t&2){let e,n=L(3);Q((e=Fe(1,1,n.componentDetails$))?0:-1,e)}}function tg(t,i){t&1&&(y(0,"div",20),S(1," Insufficient history, please try again later. "),g())}function ig(t,i){if(t&1&&$(0,eg,2,3)(1,tg,2,0,"div",20),t&2){let e=L(2);Q(e.instances.length>0&&e.fieldDescriptors.length>0?0:1)}}function ng(t,i){if(t&1){let e=Se();y(0,"div",11)(1,"button",44),te("click",function(){oe(e);let r=L(2);return se(r.refresh())}),Y(2,"i",45),g(),y(3,"div"),S(4,"Last updated:"),g(),y(5,"div",25),S(6),g()()}if(t&2){let e=L();_(2),Xe("fa-spin",e.status==="loading"),_(4),ie(" ",e.loadedTimestamp," ")}}function rg(t,i){if(t&1&&(y(0,"div",1)(1,"h2",2),S(2,"Status History"),g(),$(3,$h,2,1),g(),Y(4,"context-error-banner",3),y(5,"div",4)(6,"mat-dialog-content",5)(7,"form",6)(8,"div",7),$(9,zh,2,0,"div",8)(10,ig,2,1),g()()(),y(11,"mat-dialog-actions",9)(12,"div",10)(13,"div",8),$(14,ng,7,3,"div",11),g(),y(15,"div")(16,"button",12),S(17,"Close"),g()()()()()),t&2){let e=L();_(3),Q(e.instances.length>0&&e.fieldDescriptors.length>0?3:-1),_(),z("context",e.ErrorContextKey.STATUS_HISTORY),_(3),z("formGroup",e.statusHistoryForm),_(2),Q(e.isInitialLoading(i)?9:10),_(5),Q(e.instances.length>0&&e.fieldDescriptors.length>0?14:-1)}}var Mp=(()=>{class t extends bt{constructor(e,n,r,o,a){super(),this.statusHistoryService=e,this.store=n,this.formBuilder=r,this.nifiCommon=o,this.dialogRequest=a,this.statusHistoryState$=this.store.select(ia),this.componentDetails$=this.store.select(Ap),this.statusHistory$=this.store.select(Ao),this.fieldDescriptors$=this.store.select(wp),this.fieldDescriptors=[],this.dialogMaximized=!1,this.details=[],this.minDate="",this.maxDate="",this.nodeStats={max:"NA",min:"NA",mean:"NA",nodes:[]},this.clusterStats={max:"NA",min:"NA",mean:"NA",nodes:[]},this.nodes=[],this.instances=[],this.instanceVisibility={},this.selectedDescriptor=null,this.destroyRef=Z(xi),this.Object=Object,this.TextTip=ii,this.NIFI_NODE_CONFIG=gt,this.ErrorContextKey=Ze,this.request=a,this.statusHistoryForm=this.formBuilder.group({fieldDescriptor:""})}ngOnInit(){this.statusHistory$.pipe(fe(e=>!!e),ze(this.destroyRef)).subscribe(e=>{if(e){this.instances=[],e.statusHistory?.aggregateSnapshots?.length>1&&(this.instances.push({id:gt.nifiInstanceId,label:gt.nifiInstanceLabel,snapshots:e.statusHistory.aggregateSnapshots}),this.instanceVisibility[gt.nifiInstanceId]===void 0&&(this.instanceVisibility[gt.nifiInstanceId]=!0)),e.statusHistory?.nodeSnapshots&&e.statusHistory?.nodeSnapshots.length>1&&e.statusHistory.nodeSnapshots.forEach(o=>{this.instances.push({id:o.nodeId,label:`${o.address}:${o.apiPort}`,snapshots:o.statusSnapshots}),this.instanceVisibility[o.nodeId]===void 0&&(this.instanceVisibility[o.nodeId]=!0)}),this.nodes=this.instances.filter(o=>o.id!==gt.nifiInstanceId).sort((o,a)=>o.label<a.label?-1:o.label>a.label?1:0);let n=Ot(this.instances,o=>Ot(o.snapshots,a=>a.timestamp)),r=It(this.instances,o=>It(o.snapshots,a=>a.timestamp));this.minDate=this.nifiCommon.formatDateTime(new Date(n)),this.maxDate=this.nifiCommon.formatDateTime(new Date(r))}}),this.fieldDescriptors$.pipe(fe(e=>!!e),De(1)).subscribe(e=>{this.fieldDescriptors=e,this.statusHistoryForm.get("fieldDescriptor")?.setValue(e[0]),this.selectedDescriptor=e[0]}),this.componentDetails$.pipe(be(),De(1)).subscribe(e=>{this.details=Object.entries(e).map(n=>({key:n[0],value:n[1]}))})}ngAfterViewInit(){this.statusHistoryForm.get("fieldDescriptor")?.valueChanges.pipe(ze(this.destroyRef)).subscribe(e=>{this.instances.length>0&&(this.selectedDescriptor=e)})}maximize(){this.dialogMaximized=!0,this.resized()}minimize(){this.dialogMaximized=!1,this.resized()}isInitialLoading(e){return e.loadedTimestamp===Dn.loadedTimestamp}refresh(){this.store.dispatch(gi({request:this.request}))}clusterStatsChanged(e){this.clusterStats=e}nodeStatsChanged(e){this.nodeStats=e}areAllNodesSelected(e){return Object.entries(e).filter(([r,o])=>r!=="nifi-instance-id"&&!o).map(([,r])=>r).length===0}areAnyNodesSelected(e){let n=Object.entries(e).filter(([r,o])=>r!=="nifi-instance-id"&&o).map(([,r])=>r);return n.length>0&&n.length<this.nodes.length}selectAllNodesChanged(e){let n=e.checked,r={};this.nodes.forEach(o=>{r[o.id]=n}),r["nifi-instance-id"]=this.instanceVisibility["nifi-instance-id"],this.instanceVisibility=r}selectNode(e){let n=e.source.value,r=e.checked,o=Gc("path.chart-line-"+n),a=$i("g.mark-group-"+n),s=a.classed("hidden");o.classed("hidden",()=>!s),a.classed("hidden",()=>!s),this.instanceVisibility=O(w({},this.instanceVisibility),{[n]:r})}resized(){this.selectedDescriptor&&(this.selectedDescriptor=w({},this.selectedDescriptor))}windowResized(){this.dialogMaximized&&this.resized()}getColor(e,n){if(e.nodes&&e.nodes.length>0){let r=e.nodes?.find(o=>o.id===n);if(r)return r.color}return"unset neutral-color"}static{this.\u0275fac=function(n){return new(n||t)(re(xo),re(ae),re(kt),re(Be),re(Mi))}}static{this.\u0275cmp=ue({type:t,selectors:[["status-history"]],hostBindings:function(n,r){n&1&&te("resize",function(a){return r.windowResized(a.target)},!1,Da)},features:[$e],decls:3,vars:7,consts:[[1,"flex","flex-col","status-history-container"],[1,"flex","justify-between"],["mat-dialog-title",""],[3,"context"],[1,"status-history","flex","flex-col","grow"],[1,"grow","flex","flex-1"],[1,"flex","flex-1","h-full",3,"formGroup"],[1,"status-history-dialog-content","flex","w-full","flex-1"],[1,"flex-1"],["align","start"],[1,"flex","w-full"],[1,"text-sm","flex","items-center","gap-x-2"],["mat-button","","mat-dialog-close",""],["mat-icon-button","","title","Maximize dialog size",1,"primary-icon-button","mt-2","mr-2"],["mat-icon-button","","title","Restore default dialog size",1,"primary-icon-button","mt-2","mr-2"],["mat-icon-button","","title","Maximize dialog size",1,"primary-icon-button","mt-2","mr-2",3,"click"],[1,"fa","fa-window-maximize"],["mat-icon-button","","title","Restore default dialog size",1,"primary-icon-button","mt-2","mr-2",3,"click"],[1,"fa","fa-window-minimize"],["count","3"],[1,"grow","flex","items-center","justify-center"],[1,"flex","flex-1","w-full","gap-x-4"],[1,"component-details-panel","relative","h-full"],[1,"component-details","flex","flex-col","gap-y-3","overflow-y-auto","absolute","inset-0"],[1,"flex","flex-col"],[1,"tertiary-color","font-medium"],[1,"detail-item"],[1,"legend-entry","flex","justify-between","items-center","mr-1"],[3,"ngStyle"],["value","nifi-instance-id",3,"change","checked"],[1,"chart-panel","grow","flex","flex-col"],[1,"selected-descriptor-container"],[1,"flex","flex-1","flex-col",3,"nodeStats","clusterStats","instances","visibleInstances","selectedFieldDescriptor"],[1,"tertiary-color","overflow-ellipsis","overflow-hidden","whitespace-nowrap","font-medium",3,"title"],[1,"flex","justify-between","items-center","border-b","mr-1"],[1,"font-bold","secondary-color"],[1,"tertiary-checkbox",3,"change","checked","indeterminate"],[1,"legend-entry","mr-1"],[1,"flex","justify-between","items-start"],[3,"change","value","checked"],["formControlName","fieldDescriptor"],["nifiTooltip","",3,"value","tooltipComponentType","tooltipInputData","delayClose"],[3,"value"],[1,"option-text"],["mat-icon-button","",1,"primary-icon-button",3,"click"],[1,"fa","fa-refresh"]],template:function(n,r){if(n&1&&(y(0,"div",0),$(1,rg,18,5),Oe(2,"async"),g()),n&2){let o;Xe("maximized",r.dialogMaximized&&r.instances.length>0&&r.fieldDescriptors.length>0)("insufficient-history",!r.instances.length||!r.fieldDescriptors.length),_(),Q((o=Fe(2,5,r.statusHistoryState$))?1:-1,o)}},dependencies:[Ct,Ue,qe,Ge,Ke,rt,Mt,Re,Dt,sc,oc,at,xt,Et,Tt,At,wt,Oi,Ii,Pi,nc,ic,tc,ti,$l,ar,kp,za,Hi],styles:[`.status-history-container[_ngcontent-%COMP%]{position:relative;resize:both;height:732px;width:887px;min-height:732px;min-width:887px}.status-history-container.maximized[_ngcontent-%COMP%]{height:96vh;width:98vw}.status-history-container.insufficient-history[_ngcontent-%COMP%]{height:unset;width:unset;min-height:unset;min-width:unset}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]{--mdc-filled-button-container-height: 32px}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]{--mdc-protected-button-container-height: 32px}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]{--mdc-outlined-button-container-height: 32px}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]{--mat-text-button-touch-target-display: block}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]{--mat-filled-button-touch-target-display: block}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]{--mat-protected-button-touch-target-display: block}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]{--mat-outlined-button-touch-target-display: block}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]{max-height:unset}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .status-history-svg[_ngcontent-%COMP%]{pointer-events:none}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .chart-panel[_ngcontent-%COMP%]{min-width:495px}.status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .component-details-panel[_ngcontent-%COMP%], .status-history-container[_ngcontent-%COMP%]   .status-history[_ngcontent-%COMP%]   .component-details[_ngcontent-%COMP%]{min-width:300px;max-width:300px}[_nghost-%COMP%]     #status-history-chart-container, [_nghost-%COMP%]     #status-history-chart-control-container{overflow:hidden;cursor:default}[_nghost-%COMP%]     #status-history-chart-container .axis path, [_nghost-%COMP%]     #status-history-chart-container .axis line, [_nghost-%COMP%]     #status-history-chart-control-container .axis path, [_nghost-%COMP%]     #status-history-chart-control-container .axis line{fill:none;shape-rendering:crispEdges}[_nghost-%COMP%]     #status-history-chart-container .chart-area, [_nghost-%COMP%]     #status-history-chart-control-container .chart-area{clip-path:url(#clip)}[_nghost-%COMP%]     #status-history-chart-container .chart-line, [_nghost-%COMP%]     #status-history-chart-control-container .chart-line{fill:none;stroke-width:1.5px}[_nghost-%COMP%]     #status-history-chart-container .chart-line.over, [_nghost-%COMP%]     #status-history-chart-control-container .chart-line.over{stroke-width:2.5px}[_nghost-%COMP%]     #status-history-chart-container .brush .selection, [_nghost-%COMP%]     #status-history-chart-control-container .brush .selection{fill-opacity:.125;shape-rendering:crispEdges}[_nghost-%COMP%]     #status-history-chart-container{height:372px;cursor:default;overflow:hidden}[_nghost-%COMP%]     #status-history-chart-control-container{height:125px;margin-top:5px;cursor:default;overflow:hidden}[_nghost-%COMP%]     #status-history-chart-container text, #status-history-chart-control-container[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:10px}[_nghost-%COMP%]     .mat-mdc-dialog-surface.mdc-dialog__surface{overflow:hidden!important}
















`]})}}return t})();var Pp=(()=>{class t{constructor(e,n,r,o,a){this.actions$=e,this.store=n,this.statusHistoryService=r,this.dialog=o,this.errorHelper=a,this.reloadComponentStatusHistory$=N(()=>this.actions$.pipe(I(gi),P(s=>s.request),fe(s=>!!s.componentId&&!!s.componentType),F(s=>ee(this.statusHistoryService.getComponentStatusHistory(s.componentType,s.componentId).pipe(P(l=>rn({response:{statusHistory:{canRead:l.canRead,statusHistory:l.statusHistory}}})),G(l=>this.bannerOrFullScreenError(l))))))),this.reloadNodeStatusHistory$=N(()=>this.actions$.pipe(I(gi),P(s=>s.request),fe(s=>!s.componentId&&!s.componentType),F(()=>ee(this.statusHistoryService.getNodeStatusHistory().pipe(P(s=>rn({response:{statusHistory:{canRead:s.canRead,statusHistory:s.statusHistory}}})),G(s=>this.bannerOrFullScreenError(s))))))),this.getStatusHistoryAndOpenDialog$=N(()=>this.actions$.pipe(I(gr),P(s=>s.request),F(s=>ee(this.statusHistoryService.getComponentStatusHistory(s.componentType,s.componentId).pipe(P(l=>Ni({request:s,response:{statusHistory:{canRead:l.canRead,statusHistory:l.statusHistory}}})),G(l=>this.snackBarOrFullScreenError(l))))))),this.getNodeStatusHistoryAndOpenDialog$=N(()=>this.actions$.pipe(I(uc),P(s=>s.request),F(s=>ee(this.statusHistoryService.getNodeStatusHistory().pipe(P(l=>Ni({request:s,response:{statusHistory:{canRead:l.canRead,statusHistory:l.statusHistory}}})),G(l=>this.snackBarOrFullScreenError(l))))))),this.loadStatusHistorySuccess$=N(()=>this.actions$.pipe(I(Ni),P(s=>s.request),F(s=>M(jo({request:s}))))),this.openStatusHistoryDialog$=N(()=>this.actions$.pipe(I(jo),P(s=>s.request),ce(s=>{this.dialog.open(Mp,{maxHeight:"unset",maxWidth:"unset",data:s,autoFocus:"dialog"}).afterClosed().subscribe(c=>{c!=="ROUTED"&&("componentType"in s?this.store.dispatch(yr({request:{source:s.source,componentType:s.componentType,componentId:s.componentId}})):this.store.dispatch(vr({request:{source:s.source}})))})})),{dispatch:!1}),this.statusHistoryBannerError$=N(()=>this.actions$.pipe(I(on),P(s=>s.error),F(s=>M(Lt({errorContext:{errors:[s],context:Ze.STATUS_HISTORY}})))))}bannerOrFullScreenError(e){if(this.errorHelper.showErrorInContext(e.status)){let n=this.errorHelper.getErrorString(e,"Failed to reload Status History.");return M(on({error:n}))}else return M(this.errorHelper.fullScreenError(e))}snackBarOrFullScreenError(e){if(this.errorHelper.showErrorInContext(e.status)){let n=this.errorHelper.getErrorString(e,"Failed to load Status History.");return M(Ee({error:n}))}else return M(this.errorHelper.fullScreenError(e))}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(ae),x(xo),x(Ne),x(Ce))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Ip=(()=>{class t{static{this.API="../nifi-api"}constructor(e,n,r,o){this.httpClient=e,this.nifiCommon=n,this.client=r,this.clusterConnectionService=o}getControllerService(e){let n={uiOnly:!0};return this.httpClient.get(`${t.API}/controller-services/${e}`,{params:n})}setEnable(e,n){return this.httpClient.put(`${this.nifiCommon.stripProtocol(e.uri)}/run-status`,{revision:this.client.getRevision(e),disconnectedNodeAcknowledged:this.clusterConnectionService.isDisconnectionAcknowledged(),state:n?"ENABLED":"DISABLED",uiOnly:!0})}updateReferencingServices(e,n){let r={};return this.getReferencingComponentRevisions(e.component.referencingComponents,r,!0),this.httpClient.put(`${this.nifiCommon.stripProtocol(e.uri)}/references`,{id:e.id,state:n?"ENABLED":"DISABLED",referencingComponentRevisions:r,disconnectedNodeAcknowledged:this.clusterConnectionService.isDisconnectionAcknowledged(),uiOnly:!0})}updateReferencingSchedulableComponents(e,n){let r={};return this.getReferencingComponentRevisions(e.component.referencingComponents,r,!1),this.httpClient.put(`${this.nifiCommon.stripProtocol(e.uri)}/references`,{id:e.id,state:n?"RUNNING":"STOPPED",referencingComponentRevisions:r,disconnectedNodeAcknowledged:this.clusterConnectionService.isDisconnectionAcknowledged(),uiOnly:!0})}getReferencingComponentRevisions(e,n,r){this.nifiCommon.isEmpty(e)||e.forEach(o=>{let a=o.component;r?a.referenceType==="ControllerService"&&(n[a.id]=this.client.getRevision(o)):(a.referenceType==="Processor"||a.referenceType==="ReportingTask")&&(n[a.id]=this.client.getRevision(o)),this.getReferencingComponentRevisions(a.referencingComponents,n,r)})}static{this.\u0275fac=function(n){return new(n||t)(x(He),x(Be),x(ni),x(Pc))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Op=(()=>{class t{constructor(e,n,r,o,a){this.actions$=e,this.store=n,this.dialog=r,this.controllerServiceStateService=o,this.errorHelper=a,this.submitEnableRequest$=N(()=>this.actions$.pipe(I(Fr),P(s=>s.request),Ae(()=>this.store.select(vi).pipe(be())),F(([s,l])=>s.scope==="SERVICE_AND_REFERENCING_COMPONENTS"&&this.hasUnauthorizedReferences(l.component.referencingComponents)?M(Pt({response:{step:de.EnableService,error:"Unable to enable due to unauthorized referencing components."}})):M(Rr())))),this.submitDisableRequest$=N(()=>this.actions$.pipe(I(Nr),Ae(()=>this.store.select(vi).pipe(be())),F(([,s])=>this.hasUnauthorizedReferences(s.component.referencingComponents)?M(Pt({response:{step:de.StopReferencingComponents,error:"Unable to disable due to unauthorized referencing components."}})):M(Hr())))),this.setEnableControllerService$=N(()=>this.actions$.pipe(I(Rr),Ae(()=>[this.store.select(vi).pipe(be()),this.store.select(hn)]),F(([,s,l])=>ee(this.controllerServiceStateService.setEnable(s,l.enable)).pipe(P(c=>pn({response:{controllerService:c,currentStep:l.currentStep}})),G(c=>M(Pt({response:{step:l.currentStep,error:this.errorHelper.getErrorString(c)}}))))))),this.setEnableControllerServiceSuccess$=N(()=>this.actions$.pipe(I(pn),P(s=>s.response),fe(s=>s.currentStep!==de.DisableService),F(()=>M(Br())))),this.startPollingControllerService$=N(()=>this.actions$.pipe(I(Br),F(()=>Ut(2e3,zt).pipe(Me(this.actions$.pipe(I(Vr))))),F(()=>M(Go())))),this.pollControllerService$=N(()=>this.actions$.pipe(I(Go),Ae(()=>[this.store.select(vi).pipe(be()),this.store.select(hn)]),F(([,s,l])=>ee(this.controllerServiceStateService.getControllerService(s.id)).pipe(P(c=>fn({response:{controllerService:c,currentStep:this.getNextStep(l,s)},previousStep:l.currentStep})),G(c=>M(Pt({response:{step:l.currentStep,error:this.errorHelper.getErrorString(c)}}))))))),this.setEnableStepComplete$=N(()=>this.actions$.pipe(I(fn),fe(s=>{let l=s.response,c=s.previousStep;return l.currentStep!==c}),F(s=>{switch(s.response.currentStep){case de.DisableReferencingServices:case de.EnableReferencingServices:return M(Ko());case de.DisableService:case de.EnableService:return M(Rr());case de.StopReferencingComponents:case de.StartReferencingComponents:return M(Hr());case de.Completed:default:return M(Vr())}}))),this.updateReferencingServices$=N(()=>this.actions$.pipe(I(Ko),Ae(()=>[this.store.select(vi),this.store.select(hn)]),F(([,s,l])=>s?ee(this.controllerServiceStateService.updateReferencingServices(s,l.enable)).pipe(P(c=>Lr({response:{referencingComponents:c.controllerServiceReferencingComponents,currentStep:l.currentStep}})),G(c=>M(Pt({response:{step:l.currentStep,error:this.errorHelper.getErrorString(c)}})))):M(jr({title:"Enable Service",message:"Controller Service not initialized"}))))),this.updateReferencingComponents$=N(()=>this.actions$.pipe(I(Hr),Ae(()=>[this.store.select(vi),this.store.select(hn)]),F(([,s,l])=>s?ee(this.controllerServiceStateService.updateReferencingSchedulableComponents(s,l.enable)).pipe(P(c=>dn({response:{referencingComponents:c.controllerServiceReferencingComponents,currentStep:l.currentStep}})),G(c=>M(Pt({response:{step:l.currentStep,error:this.errorHelper.getErrorString(c)}})))):M(jr({title:"Enable Service",message:"Controller Service not initialized"}))))),this.updateReferencingComponentsSuccess$=N(()=>this.actions$.pipe(I(dn),P(s=>s.response),fe(s=>s.currentStep!==de.StartReferencingComponents),F(()=>M(Br())))),this.setEnableStepFailure$=N(()=>this.actions$.pipe(I(Pt),F(()=>M(Vr())))),this.showOkDialog$=N(()=>this.actions$.pipe(I(jr),ce(s=>{this.dialog.open(mr,O(w({},Jt),{data:{title:s.title,message:s.message}}))})),{dispatch:!1})}hasUnauthorizedReferences(e){if(e.length===0)return!1;if(e.some(o=>!o.permissions.canRead||!o.permissions.canWrite))return!0;let r=e.filter(o=>o.component.referenceType==="ControllerService");return r.length===0?!1:r.some(o=>this.hasUnauthorizedReferences(o.component.referencingComponents))}getNextStep(e,n){switch(e.currentStep){case de.EnableService:return this.isServiceActionComplete(n,["ENABLED","ENABLING"])?e.scope==="SERVICE_ONLY"?de.Completed:de.EnableReferencingServices:e.currentStep;case de.EnableReferencingServices:return this.isReferencingServicesActionComplete(n.component.referencingComponents,["ENABLED","ENABLING"])?de.StartReferencingComponents:e.currentStep;case de.StartReferencingComponents:return de.Completed;case de.StopReferencingComponents:return this.areReferencingComponentsStopped(n.component.referencingComponents)?de.DisableReferencingServices:e.currentStep;case de.DisableReferencingServices:return this.isReferencingServicesActionComplete(n.component.referencingComponents,["DISABLED"])?de.DisableService:e.currentStep;case de.DisableService:return this.isServiceActionComplete(n,["DISABLED"])?de.Completed:e.currentStep;default:return e.currentStep}}isServiceActionComplete(e,n){return n.includes(e.status.runStatus)}isReferencingServicesActionComplete(e,n){let r=e.filter(o=>o.component.referenceType==="ControllerService");return r.length===0?!0:r.some(o=>{let a=n.includes(o.component.state);return a&&this.isReferencingServicesActionComplete(o.component.referencingComponents,n)})}areReferencingComponentsStopped(e){if(e.filter(a=>a.component.referenceType==="Processor"||a.component.referenceType==="ReportingTask").some(a=>{let s=a.component;return s.state==="RUNNING"||s.activeThreadCount&&s.activeThreadCount>0}))return!1;let o=e.filter(a=>a.component.referenceType==="ControllerService");return o.length===0?!0:o.some(a=>this.areReferencingComponentsStopped(a.component.referencingComponents))}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(ae),x(Ne),x(Ip),x(Ce))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Fp=(()=>{class t{static{this.API="../nifi-api"}constructor(e,n){this.httpClient=e,this.client=n}getSystemDiagnostics(e){if(e){let n={nodewise:!0};return this.httpClient.get(`${t.API}/system-diagnostics`,{params:n})}return this.httpClient.get(`${t.API}/system-diagnostics`)}static{this.\u0275fac=function(n){return new(n||t)(x(He),x(ni))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ag(t,i){if(t&1&&(y(0,"div",10)(1,"div"),S(2),g(),y(3,"div",11),S(4),g()()),t&2){let e=i.$implicit;_(2),_e(e.name),_(2),wi(" ",e.collectionCount," times (",e.collectionTime,") ")}}function lg(t,i){if(t&1&&(y(0,"div",9),Kt(1,ag,5,3,"div",10,ui),g()),t&2){let e=L(2);_(),Gt(e.sortedGarbageCollections)}}function cg(t,i){if(t&1&&(y(0,"div")(1,"div",18),S(2),g(),Y(3,"mat-progress-bar",19),y(4,"div",11),S(5),g()()),t&2){let e=i.$implicit,n=L(2);_(2),ie("Usage for ",e.identifier,":"),_(),z("value",n.getRepositoryStorageUsagePercent(e)),_(2),pi(" ",e.utilization," (",e.usedSpace," of ",e.totalSpace,") ")}}function mg(t,i){if(t&1&&(y(0,"div")(1,"div",18),S(2),g(),Y(3,"mat-progress-bar",19),y(4,"div",11),S(5),g()()),t&2){let e=i.$implicit,n=L(2);_(2),ie("Usage for ",e.identifier,":"),_(),z("value",n.getRepositoryStorageUsagePercent(e)),_(2),pi(" ",e.utilization," (",e.usedSpace," of ",e.totalSpace,") ")}}function ug(t,i){if(t&1){let e=Se();y(0,"h2",0),S(1,"System Diagnostics"),g(),Y(2,"context-error-banner",1),y(3,"div",2)(4,"mat-tab-group",3),ja("selectedIndexChange",function(r){oe(e);let o=L();return Va(o.selectedIndex,r)||(o.selectedIndex=r),se(r)}),te("selectedIndexChange",function(r){oe(e);let o=L();return se(o.tabChanged(r))}),y(5,"mat-tab",4)(6,"mat-dialog-content")(7,"div",5)(8,"div",6)(9,"div",7)(10,"section")(11,"div",8),S(12),g(),y(13,"div",9)(14,"div",10)(15,"div"),S(16,"Max"),g(),y(17,"div",11),S(18),g()(),y(19,"div",10)(20,"div"),S(21,"Total"),g(),y(22,"div",11),S(23),g()(),y(24,"div",10)(25,"div"),S(26,"Used"),g(),y(27,"div",11),S(28),g()(),y(29,"div",10)(30,"div"),S(31,"Free"),g(),y(32,"div",11),S(33),g()()()(),y(34,"section")(35,"div",8),S(36,"Garbage Collection"),g(),$(37,lg,3,0,"div",9),g()(),y(38,"div",7)(39,"section")(40,"div",8),S(41,"Non Heap"),g(),y(42,"div",9)(43,"div",10)(44,"div"),S(45,"Max"),g(),y(46,"div",11),S(47),g()(),y(48,"div",10)(49,"div"),S(50,"Total"),g(),y(51,"div",11),S(52),g()(),y(53,"div",10)(54,"div"),S(55,"Used"),g(),y(56,"div",11),S(57),g()(),y(58,"div",10)(59,"div"),S(60,"Free"),g(),y(61,"div",11),S(62),g()()()(),y(63,"section")(64,"div",8),S(65,"Runtime"),g(),y(66,"div",9)(67,"div",10)(68,"div"),S(69,"Uptime"),g(),y(70,"div",11),S(71),g()()()()()()()()(),y(72,"mat-tab",12)(73,"mat-dialog-content")(74,"div",13)(75,"div",14)(76,"div",7)(77,"div",9)(78,"div",10)(79,"div"),S(80,"Available Cores"),g(),y(81,"div",11),S(82),g()()()(),y(83,"div",7)(84,"div",9)(85,"div",10)(86,"div",15)(87,"div"),S(88,"Core Load Average"),g(),Y(89,"i",16),g(),y(90,"div",11),S(91),g()()()()(),y(92,"section",17)(93,"div",8),S(94,"FlowFile Repository Usage"),g(),y(95,"div")(96,"div",18),S(97,"Usage:"),g(),Y(98,"mat-progress-bar",19),y(99,"div",11),S(100),g()()(),y(101,"section",17)(102,"div",8),S(103,"Content Repository Usage"),g(),y(104,"div",20),Kt(105,cg,6,5,"div",null,ui),g()(),y(107,"section",17)(108,"div",8),S(109,"Provenance Repository Usage"),g(),y(110,"div",20),Kt(111,mg,6,5,"div",null,ui),g()()()()(),y(113,"mat-tab",21)(114,"mat-dialog-content")(115,"div",5)(116,"div",22)(117,"section")(118,"div",8),S(119,"NiFi"),g(),y(120,"dl",23)(121,"dt",24),S(122,"NiFi Version"),g(),y(123,"dd"),S(124),g(),y(125,"dt",24),S(126,"Tag"),g(),y(127,"dd"),S(128),g(),y(129,"dt",24),S(130,"Build Date/Time"),g(),y(131,"dd"),S(132),g(),y(133,"dt",24),S(134,"Branch"),g(),y(135,"dd"),S(136),g(),y(137,"dt",24),S(138,"Revision"),g(),y(139,"dd"),S(140),g()()(),y(141,"section")(142,"div",8),S(143,"Java"),g(),y(144,"dl",23)(145,"dt",24),S(146,"Version"),g(),y(147,"dd"),S(148),g(),y(149,"dt",24),S(150,"Vendor"),g(),y(151,"dd"),S(152),g()()(),y(153,"section")(154,"div",8),S(155,"Operating System"),g(),y(156,"dl",23)(157,"dt",24),S(158,"Name"),g(),y(159,"dd"),S(160),g(),y(161,"dt",24),S(162,"Version"),g(),y(163,"dd"),S(164),g(),y(165,"dt",24),S(166,"Architecture"),g(),y(167,"dd"),S(168),g()()()()()()()(),y(169,"mat-dialog-actions")(170,"div",25)(171,"div",26)(172,"button",27),te("click",function(){oe(e);let r=L();return se(r.refreshSystemDiagnostics())}),Y(173,"i",28),Oe(174,"async"),g(),y(175,"div"),S(176,"Last updated:"),g(),y(177,"div",11),S(178),Oe(179,"async"),g()(),y(180,"div")(181,"button",29),S(182,"Close"),g()()()()()}if(t&2){let e=i,n=L();_(2),z("context",n.ErrorContextKey.SYSTEM_DIAGNOSTICS),_(2),Ba("selectedIndex",n.selectedIndex),_(8),ie(" Heap (",e.heapUtilization,") "),_(6),ie(" ",e.maxHeap," "),_(5),ie(" ",e.totalHeap," "),_(5),ie(" ",e.usedHeap," "),_(5),ie(" ",e.freeHeap," "),_(4),Q(n.sortedGarbageCollections?37:-1),_(10),ie(" ",e.maxNonHeap," "),_(5),ie(" ",e.totalNonHeap," "),_(5),ie(" ",e.usedNonHeap," "),_(5),ie(" ",e.freeNonHeap," "),_(9),ie(" ",e.uptime," "),_(11),ie(" ",e.availableProcessors," "),_(7),z("tooltipComponentType",n.TextTip),_(2),ie(" ",n.formatFloat(e.processorLoadAverage)," "),_(7),z("value",n.getRepositoryStorageUsagePercent(e.flowFileRepositoryStorageUsage)),_(2),pi(" ",e.flowFileRepositoryStorageUsage.utilization," (",e.flowFileRepositoryStorageUsage.usedSpace," of ",e.flowFileRepositoryStorageUsage.totalSpace,") "),_(5),Gt(e.contentRepositoryStorageUsage),_(6),Gt(e.provenanceRepositoryStorageUsage),_(13),_e(e.versionInfo.niFiVersion),_(4),_e(e.versionInfo.buildTag),_(4),_e(e.versionInfo.buildTimestamp),_(4),_e(e.versionInfo.buildBranch),_(4),_e(e.versionInfo.buildRevision),_(8),_e(e.versionInfo.javaVersion),_(4),_e(e.versionInfo.javaVendor),_(8),_e(e.versionInfo.osName),_(4),_e(e.versionInfo.osVersion),_(4),_e(e.versionInfo.osArchitecture),_(5),Xe("fa-spin",Fe(174,33,n.status$)==="loading"),_(5),_e(Fe(179,35,n.loadedTimestamp$))}}var Np=(()=>{class t extends Lc{constructor(e,n){super("system-diagnostics-selected-index"),this.store=e,this.nifiCommon=n,this.systemDiagnostics$=this.store.select(im),this.loadedTimestamp$=this.store.select(nm),this.status$=this.store.select(rm),this.sortedGarbageCollections=null,this.TextTip=ii,this.ErrorContextKey=Ze}ngOnInit(){this.systemDiagnostics$.pipe(be()).subscribe(e=>{let n=e.aggregateSnapshot.garbageCollection.slice();n.sort((r,o)=>this.nifiCommon.compareString(r.name,o.name)),this.sortedGarbageCollections=n})}refreshSystemDiagnostics(){this.store.dispatch(Ri({request:{nodewise:!1,errorStrategy:"banner"}}))}formatFloat(e){return this.nifiCommon.formatFloat(e)}getRepositoryStorageUsagePercent(e){return e.usedSpaceBytes/e.totalSpaceBytes*100}static{this.\u0275fac=function(n){return new(n||t)(re(ae),re(Be))}}static{this.\u0275cmp=ue({type:t,selectors:[["system-diagnostics-dialog"]],features:[$e],decls:2,vars:3,consts:[["mat-dialog-title",""],[3,"context"],[1,"system-diagnostics"],[3,"selectedIndexChange","selectedIndex"],["label","JVM"],[1,"dialog-tab-content","w-full"],[1,"flex","gap-y-4"],[1,"flex","flex-col","flex-1","gap-y-4"],[1,"font-bold","primary-color"],[1,"flex","flex-col","gap-y-3"],[1,"flex","flex-col"],[1,"tertiary-color","font-medium"],["label","System"],[1,"dialog-tab-content","gap-y-6","w-full","flex","flex-col"],[1,"flex"],[1,"flex","gap-x-3","items-center"],["nifiTooltip","","tooltipInputData","Core load average for the last minute. Not available on all platforms.",1,"fa","fa-info-circle","primary-color",3,"tooltipComponentType"],[1,"flex","flex-col","pr-4"],[1,"capitalize"],["mode","determinate",3,"value"],[1,"repository-storage-container","flex","flex-col","gap-y-2"],["label","Version"],[1,"flex","flex-col","gap-y-4"],[1,"setting-attributes-list"],[1,"font-bold"],[1,"flex","flex-1","justify-between"],[1,"text-sm","flex","items-center","gap-x-2"],["mat-icon-button","",1,"primary-icon-button",3,"click"],[1,"fa","fa-refresh"],["mat-button","","mat-dialog-close",""]],template:function(n,r){if(n&1&&($(0,ug,183,37),Oe(1,"async")),n&2){let o;Q((o=(o=Fe(1,1,r.systemDiagnostics$))==null?null:o.aggregateSnapshot)?0:-1,o)}},dependencies:[ot,rt,Mc,kc,Dc,Ct,Ue,qe,Ge,Ke,Mt,Re,Dt,ti,fm,Ur,Hi],styles:[`.system-diagnostics[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px}.system-diagnostics[_ngcontent-%COMP%]{--mdc-filled-button-container-height: 32px}.system-diagnostics[_ngcontent-%COMP%]{--mdc-protected-button-container-height: 32px}.system-diagnostics[_ngcontent-%COMP%]{--mdc-outlined-button-container-height: 32px}.system-diagnostics[_ngcontent-%COMP%]{--mat-text-button-touch-target-display: block}.system-diagnostics[_ngcontent-%COMP%]{--mat-filled-button-touch-target-display: block}.system-diagnostics[_ngcontent-%COMP%]{--mat-protected-button-touch-target-display: block}.system-diagnostics[_ngcontent-%COMP%]{--mat-outlined-button-touch-target-display: block}.system-diagnostics[_ngcontent-%COMP%]   .setting-attributes-list[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{float:left;clear:left;padding:0 .5em .2em 0}.system-diagnostics[_ngcontent-%COMP%]   .setting-attributes-list[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{margin-left:9em;padding-bottom:.2em}
















`]})}}return t})();var Rp=(()=>{class t{constructor(e,n,r,o,a){this.actions$=e,this.store=n,this.systemDiagnosticsService=r,this.dialog=o,this.errorHelper=a,this.reloadSystemDiagnostics$=N(()=>this.actions$.pipe(I(Ri),P(s=>s.request),F(s=>ee(this.systemDiagnosticsService.getSystemDiagnostics(s.nodewise)).pipe(P(l=>Sr({response:{systemDiagnostics:l.systemDiagnostics}})),G(l=>{let c=this.errorHelper.getErrorString(l,"Failed to reload System Diagnostics.");return s.errorStrategy==="snackbar"?M(Li({error:c})):M(an({error:c}))}))))),this.getSystemDiagnosticsAndOpenDialog$=N(()=>this.actions$.pipe(I(_r),P(s=>s.request),F(s=>ee(this.systemDiagnosticsService.getSystemDiagnostics(s.nodewise)).pipe(P(l=>sn({response:{systemDiagnostics:l.systemDiagnostics}})),G(l=>M(Li({error:this.errorHelper.getErrorString(l,"Failed to load System Diagnostics.")}))))))),this.loadSystemDiagnosticsSuccess$=N(()=>this.actions$.pipe(I(sn),F(()=>M($o())))),this.openSystemDiagnosticsDialog$=N(()=>this.actions$.pipe(I($o),ce(()=>{this.dialog.open(Np,w({},Qn)).afterClosed().subscribe(()=>{this.store.dispatch(Cr())})})),{dispatch:!1}),this.systemDiagnosticsBannerError$=N(()=>this.actions$.pipe(I(an),P(s=>s.error),F(s=>M(Lt({errorContext:{errors:[s],context:Ze.SYSTEM_DIAGNOSTICS}}))))),this.systemDiagnosticsSnackbarError$=N(()=>this.actions$.pipe(I(Li),P(s=>s.error),F(s=>M(Ee({error:s})))))}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(ae),x(Fp),x(Ne),x(Ce))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Lp=(()=>{class t{constructor(e,n,r){this.actions$=e,this.flowConfigurationService=n,this.errorHelper=r,this.loadFlowConfiguration$=N(()=>this.actions$.pipe(I(hc),F(()=>ee(this.flowConfigurationService.getFlowConfiguration().pipe(P(o=>gc({response:o})),G(o=>M(Ee({error:this.errorHelper.getErrorString(o,"Failed to load Flow Configuration.")}))))))))}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(em),x(Ce))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Hp=(()=>{class t{constructor(e,n){this.httpClient=e,this.nifiCommon=n}getComponentState(e){return this.httpClient.get(`${this.nifiCommon.stripProtocol(e.componentUri)}/state`)}clearComponentState(e){return this.httpClient.post(`${this.nifiCommon.stripProtocol(e.componentUri)}/state/clear-requests`,{})}static{this.\u0275fac=function(n){return new(n||t)(x(He),x(Be))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wo=Vn(To),Bp=Rt(wo,t=>t.componentState),Vp=Rt(wo,t=>t.componentName),na=Rt(wo,t=>t.componentUri),jp=Rt(wo,t=>t.canClear);var dg=t=>({value:t});function fg(t,i){t&1&&(y(0,"div",4)(1,"div"),S(2,"Name"),g(),y(3,"div",5),S(4),g()()),t&2&&(_(4),_e(i))}function hg(t,i){if(t&1){let e=Se();y(0,"div")(1,"a",26),te("click",function(){oe(e);let r=L(2);return se(r.clearState())}),S(2,"Clear state"),g()()}}function gg(t,i){if(t&1&&$(0,hg,3,0,"div"),t&2){let e=L();Q(i.value&&e.totalEntries>0?0:-1)}}function yg(t,i){t&1&&(y(0,"th",27),S(1,"Key"),g())}function vg(t,i){if(t&1&&(y(0,"td",28),S(1),g()),t&2){let e=i.$implicit;_(),ie(" ",e.key," ")}}function Sg(t,i){t&1&&(y(0,"th",27),S(1,"Value"),g())}function _g(t,i){if(t&1&&(y(0,"td",29),S(1),g()),t&2){let e=i.$implicit;z("title",e.value),_(),ie(" ",e.value," ")}}function Cg(t,i){t&1&&(y(0,"th",27),S(1,"Scope"),g())}function bg(t,i){if(t&1&&(y(0,"td",29),S(1),g()),t&2){let e=i.$implicit;z("title",e.scope),_(),ie(" ",e.scope," ")}}function Eg(t,i){t&1&&(Qt(0,20),$(1,Cg,2,0,"th",16)(2,bg,2,2,"td",19),Wt())}function Tg(t,i){t&1&&Y(0,"tr",30)}function xg(t,i){if(t&1&&Y(0,"tr",31),t&2){let e=i.even;Xe("even",e)}}function Ag(t,i){t&1&&(y(0,"div",23),S(1,"Showing partial results"),g())}var $p=(()=>{class t extends bt{constructor(e,n,r){super(),this.store=e,this.formBuilder=n,this.nifiCommon=r,this.initialSortColumn="key",this.initialSortDirection="asc",this.componentName$=this.store.select(Vp).pipe(be()),this.canClear$=this.store.select(jp).pipe(be()),this.displayedColumns=["key","value"],this.dataSource=new nn,this.stateDescription="",this.totalEntries=0,this.filteredEntries=0,this.partialResults=!1,this.destroyRef=Z(xi),this.ErrorContextKey=Ze,this.filterForm=this.formBuilder.group({filterTerm:""}),this.store.select(Bp).pipe(be(),ze()).subscribe(o=>{this.stateDescription=o.stateDescription;let a=[];if(o.localState){let l=this.processStateMap(o.localState,!1);a.push(...l)}if(o.clusterState){let l=this.processStateMap(o.clusterState,!0);a.push(...l)}this.dataSource.data=this.sortStateItems(a,{active:this.initialSortColumn,direction:this.initialSortDirection}),this.filteredEntries=a.length;let s=this.filterForm.get("filterTerm")?.value;s?.length>0&&this.applyFilter(s)}),this.store.select(mn).pipe(be(),ze()).subscribe(o=>{if(o.connectedToCluster)this.displayedColumns.includes("scope")||this.displayedColumns.splice(this.displayedColumns.length,0,"scope");else{let a=this.displayedColumns.indexOf("scope");a>-1&&this.displayedColumns.splice(a,1)}})}ngAfterViewInit(){this.filterForm.get("filterTerm")?.valueChanges.pipe(mi(500),ze(this.destroyRef)).subscribe(e=>{this.applyFilter(e)})}processStateMap(e,n){let r=e.state?e.state:[];return r.length!==e.totalEntryCount&&(this.partialResults=!0),this.totalEntries+=e.totalEntryCount,r.map(o=>({key:o.key,value:o.value,scope:n?"Cluster":o.clusterNodeAddress}))}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase(),this.filteredEntries=this.dataSource.filteredData.length}sortData(e){this.dataSource.data=this.sortStateItems(this.dataSource.data,e)}sortStateItems(e,n){return e?e.slice().sort((r,o)=>{let a=n.direction==="asc",s=0;switch(n.active){case"key":s=this.nifiCommon.compareString(r.key,o.key);break;case"value":s=this.nifiCommon.compareString(r.value,o.value);break;case"scope":r.scope&&o.scope&&(s=this.nifiCommon.compareString(r.scope,o.scope));break}return s*(a?1:-1)}):[]}clearState(){this.store.dispatch(Mr())}static{this.\u0275fac=function(n){return new(n||t)(re(ae),re(kt),re(Be))}}static{this.\u0275cmp=ue({type:t,selectors:[["component-state"]],inputs:{initialSortColumn:"initialSortColumn",initialSortDirection:"initialSortDirection"},features:[$e],decls:41,vars:21,consts:[[1,"component-state-dialog"],["mat-dialog-title",""],[3,"context"],[1,"dialog-content","flex","flex-col","justify-between","gap-y-5"],[1,"flex","flex-col"],[1,"tertiary-color","font-medium"],[1,"flex","flex-1","flex-col"],[1,"flex","flex-col","my-2",3,"formGroup"],[1,"flex","justify-between","items-center"],["subscriptSizing","dynamic"],["matInput","","type","text","formControlName","filterTerm",1,"small"],[1,"my-2","tertiary-color","leading-none","font-medium"],[1,"listing-table","flex-1","relative"],[1,"absolute","inset-0","overflow-y-auto","overflow-x-hidden"],["mat-table","","matSort","","matSortDisableClear","",3,"matSortChange","dataSource","matSortActive","matSortDirection"],["matColumnDef","key"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-cell","",3,"title",4,"matCellDef"],["matColumnDef","scope"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"even",4,"matRowDef","matRowDefColumns"],[1,"-mt-3"],["align","end"],["mat-button","","mat-dialog-close",""],[3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",3,"title"],["mat-header-row",""],["mat-row",""]],template:function(n,r){if(n&1&&(y(0,"div",0)(1,"h2",1),S(2,"Component State"),g(),Y(3,"context-error-banner",2),y(4,"mat-dialog-content")(5,"div",3),$(6,fg,5,1,"div",4),Oe(7,"async"),y(8,"div",4)(9,"div"),S(10,"Description"),g(),y(11,"div",5),S(12),g()(),y(13,"div",6)(14,"div")(15,"form",7)(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),S(19,"Filter"),g(),Y(20,"input",10),g(),$(21,gg,1,1),Oe(22,"async"),g()(),y(23,"div",11),S(24),g()(),y(25,"div",12)(26,"div",13)(27,"table",14),te("matSortChange",function(a){return r.sortData(a)}),Qt(28,15),$(29,yg,2,0,"th",16)(30,vg,2,1,"td",17),Wt(),Qt(31,18),$(32,Sg,2,0,"th",16)(33,_g,2,2,"td",19),Wt(),$(34,Eg,3,0,"ng-container",20)(35,Tg,1,0,"tr",21)(36,xg,1,2,"tr",22),g()()()(),$(37,Ag,2,0,"div",23),g()(),y(38,"mat-dialog-actions",24)(39,"button",25),S(40,"Close"),g()()()),n&2){let o,a;_(3),z("context",r.ErrorContextKey.COMPONENT_STATE),_(3),Q((o=Fe(7,15,r.componentName$))?6:-1,o),_(6),ie(" ",r.stateDescription," "),_(3),z("formGroup",r.filterForm),_(6),Q((a=di(19,dg,Fe(22,17,r.canClear$)))?21:-1,a),_(3),wi(" Displaying ",r.filteredEntries," of ",r.totalEntries," "),_(3),z("dataSource",r.dataSource)("matSortActive",r.initialSortColumn)("matSortDirection",r.initialSortDirection),_(7),Q(r.displayedColumns.includes("scope")?34:-1),_(),z("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),_(),z("matRowDefColumns",r.displayedColumns),_(),Q(r.partialResults?37:-1)}},dependencies:[Mt,Re,Ct,Ue,qe,Ge,Ke,or,Wn,Xn,tr,Zn,Yn,ir,Jn,er,nr,rr,Or,Oc,Fc,rt,at,xt,sr,Et,Tt,At,wt,Oi,Ii,Pi,cr,lr,Hi],styles:[".component-state-dialog[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px}.component-state-dialog[_ngcontent-%COMP%]{--mdc-filled-button-container-height: 32px}.component-state-dialog[_ngcontent-%COMP%]{--mdc-protected-button-container-height: 32px}.component-state-dialog[_ngcontent-%COMP%]{--mdc-outlined-button-container-height: 32px}.component-state-dialog[_ngcontent-%COMP%]{--mat-text-button-touch-target-display: block}.component-state-dialog[_ngcontent-%COMP%]{--mat-filled-button-touch-target-display: block}.component-state-dialog[_ngcontent-%COMP%]{--mat-protected-button-touch-target-display: block}.component-state-dialog[_ngcontent-%COMP%]{--mat-outlined-button-touch-target-display: block}.component-state-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-column-key[_ngcontent-%COMP%]{width:200px}"]})}}return t})();var zp=(()=>{class t{constructor(e,n,r,o,a){this.actions$=e,this.store=n,this.componentStateService=r,this.dialog=o,this.errorHelper=a,this.getComponentStateAndOpenDialog$=N(()=>this.actions$.pipe(I(Dr),P(s=>s.request),F(s=>ee(this.componentStateService.getComponentState({componentUri:s.componentUri}).pipe(P(l=>un({response:{componentState:l.componentState}})),G(l=>M(Ee({error:this.errorHelper.getErrorString(l,`Failed to get the component state for ${s.componentName}.`)})))))))),this.loadComponentStateSuccess$=N(()=>this.actions$.pipe(I(un),P(s=>s.response),F(()=>M(zo())))),this.openComponentStateDialog$=N(()=>this.actions$.pipe(I(zo),ce(()=>{this.dialog.open($p,O(w({},Qn),{autoFocus:!1})).afterClosed().subscribe(()=>{this.store.dispatch(Ir())})})),{dispatch:!1}),this.clearComponentState$=N(()=>this.actions$.pipe(I(Mr),Ae(()=>this.store.select(na).pipe(be())),F(([,s])=>ee(this.componentStateService.clearComponentState({componentUri:s}).pipe(P(()=>Uo()),G(l=>M(Lt({errorContext:{errors:[this.errorHelper.getErrorString(l,"Failed to clear the component state.")],context:Ze.COMPONENT_STATE}})))))))),this.reloadComponentState$=N(()=>this.actions$.pipe(I(Uo),Ae(()=>this.store.select(na).pipe(be())),F(([,s])=>ee(this.componentStateService.getComponentState({componentUri:s}).pipe(P(l=>Pr({response:{componentState:l.componentState}})),G(l=>M(Lt({errorContext:{errors:[this.errorHelper.getErrorString(l,"Failed to reload the component state.")],context:Ze.COMPONENT_STATE}}))))))))}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(ae),x(Hp),x(Ne),x(Ce))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function wg(t,i){if(t&1){let e=Se();y(0,"div",1)(1,"button",2),te("click",function(){oe(e);let r=L();return se(r.action())}),S(2),g()()}if(t&2){let e=L();_(2),ie(" ",e.data.action," ")}}var kg=["label"];function Dg(t,i){}var Mg=Math.pow(2,31)-1,Mn=class{_overlayRef;instance;containerInstance;_afterDismissed=new pt;_afterOpened=new pt;_onAction=new pt;_durationTimeoutId;_dismissedByAction=!1;constructor(i,e){this._overlayRef=e,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,Mg))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Up=new qt("MatSnackBarData"),Wi=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},Pg=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Fn({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),Ig=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Fn({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),Og=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=Fn({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),qp=(()=>{class t{snackBarRef=Z(Mn);data=Z(Up);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ue({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){n&1&&(y(0,"div",0),S(1),g(),$(2,wg,3,1,"div",1)),n&2&&(_(),ie(" ",r.data.message,`
`),_(),Q(r.hasAction?2:-1))},dependencies:[Re,Pg,Ig,Og],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return t})(),ra="_mat-snack-bar-enter",oa="_mat-snack-bar-exit",Fg=(()=>{class t extends Cl{_ngZone=Z(Ai);_elementRef=Z(Aa);_changeDetectorRef=Z(Nn);_platform=Z(El);_rendersRef;_animationsDisabled=Z(Yi,{optional:!0})==="NoopAnimations";snackBarConfig=Z(Wi);_document=Z(Rn);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new pt;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new pt;_onExit=new pt;_onEnter=new pt;_animationState="void";_live;_label;_role;_liveElementId=Z(wl).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=ka(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}attachDomPortal=e=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),n};onAnimationEnd(e){e===oa?this._completeExit():e===ra&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(De(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(ra)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(ra)},200)))}exit(){return this._destroyed?M(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(De(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(oa)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(oa),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(a=>e.classList.add(a)):e.classList.add(n)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let r=n.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,n=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(n&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),r.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ue({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(n&1&&(Xi(Bo,7),Xi(kg,7)),n&2){let o;Zi(o=Ji())&&(r._portalOutlet=o.first),Zi(o=Ji())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,r){n&1&&te("animationend",function(a){return r.onAnimationEnd(a.animationName)})("animationcancel",function(a){return r.onAnimationEnd(a.animationName)}),n&2&&Xe("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[$e],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(y(0,"div",1)(1,"div",2,0)(3,"div",3),$(4,Dg,0,0,"ng-template",4),g(),Y(5,"div"),g()()),n&2&&(_(5),Fa("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Bo],styles:["@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2})}return t})();function Ng(){return new Wi}var Rg=new qt("mat-snack-bar-default-options",{providedIn:"root",factory:Ng}),sa=(()=>{class t{_overlay=Z(Ml);_live=Z(Al);_injector=Z(On);_breakpointObserver=Z(Tl);_parentSnackBar=Z(t,{optional:!0,skipSelf:!0});_defaultConfig=Z(Rg);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=qp;snackBarContainerComponent=Fg;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",r){let o=w(w({},this._defaultConfig),r);return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=On.create({parent:r||this._injector,providers:[{provide:Wi,useValue:n}]}),a=new Ho(this.snackBarContainerComponent,n.viewContainerRef,o),s=e.attach(a);return s.instance.snackBarConfig=n,s.instance}_attach(e,n){let r=w(w(w({},new Wi),this._defaultConfig),n),o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),s=new Mn(a,o);if(e instanceof Ma){let l=new _l(e,null,{$implicit:r.data,snackBarRef:s});s.instance=a.attachTemplatePortal(l)}else{let l=this._createInjector(r,s),c=new Ho(e,void 0,l),d=a.attachComponentPortal(c);s.instance=d.instance}return this._breakpointObserver.observe(Kc.HandsetPortrait).pipe(Me(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let n=new kl;n.direction=e.direction;let r=this._overlay.position().global(),o=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,s=!a&&e.horizontalPosition!=="center";return a?r.left("0"):s?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(e,n){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return On.create({parent:r||this._injector,providers:[{provide:Mn,useValue:n},{provide:Up,useValue:e.data}]})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Kp=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=_t({type:t});static \u0275inj=St({providers:[sa],imports:[Ol,bl,Mt,Vo,qp,Vo]})}return t})();var Gp=(()=>{class t{constructor(e,n,r){this.actions$=e,this.router=n,this.snackBar=r,this.fullScreenError$=N(()=>this.actions$.pipe(I(st),P(o=>o.skipReplaceUrl),ce(o=>{o?this.router.navigate(["/error"]):this.router.navigate(["/error"],{replaceUrl:!0})})),{dispatch:!1}),this.snackBarError$=N(()=>this.actions$.pipe(I(Ee),P(o=>o.error),ce(o=>{this.snackBar.open(o,"Dismiss",{duration:3e4})})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(Yt),x(sa))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Qp=(()=>{class t{constructor(e,n){this.actions$=e,this.router=n,this.navigateToComponentDocumentation$=N(()=>this.actions$.pipe(I(Ic),P(r=>r.request),ce(r=>{let o=r.parameters;this.router.navigate(["/documentation",o.componentType,o.group,o.artifact,o.version,o.type],{state:{backNavigation:r.backNavigation}})})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(Yt))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Wp=(()=>{class t{constructor(e,n,r,o,a){this.actions$=e,this.clusterService=n,this.store=r,this.dialog=o,this.errorHelper=a,this.loadClusterSummary$=N(()=>this.actions$.pipe(I(ln),Ae(()=>this.store.select(mn)),F(([,s])=>ee(this.clusterService.getClusterSummary().pipe(P(l=>{let c=l.clusterSummary,d=c.connectedToCluster;return s?s.connectedToCluster!==c.connectedToCluster&&this.store.dispatch(yi({connectedToCluster:d})):c.clustered&&!c.connectedToCluster&&this.store.dispatch(yi({connectedToCluster:d})),xr({response:l})}),G(l=>M(Ee({error:this.errorHelper.getErrorString(l,"Failed to load cluster summary")})))))))),this.startProcessGroupPolling$=N(()=>this.actions$.pipe(I(vc),F(()=>Ut(3e4,zt).pipe(Me(this.actions$.pipe(I(Tr))))),F(()=>M(ln())))),this.acknowledgeClusterConnectionChange$=N(()=>this.actions$.pipe(I(yi),ga(2e3),ce(({connectedToCluster:s})=>{let l=s?"This node just joined the cluster. Any modifications to the data flow made here will replicate across the cluster.":"This node is currently not connected to the cluster. Any modifications to the data flow made here will not replicate across the cluster.",c=this.dialog.open(mr,O(w({},Jt),{disableClose:!0,data:{title:"Cluster Connection",message:l}}));c.componentInstance.ok.pipe(Me(c.afterClosed())).subscribe(()=>{s?this.store.dispatch(cn({disconnectionAcknowledged:!1})):this.store.dispatch(cn({disconnectionAcknowledged:!0}))})})),{dispatch:!1}),this.searchCluster$=N(()=>this.actions$.pipe(I(_c),P(s=>s.request),Ae(()=>this.store.select(mn).pipe(be(),fe(s=>s.connectedToCluster))),F(([s])=>ee(this.clusterService.searchCluster(s.q)).pipe(P(l=>Ar({response:l})),G(l=>M(Ee({error:this.errorHelper.getErrorString(l,"Failed to search cluster summary")})))))))}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(Jc),x(ae),x(Ne),x(Ce))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var Yp=(()=>{class t{static{this.API="../nifi-api"}constructor(e,n,r){this.httpClient=e,this.client=n,this.nifiCommon=r}getAnalysis(e){let n={configurationAnalysis:{componentId:e.entity.id,properties:e.properties}};return this.httpClient.post(`${this.nifiCommon.stripProtocol(e.entity.uri)}/config/analysis`,n)}initiatePropertyVerification(e){return this.httpClient.post(`${this.nifiCommon.stripProtocol(e.uri)}/config/verification-requests`,e.request)}getPropertyVerificationRequest(e,n){return this.httpClient.get(`${this.nifiCommon.stripProtocol(n)}/config/verification-requests/${e}`)}deletePropertyVerificationRequest(e,n){return this.httpClient.delete(`${this.nifiCommon.stripProtocol(n)}/config/verification-requests/${e}`)}static{this.\u0275fac=function(n){return new(n||t)(x(He),x(ni),x(Be))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Bg(t,i){t&1&&S(0," Complete ")}function Vg(t,i){if(t&1&&S(0),t&2){let e=L();ie(" ",e.state," ")}}function jg(t,i){if(t&1&&(y(0,"div",5),$(1,Bg,1,0)(2,Vg,1,1),g(),y(3,"div",6),Y(4,"mat-progress-bar",7),y(5,"div",5),S(6),g()()),t&2){let e=i;_(),Q(e.complete?1:2),_(3),z("value",e.percentCompleted),_(2),ie("",e.percentCompleted,"%")}}function $g(t,i){if(t&1){let e=Se();y(0,"button",8),te("click",function(){let r=oe(e),o=L();return se(o.stop(r))}),S(1,"Stop"),g()}}var Xp=(()=>{class t{constructor(){this.verificationRequest$=M(null),this.stopVerification=new nt}stop(e){this.stopVerification.next(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ue({type:t,selectors:[["property-verification-progress"]],inputs:{verificationRequest$:"verificationRequest$"},outputs:{stopVerification:"stopVerification"},decls:10,vars:6,consts:[["mat-dialog-title",""],[1,"change-version-progress"],[1,"flex","flex-col","gap-y-4"],["align","end"],["mat-flat-button","","mat-dialog-close",""],[1,"tertiary-color","font-medium"],[1,"w-full","flex","flex-col","items-center"],["mode","determinate",3,"value"],["mat-flat-button","","mat-dialog-close","",3,"click"]],template:function(n,r){if(n&1&&(y(0,"h2",0),S(1,"Verifying Properties"),g(),y(2,"div",1)(3,"mat-dialog-content")(4,"div",2),$(5,jg,7,3),Oe(6,"async"),g()(),y(7,"mat-dialog-actions",3),$(8,$g,2,0,"button",4),Oe(9,"async"),g()()),n&2){let o,a;_(5),Q((o=Fe(6,2,r.verificationRequest$))?5:-1,o),_(3),Q((a=Fe(9,4,r.verificationRequest$))?8:-1,a)}},dependencies:[ot,rt,Re,Ge,Ue,Ke,qe,Ur],encapsulation:2})}}return t})();var Zp=(()=>{class t extends bt{constructor(e,n){super(),this.formBuilder=e,this.data=n,this.verify=new nt,this.TextTip=ii;let r=n.attributes||[];this.referencedAttributesForm=this.formBuilder.group({attributes:new hi(r)})}verifyClicked(){this.verify.next(this.referencedAttributesForm.value)}clearAttributesClicked(){this.referencedAttributesForm.reset()}isEmpty(){return(this.referencedAttributesForm.get("attributes")?.value||[]).length===0}static{this.\u0275fac=function(n){return new(n||t)(re(kt),re(Mi))}}static{this.\u0275cmp=ue({type:t,selectors:[["referenced-attributes-dialog"]],inputs:{createNew:"createNew"},outputs:{verify:"verify"},features:[$e],decls:17,vars:5,consts:[["mat-dialog-title",""],[1,"referenced-attributes-form",3,"formGroup"],[1,"dialog-content","max-h-96"],["formControlName","attributes",3,"createNew","reportChangesOnly"],[1,"flex","flex-row","justify-between","items-center"],["nifiTooltip","","tooltipInputData","Supply attribute values that should be considered when performing property verification.",1,"fa","fa-info-circle","primary-color",3,"tooltipComponentType"],["mat-icon-button","","type","button",1,"primary-icon-button",3,"click","disabled"],[1,"fa","fa-eraser"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(n,r){n&1&&(y(0,"h2",0),S(1,"Referenced Attributes"),g(),y(2,"form",1)(3,"mat-dialog-content")(4,"div",2)(5,"map-table",3)(6,"div",4)(7,"div"),S(8," Enter Attribute Values "),Y(9,"i",5),g(),y(10,"button",6),te("click",function(){return r.clearAttributesClicked()}),Y(11,"i",7),g()()()()(),y(12,"mat-dialog-actions",8)(13,"button",9),S(14,"Cancel"),g(),y(15,"button",10),te("click",function(){return r.verifyClicked()}),S(16,"Verify"),g()()()),n&2&&(_(2),z("formGroup",r.referencedAttributesForm),_(3),z("createNew",r.createNew)("reportChangesOnly",!1),_(4),z("tooltipComponentType",r.TextTip),_(),z("disabled",r.isEmpty()))},dependencies:[ot,qe,at,xt,Et,Tt,At,wt,Ke,Ge,Re,Ue,bm,ti,Dt],encapsulation:2})}}return t})();var Jp=(()=>{class t{constructor(e,n,r,o,a,s,l){this.actions$=e,this.store=n,this.dialog=r,this.errorHelper=o,this.propertyVerificationService=a,this.propertyTableHelperService=s,this.mapTableHelperService=l,this.verifyProperties$=N(()=>this.actions$.pipe(I(zc),P(c=>c.request),F(c=>ee(this.propertyVerificationService.getAnalysis(c)).pipe(P(d=>Bi({response:{requestContext:c,configurationAnalysis:d.configurationAnalysis}})),G(d=>M(Ee({error:this.errorHelper.getErrorString(d)}))))))),this.getConfigurationAnalysisSuccess_noExtraVerification$=N(()=>this.actions$.pipe(I(Bi),P(c=>c.response),fe(c=>!c.configurationAnalysis.supportsVerification),F(c=>M(ji({response:c}))))),this.getConfigurationAnalysisSuccess_extraVerification$=N(()=>this.actions$.pipe(I(Bi),P(c=>c.response),fe(c=>c.configurationAnalysis.supportsVerification),Ae(()=>this.store.select(qc)),ce(([c,d])=>{let h=[];d&&(h=Object.entries(d).map(([T,f])=>({name:T,value:f})));let b=this.dialog.open(Zp,O(w({},Jt),{data:{attributes:h}}));b.componentInstance.createNew=this.mapTableHelperService.createNewEntry("Attribute"),b.componentInstance.verify.pipe(Me(b.afterClosed())).subscribe(T=>{let f=T.attributes||[],u={};f.forEach(p=>{u[p.name]=p.value});let m=O(w({},c),{configurationAnalysis:O(w({},c.configurationAnalysis),{referencedAttributes:u})});this.store.dispatch(ji({response:m}))})})),{dispatch:!1}),this.initiatePropertyVerification$=N(()=>this.actions$.pipe(I(ji),P(c=>c.response),F(c=>(this.store.dispatch(Yo()),ee(this.propertyVerificationService.initiatePropertyVerification({request:{request:{properties:c.configurationAnalysis.properties,componentId:c.configurationAnalysis.componentId,attributes:c.configurationAnalysis.referencedAttributes}},uri:c.requestContext.entity.uri}).pipe(P(d=>yn({response:d})),G(d=>M(Ee({error:this.errorHelper.getErrorString(d)}))))))))),this.openPropertyVerificationProgressDialog$=N(()=>this.actions$.pipe(I(Yo),ce(()=>{let c=this.dialog.open(Xp,w({},Gn)),d=this.store.select(zr).pipe(be());c.componentInstance.verificationRequest$=d,d.pipe(Me(c.afterClosed()),be(),fe(h=>h.complete)).subscribe(h=>{h.failureReason&&this.store.dispatch(Ee({error:h.failureReason})),c.close()}),c.componentInstance.stopVerification.pipe(De(1)).subscribe(()=>{this.store.dispatch(Vi())})})),{dispatch:!1}),this.verifyPropertiesSuccess$=N(()=>this.actions$.pipe(I(yn),P(c=>c.response),fe(c=>!c.request.complete),F(()=>M(Qo())))),this.startPollingPropertyVerification$=N(()=>this.actions$.pipe(I(Qo),F(()=>Ut(2e3,zt).pipe(Me(this.actions$.pipe(I(Vi))))),F(()=>M(Wo())))),this.pollPropertyVerification$=N(()=>this.actions$.pipe(I(Wo),Ae(()=>[this.store.select(Xo).pipe(be()),this.store.select(zr).pipe(be())]),F(([,c,d])=>ee(this.propertyVerificationService.getPropertyVerificationRequest(d.requestId,c.entity.uri).pipe(P(h=>gn({response:h})),G(h=>(this.store.dispatch(Vi()),M(Ee({error:this.errorHelper.getErrorString(h)}))))))))),this.pollPropertyVerificationSuccess$=N(()=>this.actions$.pipe(I(gn),P(c=>c.response),fe(c=>c.request.complete),F(()=>M(Vi())))),this.stopPollingPropertyVerification$=N(()=>this.actions$.pipe(I(Vi),Ae(()=>[this.store.select(Xo).pipe(be()),this.store.select(zr).pipe(be())]),F(([,c,d])=>ee(this.propertyVerificationService.deletePropertyVerificationRequest(d.requestId,c.entity.uri)).pipe(P(()=>$r()),G(h=>M(Ee({error:this.errorHelper.getErrorString(h)})))))))}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(ae),x(Ne),x(Ce),x(Yp),x($c),x(xm))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var ed=(t,i)=>{let e=Z(mm);return e.set(!0,t.url),i(t).pipe(ya(()=>e.set(!1,t.url)))};var td=(()=>{class t{constructor(e,n,r){this.actions$=e,this.authService=n,this.errorHelper=r,this.loadLoginConfiguration$=N(()=>this.actions$.pipe(I(Kr),F(()=>ee(this.authService.getLoginConfiguration().pipe(P(o=>oi({response:o})),G(o=>M(Ee({error:this.errorHelper.getErrorString(o,"Failed to load Login Configuration.")}))))))))}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(Xt),x(Ce))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var id=(()=>{class t{static{this.API="../nifi-api"}constructor(e){this.httpClient=e}getBannerText(){return this.httpClient.get(`${t.API}/flow/banners`)}static{this.\u0275fac=function(n){return new(n||t)(x(He))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var nd=(()=>{class t{constructor(e,n,r){this.actions$=e,this.bannerTextService=n,this.store=r,this.loadBannerText$=N(()=>this.actions$.pipe(I(wr),Ae(()=>this.store.select(xc)),fe(([,o])=>o===null),F(()=>ee(this.bannerTextService.getBannerText().pipe(P(o=>kr({response:{bannerText:o.banners}})))))))}static{this.\u0275fac=function(n){return new(n||t)(x(ge),x(id),x(ae))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var rd=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var od=localStorage.getItem("disable-animations"),ko=od!==null?JSON.parse(od).item:"";ko!=="true"&&ko!=="false"&&(ko=window.matchMedia("(prefers-reduced-motion: reduce)").matches.toString());var Ug={showDelay:2e3,hideDelay:0,touchendHideDelay:1e3},sd=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=_t({type:t,bootstrap:[Am]})}static{this.\u0275inj=St({providers:[ko==="true"?wu():Au(),{provide:ql,useValue:{appearance:"outline"}},Qa(Wa([Sp,ed,Cp]),Ya({cookieName:"__Secure-Request-Token",headerName:"Request-Token"})),{provide:qo,useValue:Ug},wc({clipboardOptions:{provide:Ac,useValue:{buttonComponent:Em}}})],imports:[Ln,Sm,xu,cl.forRoot(yp),Zl.forRoot({routerState:Xl.Minimal,navigationActionTiming:Wl.PostActivation}),rc.forRoot(Gp,vp,_p,Tp,nd,Lp,td,Pp,Op,Rp,zp,Qp,Wp,Jp,rd),Yu.instrument({maxAge:25,logOnly:Xu.production,autoPause:!0}),ec,Nc,Ct,Kp]})}}return t})();var kA=$t(cd()),DA=$t(pd()),MA=$t(hd()),PA=$t(aa()),IA=$t(_d()),OA=$t(Ed()),FA=$t(Ad()),NA=$t(Dd());Ga().bootstrapModule(sd).catch(t=>console.error(t));
