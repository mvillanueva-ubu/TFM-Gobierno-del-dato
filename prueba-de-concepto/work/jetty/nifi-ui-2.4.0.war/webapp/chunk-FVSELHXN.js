import{$a as y,$b as Ne,A as ge,Aa as Oe,Ab as Re,Ae as We,Bb as N,Cb as L,E as Me,Gb as Ae,H as ye,Hb as v,Hd as ee,Jb as w,K as ke,La as u,Me as re,Oa as B,Od as te,Pd as je,Ra as Se,Sb as D,T as ve,U as be,V as F,Va as we,Vc as Ve,W as Ce,X as l,Xa as _,Yb as Be,Za as O,Zb as He,ab as x,ae as E,ba as U,bb as S,c as d,cc as q,da as C,db as H,eb as $,fa as r,fc as J,ga as j,ha as z,hb as f,hc as Le,ia as W,jb as De,kb as Ee,ke as ie,la as xe,lb as Pe,le as h,ma as Z,mb as g,me as ne,na as G,nb as k,ob as I,qa as Ie,r as _e,ra as Q,rc as Ke,re as se,s as fe,sb as Y,se as ze,ta as Te,tb as X,te as K,ua as T,ub as m,va as R,vb as c,x as P,ya as A,yd as Ue,zb as Fe}from"./chunk-6VUBUCMU.js";import{a as b,b as pe}from"./chunk-EQDQRRRY.js";var Qe=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=_({type:i,selectors:[["","cdkMenuGroup",""]],hostAttrs:["role","group",1,"cdk-menu-group"],exportAs:["cdkMenuGroup"],features:[D([{provide:re,useClass:re}])]})}return i})(),ce=new C("cdk-menu"),M=function(i){return i[i.nextItem=0]="nextItem",i[i.previousItem=1]="previousItem",i[i.currentItem=2]="currentItem",i}(M||{}),p=new C("cdk-menu-stack"),tt={provide:p,deps:[[new z,new W,new j(p)]],useFactory:i=>i||new le},it=i=>({provide:p,deps:[[new z,new W,new j(p)]],useFactory:a=>a||le.inline(i)}),le=(()=>{class i{id=r(ie).getId("cdk-menu-stack-");_elements=[];_close=new d;_empty=new d;_hasFocus=new d;closed=this._close;hasFocus=this._hasFocus.pipe(F(!1),Me(0),ke());emptied=this._empty;_inlineMenuOrientation=null;static inline(e){let t=new i;return t._inlineMenuOrientation=e,t}push(e){this._elements.push(e)}close(e,t){let{focusNextOnEmpty:n,focusParentTrigger:s}=b({},t);if(this._elements.indexOf(e)>=0){let o;do o=this._elements.pop(),this._close.next({item:o,focusParentTrigger:s});while(o!==e);this.isEmpty()&&this._empty.next(n)}}closeSubMenuOf(e){let t=!1;if(this._elements.indexOf(e)>=0)for(t=this.peek()!==e;this.peek()!==e;)this._close.next({item:this._elements.pop()});return t}closeAll(e){let{focusNextOnEmpty:t,focusParentTrigger:n}=b({},e);if(!this.isEmpty()){for(;!this.isEmpty();){let s=this._elements.pop();s&&this._close.next({item:s,focusParentTrigger:n})}this._empty.next(t)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return this._inlineMenuOrientation!=null}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(e){this._hasFocus.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=U({token:i,factory:i.\u0275fac})}return i})(),V=new C("cdk-menu-trigger"),nt=new C("cdk-menu-scroll-strategy",{providedIn:"root",factory:()=>{let i=r(K);return()=>i.scrollStrategies.reposition()}}),$e=(()=>{class i{injector=r(Q);viewContainerRef=r(Se);menuStack=r(p);menuScrollStrategy=r(nt);menuPosition;opened=new T;closed=new T;menuTemplateRef;menuData;overlayRef=null;destroyed=new d;stopOutsideClicksListener=P(this.closed,this.destroyed);childMenu;_menuPortal;_childMenuInjector;ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(e){this.childMenu=e}getMenuContentPortal(){let e=this.menuTemplateRef!==this._menuPortal?.templateRef;return this.menuTemplateRef&&(!this._menuPortal||e)&&(this._menuPortal=new Ue(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(e){for(let t=e;t;t=t?.parentElement??null)if(t.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||Q.create({providers:[{provide:V,useValue:this},{provide:p,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}static \u0275fac=function(t){return new(t||i)};static \u0275dir=_({type:i,hostVars:2,hostBindings:function(t,n){t&2&&x("aria-controls",n.childMenu==null?null:n.childMenu.id)("data-cdk-menu-stack-id",n.menuStack.id)}})}return i})();var de=new C("cdk-menu-aim");function Ye(i,a){if(!a.isTrusted)return!1;let e=i.nativeElement,t=a.keyCode;return e.nodeName==="BUTTON"&&!e.disabled?t===13||t===32:e.nodeName==="A"?t===13:!1}var he=(()=>{class i extends $e{_elementRef=r(A);_overlay=r(K);_ngZone=r(R);_changeDetectorRef=r(q);_inputModalityDetector=r(te);_directionality=r(E,{optional:!0});_renderer=r(B);_cleanupMouseenter;_parentMenu=r(ce,{optional:!0});_menuAim=r(de,{optional:!0});constructor(){super(),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){!this.isOpen()&&this.menuTemplateRef!=null&&(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._changeDetectorRef.markForCheck(),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this._changeDetectorRef.markForCheck()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}ngOnChanges(e){e.menuPosition&&this.overlayRef&&this.overlayRef.updatePositionStrategy(this._getOverlayPositionStrategy())}ngOnDestroy(){this._cleanupMouseenter(),super.ngOnDestroy()}_toggleOnKeydown(e){let t=this._parentMenu?.orientation==="vertical";switch(e.keyCode){case 32:case 13:!h(e)&&!Ye(this._elementRef,e)&&(this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case 39:h(e)||this._parentMenu&&t&&this._directionality?.value!=="rtl"&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 37:h(e)||this._parentMenu&&t&&this._directionality?.value==="rtl"&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case 40:case 38:h(e)||t||(e.preventDefault(),this.open(),e.keyCode===40?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"));break}}_handleClick(){this.toggle(),this.childMenu?.focusFirstItem("mouse")}_setHasFocus(e){this._parentMenu||this.menuStack.setHasFocus(e)}_subscribeToMouseEnter(){this._cleanupMouseenter=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"mouseenter",()=>{if(this._inputModalityDetector.mostRecentModality!=="touch"&&!this.menuStack.isEmpty()&&!this.isOpen()){let e=()=>this._ngZone.run(()=>{this._closeSiblingTriggers(),this.open()});this._menuAim?this._menuAim.toggle(e):e()}}))}_closeSiblingTriggers(){this._parentMenu?!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll():this.menuStack.closeAll()}_getOverlayConfig(){return new ne({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this.menuScrollStrategy(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withFlexibleDimensions(!1).withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(!this._parentMenu||this._parentMenu.orientation==="horizontal"?se:ze)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe(l(this.destroyed)).subscribe(({item:e})=>{e===this.childMenu&&this.close()})}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe(l(this.stopOutsideClicksListener)).subscribe(e=>{let t=ee(e),n=this._elementRef.nativeElement;t!==n&&!n.contains(t)&&(this.isElementInsideMenuStack(t)?this._closeSiblingTriggers():this.menuStack.closeAll())})}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe(l(this.destroyed)).subscribe(e=>{e||this.menuStack.closeAll()})}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe(({focusParentTrigger:e})=>{e&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()})}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){let e=this._elementRef.nativeElement;e.nodeName==="BUTTON"&&!e.getAttribute("type")&&e.setAttribute("type","button")}static \u0275fac=function(t){return new(t||i)};static \u0275dir=_({type:i,selectors:[["","cdkMenuTriggerFor",""]],hostAttrs:[1,"cdk-menu-trigger"],hostVars:2,hostBindings:function(t,n){t&1&&m("focusin",function(){return n._setHasFocus(!0)})("focusout",function(){return n._setHasFocus(!1)})("keydown",function(o){return n._toggleOnKeydown(o)})("click",function(){return n._handleClick()}),t&2&&x("aria-haspopup",n.menuTemplateRef?"menu":null)("aria-expanded",n.menuTemplateRef==null?null:n.isOpen())},inputs:{menuTemplateRef:[0,"cdkMenuTriggerFor","menuTemplateRef"],menuPosition:[0,"cdkMenuPosition","menuPosition"],menuData:[0,"cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},exportAs:["cdkMenuTriggerFor"],features:[D([{provide:V,useExisting:i},tt]),O,xe]})}return i})(),me=(()=>{class i{_dir=r(E,{optional:!0});_elementRef=r(A);_ngZone=r(R);_inputModalityDetector=r(te);_renderer=r(B);_cleanupMouseEnter;_menuAim=r(de,{optional:!0});_menuStack=r(p);_parentMenu=r(ce,{optional:!0});_menuTrigger=r(he,{optional:!0,self:!0});disabled=!1;typeaheadLabel;triggered=new T;get hasMenu(){return this._menuTrigger?.menuTemplateRef!=null}_tabindex=-1;closeOnSpacebarTrigger=!0;destroyed=new d;constructor(){this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}ngOnDestroy(){this._cleanupMouseEnter?.(),this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(e){let{keepOpen:t}=b({},e);!this.disabled&&!this.hasMenu&&(this.triggered.next(),t||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(e){this.disabled||(!e||!this._menuStack.isEmpty())&&(this._tabindex=0)}_onKeydown(e){switch(e.keyCode){case 32:case 13:if(!h(e)&&!Ye(this._elementRef,e)){let t=this._elementRef.nativeElement.nodeName;t!=="A"&&t!=="BUTTON"&&e.preventDefault(),this.trigger({keepOpen:e.keyCode===32&&!this.closeOnSpacebarTrigger})}break;case 39:h(e)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._forwardArrowPressed(e):this._backArrowPressed(e));break;case 37:h(e)||this._parentMenu&&this._isParentVertical()&&(this._dir?.value!=="rtl"?this._backArrowPressed(e):this._forwardArrowPressed(e));break}}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(e){let t=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(e.preventDefault(),this._menuStack.close(t,{focusNextOnEmpty:this._menuStack.inlineMenuOrientation()==="horizontal"?M.previousItem:M.currentItem,focusParentTrigger:!0}))}_forwardArrowPressed(e){!this.hasMenu&&this._menuStack.inlineMenuOrientation()==="horizontal"&&(e.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:M.nextItem,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){let e=()=>this._ngZone.run(()=>this._menuStack.closeSubMenuOf(this._parentMenu));this._cleanupMouseEnter=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"mouseenter",()=>{this._inputModalityDetector.mostRecentModality!=="touch"&&!this._menuStack.isEmpty()&&!this.hasMenu&&(this._menuAim?this._menuAim.toggle(e):e())}))}}_isParentVertical(){return this._parentMenu?.orientation==="vertical"}_setType(){let e=this._elementRef.nativeElement;e.nodeName==="BUTTON"&&!e.getAttribute("type")&&e.setAttribute("type","button")}static \u0275fac=function(t){return new(t||i)};static \u0275dir=_({type:i,selectors:[["","cdkMenuItem",""]],hostAttrs:["role","menuitem",1,"cdk-menu-item"],hostVars:2,hostBindings:function(t,n){t&1&&m("blur",function(){return n._resetTabIndex()})("focus",function(){return n._setTabIndex()})("click",function(){return n.trigger()})("keydown",function(o){return n._onKeydown(o)}),t&2&&(X("tabindex",n._tabindex),x("aria-disabled",n.disabled||null))},inputs:{disabled:[2,"cdkMenuItemDisabled","disabled",J],typeaheadLabel:[0,"cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},exportAs:["cdkMenuItem"]})}return i})(),ue=class{_renderer;_items;_eventCleanups;_itemsSubscription;entered=new d;exited=new d;activeElement;previousElement;constructor(a,e){this._renderer=a,this._items=e,this._bindEvents(),this.entered.subscribe(t=>this.activeElement=t),this.exited.subscribe(()=>{this.previousElement=this.activeElement,this.activeElement=void 0})}destroy(){this._cleanupEvents(),this._itemsSubscription?.unsubscribe()}_bindEvents(){this._itemsSubscription=this._items.changes.pipe(F(this._items)).subscribe(()=>{this._cleanupEvents(),this._eventCleanups=[],this._items.forEach(a=>{let e=a._elementRef.nativeElement;this._eventCleanups.push(this._renderer.listen(e,"mouseenter",()=>{this.entered.next(a)}),this._renderer.listen(e,"mouseout",()=>{this.exited.next(a)}))})})}_cleanupEvents(){this._eventCleanups?.forEach(a=>a()),this._eventCleanups=void 0}},st=(()=>{class i extends Qe{_focusMonitor=r(je);ngZone=r(R);_renderer=r(B);nativeElement=r(A).nativeElement;menuStack=r(p);menuAim=r(de,{optional:!0,self:!0});dir=r(E,{optional:!0});id=r(ie).getId("cdk-menu-");items;orientation="vertical";isInline=!1;keyManager;destroyed=new d;triggerItem;pointerTracker;_menuStackHasFocus=Oe(!1);_tabIndexSignal=Le(()=>{let e=this._menuStackHasFocus()?-1:0;return this.isInline?e:null});ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._handleFocus(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.nativeElement),this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setFirstItemActive()}focusLastItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setLastItemActive()}_getTabIndex(){return this._tabIndexSignal()}closeOpenMenu(e,t){let{focusParentTrigger:n}=b({},t),s=this.keyManager,o=this.triggerItem;e===o?.getMenuTrigger()?.getMenu()&&(o?.getMenuTrigger()?.close(),n&&(o?s.setActiveItem(o):s.setFirstItemActive()))}_setKeyManager(){this.keyManager=new We(this.items).withWrap().withTypeAhead().withHomeAndEnd(),this.orientation==="horizontal"?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){let e=P(this.items.changes,this.destroyed);this.items.changes.pipe(F(this.items),_e(t=>t.filter(n=>n.hasMenu).map(n=>n.getMenuTrigger().opened.pipe(ye(n),l(e)))),fe(),Ce(t=>(this.triggerItem=t,t.getMenuTrigger().closed)),l(this.destroyed)).subscribe(()=>this.triggerItem=void 0)}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe(l(this.destroyed)).subscribe(({item:e,focusParentTrigger:t})=>this.closeOpenMenu(e,{focusParentTrigger:t}))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe(l(this.destroyed)).subscribe(e=>{this._menuStackHasFocus.set(e)})}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular(()=>{this.pointerTracker=new ue(this._renderer,this.items)}),this.menuAim.initialize(this,this.pointerTracker))}_handleFocus(){this._focusMonitor.monitor(this.nativeElement,!1).pipe(l(this.destroyed)).subscribe(e=>{e!==null&&e!=="mouse"&&this.focusFirstItem(e)})}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})();static \u0275dir=_({type:i,contentQueries:function(t,n,s){if(t&1&&Fe(s,me,5),t&2){let o;N(o=L())&&(n.items=o)}},hostAttrs:["role","menu"],hostVars:4,hostBindings:function(t,n){t&1&&m("focusin",function(){return n.menuStack.setHasFocus(!0)})("focusout",function(){return n.menuStack.setHasFocus(!1)}),t&2&&(X("tabindex",n._getTabIndex())("id",n.id),x("aria-orientation",n.orientation)("data-cdk-menu-stack-id",n.menuStack.id))},inputs:{id:"id"},features:[O]})}return i})(),Xe=(()=>{class i extends st{_parentTrigger=r(V,{optional:!0});closed=new T;orientation="vertical";isInline=!this._parentTrigger;constructor(){super(),this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(e){let t=this.keyManager;switch(e.keyCode){case 37:case 39:h(e)||(e.preventDefault(),t.setFocusOrigin("keyboard"),t.onKeydown(e));break;case 27:h(e)||(e.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:M.currentItem,focusParentTrigger:!0}));break;case 9:h(e,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:t.onKeydown(e)}}_toggleMenuFocus(e){let t=this.keyManager;switch(e){case M.nextItem:t.setFocusOrigin("keyboard"),t.setNextItemActive();break;case M.previousItem:t.setFocusOrigin("keyboard"),t.setPreviousItemActive();break;case M.currentItem:t.activeItem&&(t.setFocusOrigin("keyboard"),t.setActiveItem(t.activeItem));break}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe(l(this.destroyed)).subscribe(e=>this._toggleMenuFocus(e))}static \u0275fac=function(t){return new(t||i)};static \u0275dir=_({type:i,selectors:[["","cdkMenu",""]],hostAttrs:["role","menu",1,"cdk-menu"],hostVars:2,hostBindings:function(t,n){t&1&&m("keydown",function(o){return n._handleKeyEvent(o)}),t&2&&H("cdk-menu-inline",n.isInline)},outputs:{closed:"closed"},exportAs:["cdkMenu"],features:[D([{provide:Qe,useExisting:i},{provide:ce,useExisting:i},it("vertical")]),O]})}return i})();var rt=se.map(i=>{let a=i.overlayX==="start"?2:-2,e=i.overlayY==="top"?2:-2;return pe(b({},i),{offsetX:a,offsetY:e})}),ot=(()=>{class i{static _openContextMenuTrigger;update(e){i._openContextMenuTrigger!==e&&(i._openContextMenuTrigger?.close(),i._openContextMenuTrigger=e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),zt=(()=>{class i extends $e{_overlay=r(K);_directionality=r(E,{optional:!0});_contextMenuTracker=r(ot);_changeDetectorRef=r(q);disabled=!1;constructor(){super(),this._setMenuStackCloseListener()}open(e){this._open(null,e),this._changeDetectorRef.markForCheck()}close(){this.menuStack.closeAll()}_openOnContextMenu(e){this.disabled||(e.preventDefault(),e.stopPropagation(),this._contextMenuTracker.update(this),this._open(e,{x:e.clientX,y:e.clientY}),e.button===2?this.childMenu?.focusFirstItem("mouse"):e.button===0?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusFirstItem("program"))}_getOverlayConfig(e){return new ne({positionStrategy:this._getOverlayPositionStrategy(e),scrollStrategy:this.menuScrollStrategy(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(e){return this._overlay.position().flexibleConnectedTo(e).withLockedPosition().withGrowAfterOpen().withPositions(this.menuPosition??rt)}_setMenuStackCloseListener(){this.menuStack.closed.pipe(l(this.destroyed)).subscribe(({item:e})=>{e===this.childMenu&&this.isOpen()&&(this.closed.next(),this.overlayRef.detach(),this.childMenu=void 0,this._changeDetectorRef.markForCheck())})}_subscribeToOutsideClicks(e){if(this.overlayRef){let t=this.overlayRef.outsidePointerEvents();if(e){let[n,s]=ge(t,({type:o})=>o==="auxclick");t=P(s.pipe(be((o,qe)=>e.ctrlKey&&qe===0&&o.ctrlKey)),n.pipe(ve(1)))}t.pipe(l(this.stopOutsideClicksListener)).subscribe(n=>{this.isElementInsideMenuStack(ee(n))||this.menuStack.closeAll()})}}_open(e,t){this.disabled||(this.isOpen()?(this.menuStack.closeSubMenuOf(this.childMenu),this.overlayRef.getConfig().positionStrategy.setOrigin(t),this.overlayRef.updatePosition()):(this.opened.next(),this.overlayRef?(this.overlayRef.getConfig().positionStrategy.setOrigin(t),this.overlayRef.updatePosition()):this.overlayRef=this._overlay.create(this._getOverlayConfig(t)),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks(e)))}static \u0275fac=function(t){return new(t||i)};static \u0275dir=_({type:i,selectors:[["","cdkContextMenuTriggerFor",""]],hostVars:1,hostBindings:function(t,n){t&1&&m("contextmenu",function(o){return n._openOnContextMenu(o)}),t&2&&x("data-cdk-menu-stack-id",null)},inputs:{menuTemplateRef:[0,"cdkContextMenuTriggerFor","menuTemplateRef"],menuPosition:[0,"cdkContextMenuPosition","menuPosition"],menuData:[0,"cdkContextMenuTriggerData","menuData"],disabled:[2,"cdkContextMenuDisabled","disabled",J]},outputs:{opened:"cdkContextMenuOpened",closed:"cdkContextMenuClosed"},exportAs:["cdkContextMenuTriggerFor"],features:[D([{provide:V,useExisting:i},{provide:p,useClass:le}]),O]})}return i})();var at=["menu"];function ut(i,a){i&1&&I(0,"hr")}function ct(i,a){if(i&1&&(g(0,"button",4)(1,"div",6),I(2,"div",7),g(3,"div",8),v(4),k()(),I(5,"div",9),k()),i&2){let e=c(3).$implicit;S("cdkMenuTriggerFor",a),u(2),$(e.clazz),u(),S("title",e.text),u(),w(" ",e.text," ")}}function lt(i,a){if(i&1&&(y(0,ct,6,5,"button",4),I(1,"fd-context-menu",5,1)),i&2){let e,t=Ae(2),n=c(2).$implicit,s=c(2);f((e=t.menu)?0:-1,e),u(),S("menuProvider",s.menuProvider)("menuId",n.subMenuId)}}function dt(i,a){i&1&&v(0," \u21E7 ")}function ht(i,a){if(i&1&&v(0),i&2){let e=c(6);w(" ",e.isMac?"\u2318":"\u2303"," ")}}function mt(i,a){i&1&&v(0," \u2325 ")}function pt(i,a){if(i&1&&(g(0,"div",11),y(1,dt,1,0)(2,ht,1,1)(3,mt,1,0),v(4),k()),i&2){let e=c(3).$implicit;u(),f(e.shortcut.shift?1:-1),u(),f(e.shortcut.control?2:-1),u(),f(e.shortcut.alt?3:-1),u(),w(" ",e.shortcut.code," ")}}function _t(i,a){if(i&1){let e=Y();g(0,"button",10),m("click",function(n){Z(e);let s=c(2).$implicit,o=c(2);return G(o.menuItemClicked(s,n))}),g(1,"div",6),I(2,"div",7),g(3,"div",8),v(4),k()(),y(5,pt,5,4,"div",11),k()}if(i&2){let e=c(2).$implicit;u(2),$(e.clazz),u(),S("title",e.text),u(),w(" ",e.text," "),u(),f(e.shortcut?5:-1)}}function ft(i,a){if(i&1&&y(0,lt,3,3)(1,_t,6,5,"button",3),i&2){let e=c().$implicit,t=c(2);f(t.hasSubMenu(e)?0:1)}}function gt(i,a){if(i&1&&y(0,ut,1,0,"hr")(1,ft,2,1),i&2){let e=a.$implicit;f(e.isSeparator?0:1)}}function Mt(i,a){if(i&1){let e=Y();g(0,"div",2),Be(1,"async"),m("keydown",function(n){Z(e);let s=c();return G(s.keydown(n))}),Ee(2,gt,2,1,null,null,De),k()}if(i&2){let e=c();H("show-focused",He(1,2,e.showFocused$)),u(2),Pe(e.getMenuItems(e.menuId))}}var ii=(()=>{class i{constructor(){this.destroyRef=r(Te),this.showFocused=new d,this.showFocused$=this.showFocused.asObservable().pipe(Ve(this.destroyRef)),this.isMac=navigator.platform.toUpperCase().indexOf("MAC")>=0}getMenuItems(e){if(e){let t=this.menuProvider.getMenu(e);if(t){let n=t.menuItems.filter(s=>s.condition?this.menuProvider.filterMenuItem(s):s.subMenuId?this.getMenuItems(s.subMenuId).length>0:!0);return n=n.filter((s,o)=>s.isSeparator&&o>0?!n[o-1].isSeparator:!0),n.filter((s,o)=>!(s.isSeparator&&(o===0||o>=n.length-1)))}else return[]}return[]}hasSubMenu(e){return!!e.subMenuId}keydown(e){e.key==="Escape"&&e.stopPropagation(),this.showFocused.next(!0)}ngOnInit(){this.showFocused.next(!1)}menuItemClicked(e,t){this.menuProvider.menuItemClicked(e,t)}ngOnDestroy(){this.showFocused.complete()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=we({type:i,selectors:[["fd-context-menu"]],viewQuery:function(t,n){if(t&1&&Re(at,7),t&2){let s;N(s=L())&&(n.menu=s.first)}},inputs:{menuProvider:"menuProvider",menuId:"menuId"},decls:2,vars:0,consts:[["menu",""],["menuComponent",""],["cdkMenu","",1,"context-menu","mat-mdc-menu-panel","pt-2","pb-2","primary-color",3,"keydown"],["cdkMenuItem","",1,"context-menu-item","p-2","flex","justify-between"],["cdkMenuItem","",1,"context-menu-item","p-2",3,"cdkMenuTriggerFor"],[3,"menuProvider","menuId"],[1,"flex","gap-x-1"],[1,"context-menu-item-img"],[1,"context-menu-item-text","neutral-contrast",3,"title"],[1,"context-menu-group-item-img","fa","fa-caret-right"],["cdkMenuItem","",1,"context-menu-item","p-2","flex","justify-between",3,"click"],[1,"context-menu-item-shortcut","neutral-contrast","justify-end","opacity-40"]],template:function(t,n){t&1&&y(0,Mt,4,4,"ng-template",null,0,Ne)},dependencies:[i,Ke,Xe,me,he],styles:["div.context-menu[_ngcontent-%COMP%]{box-shadow:var(--mat-sys-level3);-webkit-user-select:none;user-select:none;display:flex;flex-direction:column;row-gap:5px;box-sizing:content-box}div.context-menu[_ngcontent-%COMP%]   fd-context-menu[_ngcontent-%COMP%]{margin-top:-5px}div.context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]{cursor:pointer;height:25px;border:none;display:flex;align-items:center;column-gap:3px}div.context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]   .context-menu-item-img[_ngcontent-%COMP%]{float:left;width:14px;background-size:cover}div.context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]   .context-menu-item-img.fa[_ngcontent-%COMP%], div.context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]   .context-menu-item-img.icon[_ngcontent-%COMP%]{position:relative;top:2px;left:2px}div.context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]   .context-menu-item-text[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}div.context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]   .context-menu-group-item-img[_ngcontent-%COMP%]{background-size:cover;margin-left:auto}div.context-menu[_ngcontent-%COMP%]   .context-menu-item[_ngcontent-%COMP%]:focus{outline:none}"]})}}return i})();export{zt as a,ii as b};
