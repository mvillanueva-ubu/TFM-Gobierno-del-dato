import{c as yt}from"./chunk-KNM6FCYO.js";import{a as wt}from"./chunk-SN6NWPRN.js";import{a as Dt,b as Pt,c as Et}from"./chunk-3UFA6TFV.js";import{a as St}from"./chunk-HKBFZV3L.js";import{a as _t}from"./chunk-RJ7V3MDH.js";import{a as Mt,b as Tt,c as bt}from"./chunk-UCNXABJ7.js";import{a as O}from"./chunk-D7WAZQPE.js";import{b as le,c as Ke,d as ce,e as pe,f as de,g as me,h as k}from"./chunk-4P6JHET6.js";import{a as Xe,b as Je,c as et,d as tt,e as it,f as rt,g as ot,h as nt,i as at,j as st,k as lt,l as ct}from"./chunk-FC4XU2XU.js";import{b as N}from"./chunk-AGWUCOZB.js";import{a as Qe}from"./chunk-QNZ3LUPX.js";import{b as Ce,c as ye}from"./chunk-HP7XJUQG.js";import{b as he,c as xt,h as ge,i as ve}from"./chunk-SAY7LY4C.js";import{f as fe,g as $}from"./chunk-5TWJAVHX.js";import{$a as g,Ab as J,B as ke,Bb as ee,C as be,Cb as te,Dc as ae,F as B,Fe as We,Hb as l,He as Ye,Ib as V,Jb as M,Kb as ie,La as s,Oe as pt,Pa as f,Pe as dt,Re as Pe,Sb as qe,Ue as mt,Va as h,Ve as ut,W as z,Wa as je,X as De,Xc as p,Xe as Ee,Y as j,Yb as re,Yc as v,Za as A,Zb as oe,Ze as ft,_ as Oe,aa as $e,af as ht,ba as U,bb as d,c as we,ca as Ne,cf as gt,db as F,ea as T,ec as Ue,fb as Le,ff as vt,gf as Ct,hb as _,hd as Ze,hf as ue,i as Me,jb as Z,kb as Q,kd as b,l as Fe,lb as K,ld as se,ma as R,mb as o,na as I,nb as n,ob as w,p as Te,pb as W,qb as Y,rc as ne,sb as X,sd as L,ua as C,ub as S,va as Be,vb as m,wb as He,x as Ve,xb as Ge,ya as ze}from"./chunk-6VUBUCMU.js";import{a as xe,b as _e,f as Ae}from"./chunk-EQDQRRRY.js";var Ut=["ref"];function Rt(t){return t&&t.replace(/\r\n|\r/g,`
`)}var Ai=(()=>{class t{_differs;_ngZone;className="";name="codemirror";autoFocus=!1;set options(e){this._options=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}preserveScrollPosition=!1;cursorActivity=new C;focusChange=new C;scroll=new C;drop=new C;codeMirrorLoaded=new C;ref;value="";disabled=!1;isFocused=!1;codeMirror;_codeMirror;_differ;_options;constructor(e,i){this._differs=e,this._ngZone=i}get codeMirrorGlobal(){return this._codeMirror?this._codeMirror:(this._codeMirror=typeof CodeMirror<"u"?CodeMirror:import("./chunk-ZAR3X5KW.js"),this._codeMirror)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>Ae(this,null,function*(){let e=yield this.codeMirrorGlobal,i=e?.default?e.default:e;this.codeMirror=i.fromTextArea(this.ref.nativeElement,this._options),this.codeMirror.on("cursorActivity",r=>this._ngZone.run(()=>this.cursorActive(r))),this.codeMirror.on("scroll",this.scrollChanged.bind(this)),this.codeMirror.on("blur",()=>this._ngZone.run(()=>this.focusChanged(!1))),this.codeMirror.on("focus",()=>this._ngZone.run(()=>this.focusChanged(!0))),this.codeMirror.on("change",(r,a)=>this._ngZone.run(()=>this.codemirrorValueChanged(r,a))),this.codeMirror.on("drop",(r,a)=>{this._ngZone.run(()=>this.dropFiles(r,a))}),this.codeMirror.setValue(this.value),this.codeMirrorLoaded.emit(this)}))}ngDoCheck(){if(!this._differ)return;let e=this._differ.diff(this._options);e&&(e.forEachChangedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)),e.forEachAddedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)),e.forEachRemovedItem(i=>this.setOptionIfChanged(i.key,i.currentValue)))}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(e,i){let r=e.getValue();this.value!==r&&(this.value=r,this.onChange(this.value))}setOptionIfChanged(e,i){this.codeMirror&&this.codeMirror.setOption(e,i)}focusChanged(e){this.onTouched(),this.isFocused=e,this.focusChange.emit(e)}scrollChanged(e){this.scroll.emit(e.getScrollInfo())}cursorActive(e){this.cursorActivity.emit(e)}dropFiles(e,i){this.drop.emit([e,i])}writeValue(e){if(e==null)return;if(!this.codeMirror){this.value=e;return}let i=this.codeMirror.getValue();if(e!==i&&Rt(i)!==Rt(e))if(this.value=e,this.preserveScrollPosition){let r=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(r.left,r.top)}else this.codeMirror.setValue(this.value)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this.setOptionIfChanged("readOnly",this.disabled)}onChange=e=>{};onTouched=()=>{};static \u0275fac=function(i){return new(i||t)(f(Ue),f(Be))};static \u0275cmp=h({type:t,selectors:[["ngx-codemirror"]],viewQuery:function(i,r){if(i&1&&J(Ut,5),i&2){let a;ee(a=te())&&(r.ref=a.first)}},inputs:{className:"className",name:"name",autoFocus:"autoFocus",options:"options",preserveScrollPosition:"preserveScrollPosition"},outputs:{cursorActivity:"cursorActivity",focusChange:"focusChange",scroll:"scroll",drop:"drop",codeMirrorLoaded:"codeMirrorLoaded"},standalone:!1,features:[qe([{provide:pt,useExisting:$e(()=>t),multi:!0}])],decls:3,vars:7,consts:[["ref",""],["autocomplete","off",3,"name","autofocus"]],template:function(i,r){i&1&&(o(0,"textarea",1,0),l(2,"    "),n()),i&2&&(Le("ngx-codemirror ",r.className,""),F("ngx-codemirror--focused",r.isFocused),d("name",r.name)("autofocus",r.autoFocus))},encapsulation:2,changeDetection:0})}return t})(),Fi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=je({type:t});static \u0275inj=Ne({})}return t})();var Zt=["resizable",""],Qt=["*"];function Kt(t,c){t&1&&w(0,"div",1)}function Wt(t,c){if(t&1){let e=X();o(0,"div",0),S("cdkDragStarted",function(){R(e);let r=m();return I(r.dragStarted())})("cdkDragEnded",function(r){R(e);let a=m();return I(a.dragEnded(r))})("cdkDragMoved",function(r){R(e);let a=m();return I(a.dragMoved(r))}),n(),g(1,Kt,1,0,"div",1),re(2,"async")}if(t&2){let e=m();s(),_(oe(2,1,e.sub$)?1:-1)}}var Ui=(()=>{class t{constructor(e){this.el=e,this.resized=new C,this.minHeight=0,this.minWidth=0,this.resizeDisabled=!1,this.startSize$=new we,this.dragMove$=new we,this.dragMoveAudited$=this.dragMove$.pipe(Oe(this.startSize$),ke(25),j(([{distance:i},r])=>{let a=!1;r.width+i.x>=this.minWidth&&(this.el.nativeElement.style.width=`${r.width+i.x}px`,a=!0),r.height+i.y>=this.minHeight&&(this.el.nativeElement.style.height=`${r.height+i.y}px`,a=!0),a&&this.resized.emit(this.el.nativeElement.getBoundingClientRect())})),this.sub$=Ve(this.dragMoveAudited$,Fe(!0))}dragStarted(){this.startSize$.next(this.el.nativeElement.getBoundingClientRect())}dragEnded(e){e.source._dragRef.reset(),this.resized.emit(this.el.nativeElement.getBoundingClientRect())}dragMoved(e){this.dragMove$.next(e)}ngOnDestroy(){this.startSize$.complete(),this.dragMove$.complete()}static{this.\u0275fac=function(i){return new(i||t)(f(ze))}}static{this.\u0275cmp=h({type:t,selectors:[["","resizable",""]],inputs:{minHeight:"minHeight",minWidth:"minWidth",resizeDisabled:"resizeDisabled"},outputs:{resized:"resized"},attrs:Zt,ngContentSelectors:Qt,decls:2,vars:1,consts:[["cdkDrag","",1,"resizable-handle",3,"cdkDragStarted","cdkDragEnded","cdkDragMoved"],[1,"resizable-triangle"]],template:function(i,r){i&1&&(He(),Ge(0),g(1,Wt,3,3)),i&2&&(s(),_(r.resizeDisabled?-1:1))},dependencies:[k,$,yt,ne],styles:["[_nghost-%COMP%]:hover   .resizable-triangle[_ngcontent-%COMP%]{opacity:1}.resizable-handle[_ngcontent-%COMP%]{background:unset!important;position:absolute;width:15px;height:15px;bottom:10px;right:10px;cursor:se-resize}.resizable-triangle[_ngcontent-%COMP%]{pointer-events:none;opacity:0;transition:opacity ease-in-out .2s;position:absolute;width:0;height:0;border-left:7.5px solid transparent;border-top:7.5px solid transparent;border-right-width:7.5px;border-right-style:solid;border-bottom-width:7.5px;border-bottom-style:solid;bottom:10px;right:10px}"]})}}return t})();function Yt(t,c){if(t&1&&(o(0,"li"),l(1),n()),t&2){let e=c.$implicit;s(),ie("'",e.requiredPermission.label,"' - ",e.explanation,"")}}function Xt(t,c){if(t&1&&Q(0,Yt,2,2,"li",null,Z),t&2){let e=m();K(e.data==null?null:e.data.explicitRestrictions)}}function Jt(t,c){t&1&&(o(0,"li"),l(1,"Access to restricted components regardless of restrictions."),n())}var At=(()=>{class t{constructor(e){this.nifiCommon=e}getUsageRestriction(){return this.data?this.nifiCommon.isBlank(this.data.usageRestriction)?"Requires the following permissions:":`${this.data.usageRestriction} Requires the following permissions:`:""}hasExplicitRestrictions(){return this.data?!this.nifiCommon.isEmpty(this.data.explicitRestrictions):!1}static{this.\u0275fac=function(i){return new(i||t)(f(N))}}static{this.\u0275cmp=h({type:t,selectors:[["restrictions-tip"]],inputs:{data:"data"},decls:6,vars:2,consts:[[1,"tooltip","flex","flex-col","gap-y-3"],[1,"flex","flex-wrap","gap-y-1"]],template:function(i,r){i&1&&(o(0,"div",0)(1,"div"),l(2),n(),o(3,"ul",1),g(4,Xt,2,0)(5,Jt,2,0,"li"),n()()),i&2&&(s(2),M(" ",r.getUsageRestriction()," "),s(2),_(r.hasExplicitRestrictions()?4:5))},encapsulation:2})}}return t})();var Ft=(()=>{class t{constructor(e){this.nifiCommon=e}formatControllerService(e,i){let r=this.nifiCommon.formatType({type:e,bundle:i}),a=this.nifiCommon.formatBundle(i);return`${r} from ${a}`}static{this.\u0275fac=function(i){return new(i||t)(f(N))}}static{this.\u0275cmp=h({type:t,selectors:[["controller-service-api"]],inputs:{type:"type",bundle:"bundle"},decls:2,vars:1,template:function(i,r){i&1&&(o(0,"span"),l(1),n()),i&2&&(s(),V(r.formatControllerService(r.type,r.bundle)))},encapsulation:2})}}return t})();function ei(t,c){if(t&1&&(o(0,"li"),w(1,"controller-service-api",1),n()),t&2){let e=c.$implicit;s(),d("type",e.type)("bundle",e.bundle)}}var Vt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=h({type:t,selectors:[["controller-service-api-tip"]],inputs:{data:"data"},decls:6,vars:0,consts:[[1,"tooltip","flex","flex-col","gap-y-3"],[3,"type","bundle"]],template:function(i,r){i&1&&(o(0,"div",0)(1,"div"),l(2,"Supports Controller Services"),n(),o(3,"ul"),Q(4,ei,2,2,"li",null,Z),n()()),i&2&&(s(4),K(r.data==null?null:r.data.controllerServiceApis))},dependencies:[Ft],encapsulation:2})}}return t})();function kt(...t){return(c,e)=>t.some(i=>i(c,e))}function Ot(t){return(c,e)=>t(c,e.toLowerCase())}function $t(t,c){let e=c.match(/[^A-Z]+|[A-Z][^A-Z]*/g);if(e==null)return!1;let i=e.join(".*"),r=!1;try{r=new RegExp(i).test(t)}catch{}return r}var oi=["selectedRow"];function ni(t,c){t&1&&(o(0,"th",25),l(1,"Type"),n())}function ai(t,c){if(t&1&&(o(0,"div",null,0),w(2,"div",27),l(3),n()),t&2){let e=m().$implicit,i=m();s(2),F("fa-shield",e.restricted)("error-color",e.restricted),d("tooltipComponentType",i.RestrictionsTip)("tooltipInputData",i.getRestrictionTipData(e)),s(),M(" ",i.formatType(e)," ")}}function si(t,c){if(t&1&&(w(0,"div",27),l(1)),t&2){let e=m().$implicit,i=m();F("fa-shield",e.restricted)("error-color",e.restricted),d("tooltipComponentType",i.RestrictionsTip)("tooltipInputData",i.getRestrictionTipData(e)),s(),M(" ",i.formatType(e)," ")}}function li(t,c){if(t&1&&(o(0,"td",26),g(1,ai,4,7,"div")(2,si,2,7),n()),t&2){let e=c.$implicit,i=m();s(),_(i.isSelected(e)?1:2)}}function ci(t,c){t&1&&(o(0,"th",25),l(1,"Version"),n())}function pi(t,c){if(t&1&&w(0,"div",28),t&2){let e=m().$implicit,i=m();d("tooltipComponentType",i.ControllerServiceApiTip)("tooltipInputData",i.getControllerServiceApiTipData(e))}}function di(t,c){if(t&1&&(o(0,"td",26),l(1),g(2,pi,1,2,"div",28),n()),t&2){let e=c.$implicit,i=m();s(),M(" ",i.formatVersion(e)," "),s(),_(i.implementsControllerService(e)?2:-1)}}function mi(t,c){t&1&&(o(0,"th",25),l(1,"Tags"),n())}function ui(t,c){if(t&1&&(o(0,"td",26),l(1),n()),t&2){let e=c.$implicit,i=m();s(),V(i.formatTags(e))}}function fi(t,c){t&1&&w(0,"tr",29)}function hi(t,c){if(t&1){let e=X();o(0,"tr",30),S("click",function(){let r=R(e).$implicit,a=m();return I(a.selectType(r))})("dblclick",function(){let r=R(e).$implicit,a=m();return I(a.createExtension(r))}),n()}if(t&2){let e=c.$implicit,i=c.even,r=m();F("selected",r.isSelected(e))("even",i)}}function gi(t,c){if(t&1&&(o(0,"div",31)(1,"div",32),l(2),n(),o(3,"div",33),l(4),n()(),o(5,"div",34),l(6),n()),t&2){let e=m();s(),d("title",e.formatType(e.selectedType)),s(),M(" ",e.formatType(e.selectedType)," "),s(),d("title",e.formatBundle(e.selectedType)),s(),M(" ",e.formatBundle(e.selectedType)," "),s(),d("title",e.formatDescription(e.selectedType)),s(),M(" ",e.formatDescription(e.selectedType)," ")}}function vi(t,c){t&1&&(o(0,"div",20),l(1,"No type selected"),n())}function Ci(t,c){t&1&&(o(0,"span"),l(1,"Add"),n())}var Bt=(()=>{class t extends O{set documentedTypes(e){this.selectedType==null&&e.length>0&&(this.selectedType=e[0]),this.dataSource.data=this.sortEntities(e,this.activeSort)}constructor(e){super(),this.nifiCommon=e,this.initialSortColumn="type",this.initialSortDirection="asc",this.activeSort={active:this.initialSortColumn,direction:this.initialSortDirection},this.extensionTypeSelected=new C,this.RestrictionsTip=At,this.ControllerServiceApiTip=Vt,this.displayedColumns=["type","version","tags"],this.dataSource=new ct,this.selectedType=null;let i=this.dataSource.filterPredicate;this.dataSource.filterPredicate=kt((r,a)=>$t(r.type,a),Ot(i))}formatType(e){return e?this.nifiCommon.getComponentTypeLabel(e.type):""}getRestrictionTipData(e){return{usageRestriction:e.usageRestriction,explicitRestrictions:e.explicitRestrictions}}formatVersion(e){return e?e.bundle.version:""}implementsControllerService(e){return!this.nifiCommon.isEmpty(e.controllerServiceApis)}getControllerServiceApiTipData(e){return{controllerServiceApis:e.controllerServiceApis}}formatTags(e){return e?.tags?e.tags.slice().sort((i,r)=>this.nifiCommon.compareString(i,r)).join(", "):""}formatBundle(e){return e?this.nifiCommon.formatBundle(e.bundle):""}formatDescription(e){return e&&e.description?e.description:""}filterTypes(e){switch(e.key){case"Enter":case"ArrowUp":case"ArrowDown":return}let i=e.target.value;this.dataSource.filter=i.trim(),this.dataSource.filteredData.length>0?this.selectType(this.dataSource.filteredData[0]):this.selectedType=null}selectType(e){this.selectedType=e}isSelected(e){return this.areDocumentedTypesTheSame(this.selectedType,e)}areDocumentedTypesTheSame(e,i){return e==i?!0:e&&i?e.type===i.type&&e.bundle.version===i.bundle.version&&e.bundle.group===i.bundle.group&&e.bundle.artifact===i.bundle.artifact:!1}createExtension(e){e&&!this.saving&&this.extensionTypeSelected.next(e)}navigateSelectionList(e){if(this.selectedType!==null){switch(e.key){case"Enter":this.createExtension(this.selectedType);break;case"ArrowUp":this.selectRow(-1);break;case"ArrowDown":this.selectRow(1);break}this.selectedRow&&this.selectedRow?.nativeElement.scrollIntoView({behavior:"instant",block:"center",inline:"nearest"})}}selectRow(e){if(this.selectedType&&this.dataSource.filteredData.length>0){let i=this.dataSource.filteredData.findIndex(r=>this.areDocumentedTypesTheSame(this.selectedType,r));if(i>-1){let r=i+e;r>-1&&r<this.dataSource.filteredData.length&&this.selectType(this.dataSource.filteredData[r])}}}sortData(e){this.activeSort=e,this.dataSource.data=this.sortEntities(this.dataSource.data,e)}sortEntities(e,i){return e?e.slice().sort((r,a)=>{let u=i.direction==="asc",y=0;switch(i.active){case"type":y=this.nifiCommon.compareString(this.formatType(r),this.formatType(a));break;case"version":y=this.nifiCommon.compareString(this.formatVersion(r),this.formatVersion(a));break;case"tags":y=this.nifiCommon.compareString(this.formatTags(r),this.formatTags(a));break}return y*(u?1:-1)}):[]}static{this.\u0275fac=function(i){return new(i||t)(f(N))}}static{this.\u0275cmp=h({type:t,selectors:[["extension-creation"]],viewQuery:function(i,r){if(i&1&&J(oi,5),i&2){let a;ee(a=te())&&(r.selectedRow=a.first)}},inputs:{documentedTypes:"documentedTypes",componentType:"componentType",saving:"saving",initialSortColumn:"initialSortColumn",initialSortDirection:"initialSortDirection"},outputs:{extensionTypeSelected:"extensionTypeSelected"},features:[A],decls:36,vars:12,consts:[["selectedRow",""],[1,"extension-creation-dialog",3,"keyup"],["mat-dialog-title",""],[1,"flex","flex-col","dialog-content","gap-y-2"],[1,"flex","flex-col","gap-y-2"],[1,"flex","items-center"],["subscriptSizing","dynamic",1,"mt-1"],["matInput","","type","text","tabindex","0","placeholder","Filter types...",1,"px-1.5","py-1","w-64",3,"keyup"],[1,"tertiary-color","font-medium"],[1,"listing-table","select-none","flex-1","relative"],[1,"absolute","inset-0","overflow-y-auto","overflow-x-hidden"],["mat-table","","matSort","","matSortDisableClear","",3,"matSortChange","dataSource","matSortActive","matSortDirection"],["matColumnDef","type"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","version"],["matColumnDef","tags"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"selected","even","click","dblclick",4,"matRowDef","matRowDefColumns"],[1,"flex","flex-col"],[1,"no-selected-type","unset","neutral-color"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"click","disabled"],[4,"nifiSpinner"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["nifiTooltip","",1,"fa",3,"tooltipComponentType","tooltipInputData"],["nifiTooltip","",1,"fa","fa-list","primary-color",3,"tooltipComponentType","tooltipInputData"],["mat-header-row",""],["mat-row","",3,"click","dblclick"],[1,"flex","items-center","mb-1"],[1,"selected-type-name","font-medium","tertiary-color","overflow-ellipsis","overflow-hidden","whitespace-nowrap",3,"title"],[1,"selected-type-bundle","neutral-color","ml-4","tracking-wide","overflow-ellipsis","overflow-hidden","whitespace-nowrap",3,"title"],[1,"selected-type-description",3,"title"]],template:function(i,r){i&1&&(o(0,"div",1),S("keyup",function(u){return r.navigateSelectionList(u)}),o(1,"h2",2),l(2),n(),o(3,"mat-dialog-content")(4,"div",3)(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),l(9,"Filter types"),n(),o(10,"input",7),S("keyup",function(u){return r.filterTypes(u)}),n()()(),o(11,"div",8)(12,"div"),l(13),n()()(),o(14,"div",9)(15,"div",10)(16,"table",11),S("matSortChange",function(u){return r.sortData(u)}),W(17,12),g(18,ni,2,0,"th",13)(19,li,3,1,"td",14),Y(),W(20,15),g(21,ci,2,0,"th",13)(22,di,3,2,"td",14),Y(),W(23,16),g(24,mi,2,0,"th",13)(25,ui,2,1,"td",14),Y(),g(26,fi,1,0,"tr",17)(27,hi,1,4,"tr",18),n()()(),o(28,"div",19),g(29,gi,7,6)(30,vi,2,0,"div",20),n()()(),o(31,"mat-dialog-actions",21)(32,"button",22),l(33,"Cancel"),n(),o(34,"button",23),S("click",function(){return r.createExtension(r.selectedType)}),g(35,Ci,2,0,"span",24),n()()()),i&2&&(s(2),M("Add ",r.componentType,""),s(11),ie("Showing ",r.dataSource.filteredData.length," of ",r.dataSource.data.length,""),s(3),d("dataSource",r.dataSource)("matSortActive",r.initialSortColumn)("matSortDirection",r.initialSortDirection),s(10),d("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),s(),d("matRowDefColumns",r.displayedColumns),s(2),_(r.selectedType?29:30),s(5),d("disabled",r.selectedType==null||r.saving),s(),d("nifiSpinner",r.saving))},dependencies:[$,fe,k,ce,pe,me,de,lt,Xe,et,ot,tt,Je,nt,it,rt,at,st,bt,Mt,Tt,St,wt,ve,ge,he,ye,Ce,ue],styles:[".extension-creation-dialog[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px}.extension-creation-dialog[_ngcontent-%COMP%]{--mdc-filled-button-container-height: 32px}.extension-creation-dialog[_ngcontent-%COMP%]{--mdc-protected-button-container-height: 32px}.extension-creation-dialog[_ngcontent-%COMP%]{--mdc-outlined-button-container-height: 32px}.extension-creation-dialog[_ngcontent-%COMP%]{--mat-text-button-touch-target-display: block}.extension-creation-dialog[_ngcontent-%COMP%]{--mat-filled-button-touch-target-display: block}.extension-creation-dialog[_ngcontent-%COMP%]{--mat-protected-button-touch-target-display: block}.extension-creation-dialog[_ngcontent-%COMP%]{--mat-outlined-button-touch-target-display: block}.extension-creation-dialog[_ngcontent-%COMP%]   .listing-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .fa.fa-shield[_ngcontent-%COMP%]{width:10px;height:14px;margin-right:2px}.extension-creation-dialog[_ngcontent-%COMP%]   .selected-type-description[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}.extension-creation-dialog[_ngcontent-%COMP%]   .no-selected-type[_ngcontent-%COMP%]{height:74px}"]})}}return t})();var zt=(()=>{class t extends O{constructor(e){super(),this.dialogRequest=e,this.createControllerService=new C,this.controllerServiceTypes=e.controllerServiceTypes}controllerServiceTypeSelected(e){this.createControllerService.next(e)}static{this.\u0275fac=function(i){return new(i||t)(f(le))}}static{this.\u0275cmp=h({type:t,selectors:[["create-controller-service"]],inputs:{saving$:"saving$"},outputs:{createControllerService:"createControllerService"},features:[A],decls:2,vars:5,consts:[[3,"extensionTypeSelected","componentType","documentedTypes","saving"]],template:function(i,r){i&1&&(o(0,"extension-creation",0),re(1,"async"),S("extensionTypeSelected",function(u){return r.controllerServiceTypeSelected(u)}),n()),i&2&&d("componentType","Controller Service")("documentedTypes",r.controllerServiceTypes)("saving",oe(1,3,r.saving$))},dependencies:[Bt,ne],encapsulation:2})}}return t})();var jt=(()=>{class t{static{this.API="../nifi-api"}constructor(e){this.httpClient=e}getProcessorTypes(){return this.httpClient.get(`${t.API}/flow/processor-types`)}getProcessorVersionsForType(e,i){let r={bundleGroupFilter:i.group,bundleArtifactFilter:i.artifact,type:e};return this.httpClient.get(`${t.API}/flow/processor-types`,{params:r})}getControllerServiceTypes(){return this.httpClient.get(`${t.API}/flow/controller-service-types`)}getControllerServiceVersionsForType(e,i){let r={serviceBundleGroup:i.group,serviceBundleArtifact:i.artifact,typeFilter:e};return this.httpClient.get(`${t.API}/flow/controller-service-types`,{params:r})}getImplementingControllerServiceTypes(e,i){let r={serviceType:e,serviceBundleGroup:i.group,serviceBundleArtifact:i.artifact,serviceBundleVersion:i.version};return this.httpClient.get(`${t.API}/flow/controller-service-types`,{params:r})}getReportingTaskTypes(){return this.httpClient.get(`${t.API}/flow/reporting-task-types`)}getReportingTaskVersionsForType(e,i){let r={serviceBundleGroup:i.group,serviceBundleArtifact:i.artifact,type:e};return this.httpClient.get(`${t.API}/flow/reporting-task-types`,{params:r})}getRegistryClientTypes(){return this.httpClient.get(`${t.API}/controller/registry-types`)}getPrioritizers(){return this.httpClient.get(`${t.API}/flow/prioritizers`)}getFlowAnalysisRuleTypes(){return this.httpClient.get(`${t.API}/flow/flow-analysis-rule-types`)}getFlowAnalysisRuleVersionsForType(e,i){let r={serviceBundleGroup:i.group,serviceBundleArtifact:i.artifact,type:e};return this.httpClient.get(`${t.API}/flow/flow-analysis-rule-types`,{params:r})}getParameterProviderTypes(){return this.httpClient.get(`${t.API}/flow/parameter-provider-types`)}static{this.\u0275fac=function(i){return new(i||t)(T(ae))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function xi(t,c){if(t&1&&(o(0,"mat-error"),l(1),n()),t&2){let e=m();s(),V(e.getNameErrorMessage())}}var Lt=(()=>{class t extends O{constructor(e,i){super(),this.request=e,this.formBuilder=i,this.newProperty=new C,this.name=new Ee("",[Pe.required,this.existingPropertyValidator(e.existingProperties)]),this.newPropertyForm=this.formBuilder.group({name:this.name,sensitive:new Ee({value:!1,disabled:!e.allowsSensitive},Pe.required)})}existingPropertyValidator(e){return i=>{let r=i.value;return r===""?null:e.includes(r)?{existingProperty:!0}:null}}getNameErrorMessage(){return this.name.hasError("required")?"Property name is required.":this.name.hasError("existingProperty")?"A property with this name already exists.":""}addProperty(){this.newProperty.next({name:this.newPropertyForm.get("name")?.value,sensitive:this.newPropertyForm.get("sensitive")?.value})}isDirty(){return this.newPropertyForm.dirty}static{this.\u0275fac=function(i){return new(i||t)(f(le),f(vt))}}static{this.\u0275cmp=h({type:t,selectors:[["new-property-dialog"]],outputs:{newProperty:"newProperty"},features:[A],decls:23,vars:5,consts:[["mat-dialog-title",""],[1,"new-property-form",3,"formGroup"],[1,"mb-2"],["matInput","","formControlName","name","type","text"],[1,"flex","flex-col"],["formControlName","sensitive"],[3,"value"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"click","disabled"]],template:function(i,r){i&1&&(o(0,"h2",0),l(1,"Add Property"),n(),o(2,"form",1)(3,"mat-dialog-content")(4,"div",2)(5,"mat-form-field")(6,"mat-label"),l(7,"Property Name"),n(),w(8,"input",3),g(9,xi,2,1,"mat-error"),n()(),o(10,"div",4)(11,"label"),l(12,"Sensitive Value"),n(),o(13,"mat-radio-group",5)(14,"mat-radio-button",6),l(15,"Yes"),n(),o(16,"mat-radio-button",6),l(17,"No"),n()()()(),o(18,"mat-dialog-actions",7)(19,"button",8),l(20,"Cancel"),n(),o(21,"button",9),S("click",function(){return r.addProperty()}),l(22," Ok "),n()()()),i&2&&(s(2),d("formGroup",r.newPropertyForm),s(7),_(r.name.invalid?9:-1),s(5),d("value",!0),s(2),d("value",!1),s(5),d("disabled",!r.newPropertyForm.dirty||r.newPropertyForm.invalid))},dependencies:[k,ce,pe,me,de,$,fe,Ct,ft,dt,mt,ut,ve,ge,he,xt,ye,Ce,ue,ht,gt,Et,Dt,Pt],styles:[".new-property-form[_ngcontent-%COMP%]{--mdc-text-button-container-height: 32px}.new-property-form[_ngcontent-%COMP%]{--mdc-filled-button-container-height: 32px}.new-property-form[_ngcontent-%COMP%]{--mdc-protected-button-container-height: 32px}.new-property-form[_ngcontent-%COMP%]{--mdc-outlined-button-container-height: 32px}.new-property-form[_ngcontent-%COMP%]{--mat-text-button-touch-target-display: block}.new-property-form[_ngcontent-%COMP%]{--mat-filled-button-touch-target-display: block}.new-property-form[_ngcontent-%COMP%]{--mat-protected-button-touch-target-display: block}.new-property-form[_ngcontent-%COMP%]{--mat-outlined-button-touch-target-display: block}.new-property-form[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}"]})}}return t})();var so=(()=>{class t{static{this.API="../nifi-api"}constructor(e,i,r,a,u,y){this.httpClient=e,this.dialog=i,this.store=r,this.extensionTypesService=a,this.client=u,this.errorHelper=y}getComponentHistory(e){return this.httpClient.get(`${t.API}/flow/history/components/${e}`)}createNewProperty(e,i){return(r,a)=>{let u={existingProperties:r,allowsSensitive:a},y=this.dialog.open(Lt,_e(xe({},We),{data:u}));return y.componentInstance.newProperty.pipe(De(y.afterClosed()),z(P=>i.getPropertyDescriptor(e,P.name,P.sensitive).pipe(B(1),be(E=>(this.store.dispatch(L({error:this.errorHelper.getErrorString(E,`Failed to get property descriptor for ${P.name}.`)})),Me)),Te(E=>(y.close(),{property:P.name,value:null,descriptor:E.propertyDescriptor})))))}}createNewService(e,i,r,a,u){return y=>{let P=y.descriptor;return this.extensionTypesService.getImplementingControllerServiceTypes(P.identifiesControllerService,P.identifiesControllerServiceBundle).pipe(B(1),j({error:E=>{this.store.dispatch(L({error:this.errorHelper.getErrorString(E)}))}}),z(E=>{let G=this.dialog.open(zt,_e(xe({},Ye),{data:{controllerServiceTypes:E.controllerServiceTypes}}));return G.componentInstance.createControllerService.pipe(De(G.afterClosed()),z(Re=>{let Ie={revision:{clientId:this.client.getClientId(),version:0},controllerServiceType:Re.type,controllerServiceBundle:Re.bundle};return a&&(Ie.processGroupId=a),i.createControllerService(Ie).pipe(B(1),be(q=>(this.store.dispatch(L({error:this.errorHelper.getErrorString(q,"Unable to create new Service.")})),Me)),z(q=>(u&&u(q),r.getPropertyDescriptor(e,P.name,!1).pipe(B(1),j({error:Se=>{G.close(),this.store.dispatch(L({error:this.errorHelper.getErrorString(Se,"Service created but unable to reload Property Descriptor.")}))}}),Te(Se=>(G.close(),{value:q.id,descriptor:Se.propertyDescriptor}))))))}))}))}}static{this.\u0275fac=function(i){return new(i||t)(T(ae),T(Ke),T(Ze),T(jt),T(_t),T(Qe))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var x="[Property Verification State]",mo=p(`${x} Verify Properties`,v()),uo=p(`${x} Get Configuration Analysis`,v()),fo=p(`${x} Start Polling Property Verification`),ho=p(`${x} Poll Property Verification`),go=p(`${x} Poll Property Verification Success`,v()),vo=p(`${x} Stop Polling Property Verification`),Co=p(`${x} Property Verification Complete`),yo=p(`${x} Verify Properties Success`,v()),So=p(`${x} Verify Properties Complete`,v()),xo=p(`${x} Open Property Verification Progress`),_o=p(`${x} Reset`),wo=p(`${x} Initiate Property Verification`,v());var Ht="propertyVerification",_i=function(t){return t.SUCCESSFUL="SUCCESSFUL",t.FAILED="FAILED",t.SKIPPED="SKIPPED",t}(_i||{});var H=se(Ht),Po=b(H,t=>t.requestContext),Eo=b(H,t=>t.activeRequest),Ro=b(H,t=>t.results),Io=b(H,t=>t.status),Ao=b(H,t=>t.attributes);var Gt="enableControllerService",Vo=[{text:"Service only",value:"SERVICE_ONLY",description:"Enable only this controller service."},{text:"Service and referencing components",value:"SERVICE_AND_REFERENCING_COMPONENTS",description:"Enable this controller service and enable/start all referencing components."}],wi=function(t){return t[t.Pending=0]="Pending",t[t.EnableService=1]="EnableService",t[t.EnableReferencingServices=2]="EnableReferencingServices",t[t.StartReferencingComponents=3]="StartReferencingComponents",t[t.StopReferencingComponents=4]="StopReferencingComponents",t[t.DisableReferencingServices=5]="DisableReferencingServices",t[t.DisableService=6]="DisableService",t[t.Completed=7]="Completed",t}(wi||{});var $o=p("[Controller Service State] Reset Enable Controller Service State"),No=p("[Controller Service State] Set Controller Service",v()),Bo=p("[Controller Service State] Submit Enable Request",v()),zo=p("[Controller Service State] Submit Disable Request"),jo=p("[Controller Service State] Set Enable Controller Service"),Lo=p("[Controller Service State] Set Enable Controller Service Success",v()),Ho=p("[Controller Service State] Update Referencing Services"),Go=p("[Controller Service State] Update Referencing Services Success",v()),qo=p("[Controller Service State] Update Referencing Components"),Uo=p("[Controller Service State] Update Referencing Components Success",v()),Zo=p("[Controller Service State] Start Polling Controller Service"),Qo=p("[Controller Service State] Stop Polling Controller Service"),Ko=p("[Controller Service State] Poll Controller Service"),Wo=p("[Controller Service State] Poll Controller Service Success",v()),Yo=p("[Controller Service State] Set Enable Step Failure",v()),Xo=p("[Controller Service State] Show Ok Dialog",v());var qt=se(Gt),rn=b(qt,t=>t.controllerService),on=b(qt,t=>t.setEnableRequest);export{Ai as a,Fi as b,Ui as c,Ft as d,Bt as e,zt as f,Ht as g,_i as h,Gt as i,Vo as j,wi as k,$o as l,No as m,Bo as n,zo as o,jo as p,Lo as q,Ho as r,Go as s,qo as t,Uo as u,Zo as v,Qo as w,Ko as x,Wo as y,Yo as z,Xo as A,rn as B,on as C,jt as D,so as E,mo as F,uo as G,fo as H,ho as I,go as J,vo as K,Co as L,yo as M,xo as N,_o as O,wo as P,Po as Q,Eo as R,Ro as S,Io as T,Ao as U};
