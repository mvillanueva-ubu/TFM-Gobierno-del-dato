function qn(t,e){let r,n;if(e===void 0)for(let o of t)o!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)));else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)))}return[r,n]}function $t(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tr(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zt(t){let e,r,n;t.length!==2?(e=$t,r=(u,s)=>$t(t(u),s),n=(u,s)=>t(u)-s):(e=t===$t||t===tr?t:eu,r=t,n=t);function o(u,s,f=0,l=u.length){if(f<l){if(e(s,s)!==0)return l;do{let p=f+l>>>1;r(u[p],s)<0?f=p+1:l=p}while(f<l)}return f}function i(u,s,f=0,l=u.length){if(f<l){if(e(s,s)!==0)return l;do{let p=f+l>>>1;r(u[p],s)<=0?f=p+1:l=p}while(f<l)}return f}function a(u,s,f=0,l=u.length){let p=o(u,s,f,l-1);return p>f&&n(u[p-1],s)>-n(u[p],s)?p-1:p}return{left:o,center:a,right:i}}function eu(){return 0}function Br(t){return t===null?NaN:+t}var Wn=zt($t),Xn=Wn.right,ru=Wn.left,nu=zt(Br).center,qr=Xn;var oe=class extends Map{constructor(e,r=au){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(let[n,o]of e)this.set(n,o)}get(e){return super.get(Vn(this,e))}has(e){return super.has(Vn(this,e))}set(e,r){return super.set(ou(this,e),r)}delete(e){return super.delete(iu(this,e))}};function Vn({_intern:t,_key:e},r){let n=e(r);return t.has(n)?t.get(n):r}function ou({_intern:t,_key:e},r){let n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function iu({_intern:t,_key:e},r){let n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function au(t){return t!==null&&typeof t=="object"?t.valueOf():t}var uu=Math.sqrt(50),su=Math.sqrt(10),fu=Math.sqrt(2);function er(t,e,r){let n=(e-t)/Math.max(0,r),o=Math.floor(Math.log10(n)),i=n/Math.pow(10,o),a=i>=uu?10:i>=su?5:i>=fu?2:1,u,s,f;return o<0?(f=Math.pow(10,-o)/a,u=Math.round(t*f),s=Math.round(e*f),u/f<t&&++u,s/f>e&&--s,f=-f):(f=Math.pow(10,o)*a,u=Math.round(t/f),s=Math.round(e/f),u*f<t&&++u,s*f>e&&--s),s<u&&.5<=r&&r<2?er(t,e,r*2):[u,s,f]}function rr(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];let n=e<t,[o,i,a]=n?er(e,t,r):er(t,e,r);if(!(i>=o))return[];let u=i-o+1,s=new Array(u);if(n)if(a<0)for(let f=0;f<u;++f)s[f]=(i-f)/-a;else for(let f=0;f<u;++f)s[f]=(i-f)*a;else if(a<0)for(let f=0;f<u;++f)s[f]=(o+f)/-a;else for(let f=0;f<u;++f)s[f]=(o+f)*a;return s}function be(t,e,r){return e=+e,t=+t,r=+r,er(t,e,r)[2]}function ie(t,e,r){e=+e,t=+t,r=+r;let n=e<t,o=n?be(e,t,r):be(t,e,r);return(n?-1:1)*(o<0?1/-o:o)}function Gn(t,e){let r;if(e===void 0)for(let n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let o of t)(o=e(o,++n,t))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}function Zn(t,e){let r;if(e===void 0)for(let n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let o of t)(o=e(o,++n,t))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}function Qn(t,e){let r=0,n=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++r,n+=o);else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(i=+i)>=i&&(++r,n+=i)}if(r)return n/r}function Kn(t,e){let r=0;if(e===void 0)for(let n of t)(n=+n)&&(r+=n);else{let n=-1;for(let o of t)(o=+e(o,++n,t))&&(r+=o)}return r}function lu(){}function Lt(t){return t==null?lu:function(){return this.querySelector(t)}}function Jn(t){typeof t!="function"&&(t=Lt(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,u=n[o]=new Array(a),s,f,l=0;l<a;++l)(s=i[l])&&(f=t.call(s,s.__data__,l,i))&&("__data__"in s&&(f.__data__=s.__data__),u[l]=f);return new G(n,this._parents)}function Me(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function cu(){return[]}function Te(t){return t==null?cu:function(){return this.querySelectorAll(t)}}function mu(t){return function(){return Me(t.apply(this,arguments))}}function jn(t){typeof t=="function"?t=mu(t):t=Te(t);for(var e=this._groups,r=e.length,n=[],o=[],i=0;i<r;++i)for(var a=e[i],u=a.length,s,f=0;f<u;++f)(s=a[f])&&(n.push(t.call(s,s.__data__,f,a)),o.push(s));return new G(n,o)}function ke(t){return function(){return this.matches(t)}}function nr(t){return function(e){return e.matches(t)}}var pu=Array.prototype.find;function hu(t){return function(){return pu.call(this.children,t)}}function du(){return this.firstElementChild}function to(t){return this.select(t==null?du:hu(typeof t=="function"?t:nr(t)))}var xu=Array.prototype.filter;function gu(){return Array.from(this.children)}function yu(t){return function(){return xu.call(this.children,t)}}function eo(t){return this.selectAll(t==null?gu:yu(typeof t=="function"?t:nr(t)))}function ro(t){typeof t!="function"&&(t=ke(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,u=n[o]=[],s,f=0;f<a;++f)(s=i[f])&&t.call(s,s.__data__,f,i)&&u.push(s);return new G(n,this._parents)}function or(t){return new Array(t.length)}function no(){return new G(this._enter||this._groups.map(or),this._parents)}function Se(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Se.prototype={constructor:Se,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function oo(t){return function(){return t}}function vu(t,e,r,n,o,i){for(var a=0,u,s=e.length,f=i.length;a<f;++a)(u=e[a])?(u.__data__=i[a],n[a]=u):r[a]=new Se(t,i[a]);for(;a<s;++a)(u=e[a])&&(o[a]=u)}function wu(t,e,r,n,o,i,a){var u,s,f=new Map,l=e.length,p=i.length,c=new Array(l),d;for(u=0;u<l;++u)(s=e[u])&&(c[u]=d=a.call(s,s.__data__,u,e)+"",f.has(d)?o[u]=s:f.set(d,s));for(u=0;u<p;++u)d=a.call(t,i[u],u,i)+"",(s=f.get(d))?(n[u]=s,s.__data__=i[u],f.delete(d)):r[u]=new Se(t,i[u]);for(u=0;u<l;++u)(s=e[u])&&f.get(c[u])===s&&(o[u]=s)}function _u(t){return t.__data__}function io(t,e){if(!arguments.length)return Array.from(this,_u);var r=e?wu:vu,n=this._parents,o=this._groups;typeof t!="function"&&(t=oo(t));for(var i=o.length,a=new Array(i),u=new Array(i),s=new Array(i),f=0;f<i;++f){var l=n[f],p=o[f],c=p.length,d=bu(t.call(l,l&&l.__data__,f,n)),E=d.length,U=u[f]=new Array(E),y=a[f]=new Array(E),g=s[f]=new Array(c);r(l,p,U,y,g,d,e);for(var k=0,_=0,h,b;k<E;++k)if(h=U[k]){for(k>=_&&(_=k+1);!(b=y[_])&&++_<E;);h._next=b||null}}return a=new G(a,n),a._enter=u,a._exit=s,a}function bu(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ao(){return new G(this._exit||this._groups.map(or),this._parents)}function uo(t,e,r){var n=this.enter(),o=this,i=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),r==null?i.remove():r(i),n&&o?n.merge(o).order():o}function so(t){for(var e=t.selection?t.selection():t,r=this._groups,n=e._groups,o=r.length,i=n.length,a=Math.min(o,i),u=new Array(o),s=0;s<a;++s)for(var f=r[s],l=n[s],p=f.length,c=u[s]=new Array(p),d,E=0;E<p;++E)(d=f[E]||l[E])&&(c[E]=d);for(;s<o;++s)u[s]=r[s];return new G(u,this._parents)}function fo(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n=t[e],o=n.length-1,i=n[o],a;--o>=0;)(a=n[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function lo(t){t||(t=Mu);function e(p,c){return p&&c?t(p.__data__,c.__data__):!p-!c}for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a=r[i],u=a.length,s=o[i]=new Array(u),f,l=0;l<u;++l)(f=a[l])&&(s[l]=f);s.sort(e)}return new G(o,this._parents).order()}function Mu(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function co(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function mo(){return Array.from(this)}function po(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null}function ho(){let t=0;for(let e of this)++t;return t}function xo(){return!this.node()}function go(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var o=e[r],i=0,a=o.length,u;i<a;++i)(u=o[i])&&t.call(u,u.__data__,i,o);return this}var ir="http://www.w3.org/1999/xhtml",Wr={svg:"http://www.w3.org/2000/svg",xhtml:ir,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tt(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Wr.hasOwnProperty(e)?{space:Wr[e],local:t}:t}function Tu(t){return function(){this.removeAttribute(t)}}function ku(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Su(t,e){return function(){this.setAttribute(t,e)}}function Cu(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Du(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Au(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function yo(t,e){var r=Tt(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((e==null?r.local?ku:Tu:typeof e=="function"?r.local?Au:Du:r.local?Cu:Su)(r,e))}function ar(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Nu(t){return function(){this.style.removeProperty(t)}}function Iu(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Eu(t,e,r){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}function vo(t,e,r){return arguments.length>1?this.each((e==null?Nu:typeof e=="function"?Eu:Iu)(t,e,r??"")):Ot(this.node(),t)}function Ot(t,e){return t.style.getPropertyValue(e)||ar(t).getComputedStyle(t,null).getPropertyValue(e)}function Ou(t){return function(){delete this[t]}}function Yu(t,e){return function(){this[t]=e}}function Fu(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function wo(t,e){return arguments.length>1?this.each((e==null?Ou:typeof e=="function"?Fu:Yu)(t,e)):this.node()[t]}function _o(t){return t.trim().split(/^|\s+/)}function Xr(t){return t.classList||new bo(t)}function bo(t){this._node=t,this._names=_o(t.getAttribute("class")||"")}bo.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Mo(t,e){for(var r=Xr(t),n=-1,o=e.length;++n<o;)r.add(e[n])}function To(t,e){for(var r=Xr(t),n=-1,o=e.length;++n<o;)r.remove(e[n])}function Uu(t){return function(){Mo(this,t)}}function Pu(t){return function(){To(this,t)}}function Ru(t,e){return function(){(e.apply(this,arguments)?Mo:To)(this,t)}}function ko(t,e){var r=_o(t+"");if(arguments.length<2){for(var n=Xr(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof e=="function"?Ru:e?Uu:Pu)(r,e))}function $u(){this.textContent=""}function zu(t){return function(){this.textContent=t}}function Lu(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function So(t){return arguments.length?this.each(t==null?$u:(typeof t=="function"?Lu:zu)(t)):this.node().textContent}function Hu(){this.innerHTML=""}function Bu(t){return function(){this.innerHTML=t}}function qu(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Co(t){return arguments.length?this.each(t==null?Hu:(typeof t=="function"?qu:Bu)(t)):this.node().innerHTML}function Wu(){this.nextSibling&&this.parentNode.appendChild(this)}function Do(){return this.each(Wu)}function Xu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ao(){return this.each(Xu)}function Vu(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===ir&&e.documentElement.namespaceURI===ir?e.createElement(t):e.createElementNS(r,t)}}function Gu(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ur(t){var e=Tt(t);return(e.local?Gu:Vu)(e)}function No(t){var e=typeof t=="function"?t:ur(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Zu(){return null}function Io(t,e){var r=typeof t=="function"?t:ur(t),n=e==null?Zu:typeof e=="function"?e:Lt(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Qu(){var t=this.parentNode;t&&t.removeChild(this)}function Eo(){return this.each(Qu)}function Ku(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ju(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Oo(t){return this.select(t?Ju:Ku)}function Yo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ju(t){return function(e){t.call(this,e,this.__data__)}}function ts(t){return t.trim().split(/^|\s+/).map(function(e){var r="",n=e.indexOf(".");return n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),{type:e,name:r}})}function es(t){return function(){var e=this.__on;if(e){for(var r=0,n=-1,o=e.length,i;r<o;++r)i=e[r],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++n]=i;++n?e.length=n:delete this.__on}}}function rs(t,e,r){return function(){var n=this.__on,o,i=ju(e);if(n){for(var a=0,u=n.length;a<u;++a)if((o=n[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=r),o.value=e;return}}this.addEventListener(t.type,i,r),o={type:t.type,name:t.name,value:e,listener:i,options:r},n?n.push(o):this.__on=[o]}}function Fo(t,e,r){var n=ts(t+""),o,i=n.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var s=0,f=u.length,l;s<f;++s)for(o=0,l=u[s];o<i;++o)if((a=n[o]).type===l.type&&a.name===l.name)return l.value}return}for(u=e?rs:es,o=0;o<i;++o)this.each(u(n[o],e,r));return this}function Uo(t,e,r){var n=ar(t),o=n.CustomEvent;typeof o=="function"?o=new o(e,r):(o=n.document.createEvent("Event"),r?(o.initEvent(e,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function ns(t,e){return function(){return Uo(this,t,e)}}function os(t,e){return function(){return Uo(this,t,e.apply(this,arguments))}}function Po(t,e){return this.each((typeof e=="function"?os:ns)(t,e))}function*Ro(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],o=0,i=n.length,a;o<i;++o)(a=n[o])&&(yield a)}var Ce=[null];function G(t,e){this._groups=t,this._parents=e}function $o(){return new G([[document.documentElement]],Ce)}function is(){return this}G.prototype=$o.prototype={constructor:G,select:Jn,selectAll:jn,selectChild:to,selectChildren:eo,filter:ro,data:io,enter:no,exit:ao,join:uo,merge:so,selection:is,order:fo,sort:lo,call:co,nodes:mo,node:po,size:ho,empty:xo,each:go,attr:yo,style:vo,property:wo,classed:ko,text:So,html:Co,raise:Do,lower:Ao,append:No,insert:Io,remove:Eo,clone:Oo,datum:Yo,on:Fo,dispatch:Po,[Symbol.iterator]:Ro};var kt=$o;function J(t){return typeof t=="string"?new G([[document.querySelector(t)]],[document.documentElement]):new G([[t]],Ce)}function zo(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ct(t,e){if(t=zo(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function as(t){return typeof t=="string"?new G([document.querySelectorAll(t)],[document.documentElement]):new G([Me(t)],Ce)}function Lo(t){return t}var Vr=1,Gr=2,Zr=3,De=4,Ho=1e-6;function us(t){return"translate("+t+",0)"}function ss(t){return"translate(0,"+t+")"}function fs(t){return e=>+t(e)}function ls(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),r=>+t(r)+e}function cs(){return!this.__axis}function Bo(t,e){var r=[],n=null,o=null,i=6,a=6,u=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=t===Vr||t===De?-1:1,l=t===De||t===Gr?"x":"y",p=t===Vr||t===Zr?us:ss;function c(d){var E=n??(e.ticks?e.ticks.apply(e,r):e.domain()),U=o??(e.tickFormat?e.tickFormat.apply(e,r):Lo),y=Math.max(i,0)+u,g=e.range(),k=+g[0]+s,_=+g[g.length-1]+s,h=(e.bandwidth?ls:fs)(e.copy(),s),b=d.selection?d.selection():d,v=b.selectAll(".domain").data([null]),A=b.selectAll(".tick").data(E,e).order(),O=A.exit(),H=A.enter().append("g").attr("class","tick"),P=A.select("line"),S=A.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(H),P=P.merge(H.append("line").attr("stroke","currentColor").attr(l+"2",f*i)),S=S.merge(H.append("text").attr("fill","currentColor").attr(l,f*y).attr("dy",t===Vr?"0em":t===Zr?"0.71em":"0.32em")),d!==b&&(v=v.transition(d),A=A.transition(d),P=P.transition(d),S=S.transition(d),O=O.transition(d).attr("opacity",Ho).attr("transform",function(B){return isFinite(B=h(B))?p(B+s):this.getAttribute("transform")}),H.attr("opacity",Ho).attr("transform",function(B){var $=this.parentNode.__axis;return p(($&&isFinite($=$(B))?$:h(B))+s)})),O.remove(),v.attr("d",t===De||t===Gr?a?"M"+f*a+","+k+"H"+s+"V"+_+"H"+f*a:"M"+s+","+k+"V"+_:a?"M"+k+","+f*a+"V"+s+"H"+_+"V"+f*a:"M"+k+","+s+"H"+_),A.attr("opacity",1).attr("transform",function(B){return p(h(B)+s)}),P.attr(l+"2",f*i),S.attr(l,f*y).text(U),b.filter(cs).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Gr?"start":t===De?"end":"middle"),b.each(function(){this.__axis=h})}return c.scale=function(d){return arguments.length?(e=d,c):e},c.ticks=function(){return r=Array.from(arguments),c},c.tickArguments=function(d){return arguments.length?(r=d==null?[]:Array.from(d),c):r.slice()},c.tickValues=function(d){return arguments.length?(n=d==null?null:Array.from(d),c):n&&n.slice()},c.tickFormat=function(d){return arguments.length?(o=d,c):o},c.tickSize=function(d){return arguments.length?(i=a=+d,c):i},c.tickSizeInner=function(d){return arguments.length?(i=+d,c):i},c.tickSizeOuter=function(d){return arguments.length?(a=+d,c):a},c.tickPadding=function(d){return arguments.length?(u=+d,c):u},c.offset=function(d){return arguments.length?(s=+d,c):s},c}function ms(t){return Bo(Zr,t)}function ps(t){return Bo(De,t)}var hs={value:()=>{}};function Wo(){for(var t=0,e=arguments.length,r={},n;t<e;++t){if(!(n=arguments[t]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new sr(r)}function sr(t){this._=t}function ds(t,e){return t.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}sr.prototype=Wo.prototype={constructor:sr,on:function(t,e){var r=this._,n=ds(t+"",r),o,i=-1,a=n.length;if(arguments.length<2){for(;++i<a;)if((o=(t=n[i]).type)&&(o=xs(r[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=n[i]).type)r[o]=qo(r[o],t.name,e);else if(e==null)for(o in r)r[o]=qo(r[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new sr(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,i;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],n=0,o=i.length;n<o;++n)i[n].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],o=0,i=n.length;o<i;++o)n[o].value.apply(e,r)}};function xs(t,e){for(var r=0,n=t.length,o;r<n;++r)if((o=t[r]).name===e)return o.value}function qo(t,e,r){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=hs,t=t.slice(0,n).concat(t.slice(n+1));break}return r!=null&&t.push({name:e,value:r}),t}var St=Wo;var Xo={passive:!1},Ht={capture:!0,passive:!1};function fr(t){t.stopImmediatePropagation()}function Yt(t){t.preventDefault(),t.stopImmediatePropagation()}function Bt(t){var e=t.document.documentElement,r=J(t).on("dragstart.drag",Yt,Ht);"onselectstart"in e?r.on("selectstart.drag",Yt,Ht):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function qt(t,e){var r=t.document.documentElement,n=J(t).on("dragstart.drag",null);e&&(n.on("click.drag",Yt,Ht),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Ae=t=>()=>t;function Ne(t,{sourceEvent:e,subject:r,target:n,identifier:o,active:i,x:a,y:u,dx:s,dy:f,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:l}})}Ne.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function gs(t){return!t.ctrlKey&&!t.button}function ys(){return this.parentNode}function vs(t,e){return e??{x:t.x,y:t.y}}function ws(){return navigator.maxTouchPoints||"ontouchstart"in this}function _s(){var t=gs,e=ys,r=vs,n=ws,o={},i=St("start","drag","end"),a=0,u,s,f,l,p=0;function c(h){h.on("mousedown.drag",d).filter(n).on("touchstart.drag",y).on("touchmove.drag",g,Xo).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(h,b){if(!(l||!t.call(this,h,b))){var v=_(this,e.call(this,h,b),h,b,"mouse");v&&(J(h.view).on("mousemove.drag",E,Ht).on("mouseup.drag",U,Ht),Bt(h.view),fr(h),f=!1,u=h.clientX,s=h.clientY,v("start",h))}}function E(h){if(Yt(h),!f){var b=h.clientX-u,v=h.clientY-s;f=b*b+v*v>p}o.mouse("drag",h)}function U(h){J(h.view).on("mousemove.drag mouseup.drag",null),qt(h.view,f),Yt(h),o.mouse("end",h)}function y(h,b){if(t.call(this,h,b)){var v=h.changedTouches,A=e.call(this,h,b),O=v.length,H,P;for(H=0;H<O;++H)(P=_(this,A,h,b,v[H].identifier,v[H]))&&(fr(h),P("start",h,v[H]))}}function g(h){var b=h.changedTouches,v=b.length,A,O;for(A=0;A<v;++A)(O=o[b[A].identifier])&&(Yt(h),O("drag",h,b[A]))}function k(h){var b=h.changedTouches,v=b.length,A,O;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),A=0;A<v;++A)(O=o[b[A].identifier])&&(fr(h),O("end",h,b[A]))}function _(h,b,v,A,O,H){var P=i.copy(),S=ct(H||v,b),B,$,m;if((m=r.call(h,new Ne("beforestart",{sourceEvent:v,target:c,identifier:O,active:a,x:S[0],y:S[1],dx:0,dy:0,dispatch:P}),A))!=null)return B=m.x-S[0]||0,$=m.y-S[1]||0,function T(x,M,I){var C=S,N;switch(x){case"start":o[O]=T,N=a++;break;case"end":delete o[O],--a;case"drag":S=ct(I||M,b),N=a;break}P.call(x,h,new Ne(x,{sourceEvent:M,subject:m,target:c,identifier:O,active:N,x:S[0]+B,y:S[1]+$,dx:S[0]-C[0],dy:S[1]-C[1],dispatch:P}),A)}}return c.filter=function(h){return arguments.length?(t=typeof h=="function"?h:Ae(!!h),c):t},c.container=function(h){return arguments.length?(e=typeof h=="function"?h:Ae(h),c):e},c.subject=function(h){return arguments.length?(r=typeof h=="function"?h:Ae(h),c):r},c.touchable=function(h){return arguments.length?(n=typeof h=="function"?h:Ae(!!h),c):n},c.on=function(){var h=i.on.apply(i,arguments);return h===i?c:h},c.clickDistance=function(h){return arguments.length?(p=(h=+h)*h,c):Math.sqrt(p)},c}function lr(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Qr(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Oe(){}var Ie=.7,pr=1/Ie,ae="\\s*([+-]?\\d+)\\s*",Ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bs=/^#([0-9a-f]{3,8})$/,Ms=new RegExp(`^rgb\\(${ae},${ae},${ae}\\)$`),Ts=new RegExp(`^rgb\\(${vt},${vt},${vt}\\)$`),ks=new RegExp(`^rgba\\(${ae},${ae},${ae},${Ee}\\)$`),Ss=new RegExp(`^rgba\\(${vt},${vt},${vt},${Ee}\\)$`),Cs=new RegExp(`^hsl\\(${Ee},${vt},${vt}\\)$`),Ds=new RegExp(`^hsla\\(${Ee},${vt},${vt},${Ee}\\)$`),Vo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lr(Oe,xt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Go,formatHex:Go,formatHex8:As,formatHsl:Ns,formatRgb:Zo,toString:Zo});function Go(){return this.rgb().formatHex()}function As(){return this.rgb().formatHex8()}function Ns(){return ei(this).formatHsl()}function Zo(){return this.rgb().formatRgb()}function xt(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=bs.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Qo(e):r===3?new pt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?cr(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?cr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ms.exec(t))?new pt(e[1],e[2],e[3],1):(e=Ts.exec(t))?new pt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ks.exec(t))?cr(e[1],e[2],e[3],e[4]):(e=Ss.exec(t))?cr(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Cs.exec(t))?jo(e[1],e[2]/100,e[3]/100,1):(e=Ds.exec(t))?jo(e[1],e[2]/100,e[3]/100,e[4]):Vo.hasOwnProperty(t)?Qo(Vo[t]):t==="transparent"?new pt(NaN,NaN,NaN,0):null}function Qo(t){return new pt(t>>16&255,t>>8&255,t&255,1)}function cr(t,e,r,n){return n<=0&&(t=e=r=NaN),new pt(t,e,r,n)}function Is(t){return t instanceof Oe||(t=xt(t)),t?(t=t.rgb(),new pt(t.r,t.g,t.b,t.opacity)):new pt}function ue(t,e,r,n){return arguments.length===1?Is(t):new pt(t,e,r,n??1)}function pt(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}lr(pt,ue,Qr(Oe,{brighter(t){return t=t==null?pr:Math.pow(pr,t),new pt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ie:Math.pow(Ie,t),new pt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pt(Xt(this.r),Xt(this.g),Xt(this.b),hr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ko,formatHex:Ko,formatHex8:Es,formatRgb:Jo,toString:Jo}));function Ko(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}`}function Es(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}${Wt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jo(){let t=hr(this.opacity);return`${t===1?"rgb(":"rgba("}${Xt(this.r)}, ${Xt(this.g)}, ${Xt(this.b)}${t===1?")":`, ${t})`}`}function hr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wt(t){return t=Xt(t),(t<16?"0":"")+t.toString(16)}function jo(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new dt(t,e,r,n)}function ei(t){if(t instanceof dt)return new dt(t.h,t.s,t.l,t.opacity);if(t instanceof Oe||(t=xt(t)),!t)return new dt;if(t instanceof dt)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,o=Math.min(e,r,n),i=Math.max(e,r,n),a=NaN,u=i-o,s=(i+o)/2;return u?(e===i?a=(r-n)/u+(r<n)*6:r===i?a=(n-e)/u+2:a=(e-r)/u+4,u/=s<.5?i+o:2-i-o,a*=60):u=s>0&&s<1?0:a,new dt(a,u,s,t.opacity)}function ri(t,e,r,n){return arguments.length===1?ei(t):new dt(t,e,r,n??1)}function dt(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}lr(dt,ri,Qr(Oe,{brighter(t){return t=t==null?pr:Math.pow(pr,t),new dt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ie:Math.pow(Ie,t),new dt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,o=2*r-n;return new pt(Kr(t>=240?t-240:t+120,o,n),Kr(t,o,n),Kr(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new dt(ti(this.h),mr(this.s),mr(this.l),hr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=hr(this.opacity);return`${t===1?"hsl(":"hsla("}${ti(this.h)}, ${mr(this.s)*100}%, ${mr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ti(t){return t=(t||0)%360,t<0?t+360:t}function mr(t){return Math.max(0,Math.min(1,t||0))}function Kr(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function Jr(t,e,r,n,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*r+(1+3*t+3*i-3*a)*n+a*o)/6}function ni(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[n],i=t[n+1],a=n>0?t[n-1]:2*o-i,u=n<e-1?t[n+2]:2*i-o;return Jr((r-n/e)*e,a,o,i,u)}}function oi(t){var e=t.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*e),o=t[(n+e-1)%e],i=t[n%e],a=t[(n+1)%e],u=t[(n+2)%e];return Jr((r-n/e)*e,o,i,a,u)}}var Ye=t=>()=>t;function Os(t,e){return function(r){return t+r*e}}function Ys(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function ii(t){return(t=+t)==1?dr:function(e,r){return r-e?Ys(e,r,t):Ye(isNaN(e)?r:e)}}function dr(t,e){var r=e-t;return r?Os(t,r):Ye(isNaN(t)?e:t)}var Vt=function t(e){var r=ii(e);function n(o,i){var a=r((o=ue(o)).r,(i=ue(i)).r),u=r(o.g,i.g),s=r(o.b,i.b),f=dr(o.opacity,i.opacity);return function(l){return o.r=a(l),o.g=u(l),o.b=s(l),o.opacity=f(l),o+""}}return n.gamma=t,n}(1);function ai(t){return function(e){var r=e.length,n=new Array(r),o=new Array(r),i=new Array(r),a,u;for(a=0;a<r;++a)u=ue(e[a]),n[a]=u.r||0,o[a]=u.g||0,i[a]=u.b||0;return n=t(n),o=t(o),i=t(i),u.opacity=1,function(s){return u.r=n(s),u.g=o(s),u.b=i(s),u+""}}}var Fs=ai(ni),Us=ai(oi);function ui(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),o;return function(i){for(o=0;o<r;++o)n[o]=t[o]*(1-i)+e[o]*i;return n}}function si(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fi(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,o=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)o[a]=Ct(t[a],e[a]);for(;a<r;++a)i[a]=e[a];return function(u){for(a=0;a<n;++a)i[a]=o[a](u);return i}}function li(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function nt(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function ci(t,e){var r={},n={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?r[o]=Ct(t[o],e[o]):n[o]=e[o];return function(i){for(o in r)n[o]=r[o](i);return n}}var tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jr=new RegExp(tn.source,"g");function Ps(t){return function(){return t}}function Rs(t){return function(e){return t(e)+""}}function Fe(t,e){var r=tn.lastIndex=jr.lastIndex=0,n,o,i,a=-1,u=[],s=[];for(t=t+"",e=e+"";(n=tn.exec(t))&&(o=jr.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(o=o[0])?u[a]?u[a]+=o:u[++a]=o:(u[++a]=null,s.push({i:a,x:nt(n,o)})),r=jr.lastIndex;return r<e.length&&(i=e.slice(r),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?Rs(s[0].x):Ps(e):(e=s.length,function(f){for(var l=0,p;l<e;++l)u[(p=s[l]).i]=p.x(f);return u.join("")})}function Ct(t,e){var r=typeof e,n;return e==null||r==="boolean"?Ye(e):(r==="number"?nt:r==="string"?(n=xt(e))?(e=n,Vt):Fe:e instanceof xt?Vt:e instanceof Date?li:si(e)?ui:Array.isArray(e)?fi:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ci:nt)(t,e)}function en(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}var mi=180/Math.PI,xr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rn(t,e,r,n,o,i){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*r+e*n)&&(r-=t*s,n-=e*s),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,s/=u),t*n<e*r&&(t=-t,e=-e,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*mi,skewX:Math.atan(s)*mi,scaleX:a,scaleY:u}}var gr;function pi(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?xr:rn(e.a,e.b,e.c,e.d,e.e,e.f)}function hi(t){return t==null?xr:(gr||(gr=document.createElementNS("http://www.w3.org/2000/svg","g")),gr.setAttribute("transform",t),(t=gr.transform.baseVal.consolidate())?(t=t.matrix,rn(t.a,t.b,t.c,t.d,t.e,t.f)):xr)}function di(t,e,r,n){function o(f){return f.length?f.pop()+" ":""}function i(f,l,p,c,d,E){if(f!==p||l!==c){var U=d.push("translate(",null,e,null,r);E.push({i:U-4,x:nt(f,p)},{i:U-2,x:nt(l,c)})}else(p||c)&&d.push("translate("+p+e+c+r)}function a(f,l,p,c){f!==l?(f-l>180?l+=360:l-f>180&&(f+=360),c.push({i:p.push(o(p)+"rotate(",null,n)-2,x:nt(f,l)})):l&&p.push(o(p)+"rotate("+l+n)}function u(f,l,p,c){f!==l?c.push({i:p.push(o(p)+"skewX(",null,n)-2,x:nt(f,l)}):l&&p.push(o(p)+"skewX("+l+n)}function s(f,l,p,c,d,E){if(f!==p||l!==c){var U=d.push(o(d)+"scale(",null,",",null,")");E.push({i:U-4,x:nt(f,p)},{i:U-2,x:nt(l,c)})}else(p!==1||c!==1)&&d.push(o(d)+"scale("+p+","+c+")")}return function(f,l){var p=[],c=[];return f=t(f),l=t(l),i(f.translateX,f.translateY,l.translateX,l.translateY,p,c),a(f.rotate,l.rotate,p,c),u(f.skewX,l.skewX,p,c),s(f.scaleX,f.scaleY,l.scaleX,l.scaleY,p,c),f=l=null,function(d){for(var E=-1,U=c.length,y;++E<U;)p[(y=c[E]).i]=y.x(d);return p.join("")}}}var nn=di(pi,"px, ","px)","deg)"),on=di(hi,", ",")",")");var $s=1e-12;function xi(t){return((t=Math.exp(t))+1/t)/2}function zs(t){return((t=Math.exp(t))-1/t)/2}function Ls(t){return((t=Math.exp(2*t))-1)/(t+1)}var an=function t(e,r,n){function o(i,a){var u=i[0],s=i[1],f=i[2],l=a[0],p=a[1],c=a[2],d=l-u,E=p-s,U=d*d+E*E,y,g;if(U<$s)g=Math.log(c/f)/e,y=function(A){return[u+A*d,s+A*E,f*Math.exp(e*A*g)]};else{var k=Math.sqrt(U),_=(c*c-f*f+n*U)/(2*f*r*k),h=(c*c-f*f-n*U)/(2*c*r*k),b=Math.log(Math.sqrt(_*_+1)-_),v=Math.log(Math.sqrt(h*h+1)-h);g=(v-b)/e,y=function(A){var O=A*g,H=xi(b),P=f/(r*k)*(H*Ls(e*O+b)-zs(b));return[u+P*d,s+P*E,f*H/xi(e*O+b)]}}return y.duration=g*1e3*e/Math.SQRT2,y}return o.rho=function(i){var a=Math.max(.001,+i),u=a*a,s=u*u;return t(a,u,s)},o}(Math.SQRT2,2,4);var se=0,Pe=0,Ue=0,yi=1e3,yr,Re,vr=0,Gt=0,wr=0,$e=typeof performance=="object"&&performance.now?performance:Date,vi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Le(){return Gt||(vi(Hs),Gt=$e.now()+wr)}function Hs(){Gt=0}function ze(){this._call=this._time=this._next=null}ze.prototype=_r.prototype={constructor:ze,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Le():+r)+(e==null?0:+e),!this._next&&Re!==this&&(Re?Re._next=this:yr=this,Re=this),this._call=t,this._time=r,un()},stop:function(){this._call&&(this._call=null,this._time=1/0,un())}};function _r(t,e,r){var n=new ze;return n.restart(t,e,r),n}function wi(){Le(),++se;for(var t=yr,e;t;)(e=Gt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--se}function gi(){Gt=(vr=$e.now())+wr,se=Pe=0;try{wi()}finally{se=0,qs(),Gt=0}}function Bs(){var t=$e.now(),e=t-vr;e>yi&&(wr-=e,vr=t)}function qs(){for(var t,e=yr,r,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:yr=r);Re=t,un(n)}function un(t){if(!se){Pe&&(Pe=clearTimeout(Pe));var e=t-Gt;e>24?(t<1/0&&(Pe=setTimeout(gi,t-$e.now()-wr)),Ue&&(Ue=clearInterval(Ue))):(Ue||(vr=$e.now(),Ue=setInterval(Bs,yi)),se=1,vi(gi))}}function br(t,e,r){var n=new ze;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,r),n}var Ws=St("start","end","cancel","interrupt"),Xs=[],Mi=0,_i=1,Tr=2,Mr=3,bi=4,kr=5,He=6;function Ft(t,e,r,n,o,i){var a=t.__transition;if(!a)t.__transition={};else if(r in a)return;Vs(t,r,{name:e,index:n,group:o,on:Ws,tween:Xs,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Mi})}function Be(t,e){var r=j(t,e);if(r.state>Mi)throw new Error("too late; already scheduled");return r}function ot(t,e){var r=j(t,e);if(r.state>Mr)throw new Error("too late; already running");return r}function j(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Vs(t,e,r){var n=t.__transition,o;n[e]=r,r.timer=_r(i,0,r.time);function i(f){r.state=_i,r.timer.restart(a,r.delay,r.time),r.delay<=f&&a(f-r.delay)}function a(f){var l,p,c,d;if(r.state!==_i)return s();for(l in n)if(d=n[l],d.name===r.name){if(d.state===Mr)return br(a);d.state===bi?(d.state=He,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete n[l]):+l<e&&(d.state=He,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete n[l])}if(br(function(){r.state===Mr&&(r.state=bi,r.timer.restart(u,r.delay,r.time),u(f))}),r.state=Tr,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Tr){for(r.state=Mr,o=new Array(c=r.tween.length),l=0,p=-1;l<c;++l)(d=r.tween[l].value.call(t,t.__data__,r.index,r.group))&&(o[++p]=d);o.length=p+1}}function u(f){for(var l=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(s),r.state=kr,1),p=-1,c=o.length;++p<c;)o[p].call(t,l);r.state===kr&&(r.on.call("end",t,t.__data__,r.index,r.group),s())}function s(){r.state=He,r.timer.stop(),delete n[e];for(var f in n)return;delete t.__transition}}function wt(t,e){var r=t.__transition,n,o,i=!0,a;if(r){e=e==null?null:e+"";for(a in r){if((n=r[a]).name!==e){i=!1;continue}o=n.state>Tr&&n.state<kr,n.state=He,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[a]}i&&delete t.__transition}}function Ti(t){return this.each(function(){wt(this,t)})}function Gs(t,e){var r,n;return function(){var o=ot(this,t),i=o.tween;if(i!==r){n=r=i;for(var a=0,u=n.length;a<u;++a)if(n[a].name===e){n=n.slice(),n.splice(a,1);break}}o.tween=n}}function Zs(t,e,r){var n,o;if(typeof r!="function")throw new Error;return function(){var i=ot(this,t),a=i.tween;if(a!==n){o=(n=a).slice();for(var u={name:e,value:r},s=0,f=o.length;s<f;++s)if(o[s].name===e){o[s]=u;break}s===f&&o.push(u)}i.tween=o}}function ki(t,e){var r=this._id;if(t+="",arguments.length<2){for(var n=j(this.node(),r).tween,o=0,i=n.length,a;o<i;++o)if((a=n[o]).name===t)return a.value;return null}return this.each((e==null?Gs:Zs)(r,t,e))}function fe(t,e,r){var n=t._id;return t.each(function(){var o=ot(this,n);(o.value||(o.value={}))[e]=r.apply(this,arguments)}),function(o){return j(o,n).value[e]}}function Sr(t,e){var r;return(typeof e=="number"?nt:e instanceof xt?Vt:(r=xt(e))?(e=r,Vt):Fe)(t,e)}function Qs(t){return function(){this.removeAttribute(t)}}function Ks(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Js(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===n?i:i=e(n=a,r)}}function js(t,e,r){var n,o=r+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===n?i:i=e(n=a,r)}}function tf(t,e,r){var n,o,i;return function(){var a,u=r(this),s;return u==null?void this.removeAttribute(t):(a=this.getAttribute(t),s=u+"",a===s?null:a===n&&s===o?i:(o=s,i=e(n=a,u)))}}function ef(t,e,r){var n,o,i;return function(){var a,u=r(this),s;return u==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=u+"",a===s?null:a===n&&s===o?i:(o=s,i=e(n=a,u)))}}function Si(t,e){var r=Tt(t),n=r==="transform"?on:Sr;return this.attrTween(t,typeof e=="function"?(r.local?ef:tf)(r,n,fe(this,"attr."+t,e)):e==null?(r.local?Ks:Qs)(r):(r.local?js:Js)(r,n,e))}function rf(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function nf(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function of(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&nf(t,i)),r}return o._value=e,o}function af(t,e){var r,n;function o(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&rf(t,i)),r}return o._value=e,o}function Ci(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var n=Tt(t);return this.tween(r,(n.local?of:af)(n,e))}function uf(t,e){return function(){Be(this,t).delay=+e.apply(this,arguments)}}function sf(t,e){return e=+e,function(){Be(this,t).delay=e}}function Di(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?uf:sf)(e,t)):j(this.node(),e).delay}function ff(t,e){return function(){ot(this,t).duration=+e.apply(this,arguments)}}function lf(t,e){return e=+e,function(){ot(this,t).duration=e}}function Ai(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ff:lf)(e,t)):j(this.node(),e).duration}function cf(t,e){if(typeof e!="function")throw new Error;return function(){ot(this,t).ease=e}}function Ni(t){var e=this._id;return arguments.length?this.each(cf(e,t)):j(this.node(),e).ease}function mf(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;ot(this,t).ease=r}}function Ii(t){if(typeof t!="function")throw new Error;return this.each(mf(this._id,t))}function Ei(t){typeof t!="function"&&(t=ke(t));for(var e=this._groups,r=e.length,n=new Array(r),o=0;o<r;++o)for(var i=e[o],a=i.length,u=n[o]=[],s,f=0;f<a;++f)(s=i[f])&&t.call(s,s.__data__,f,i)&&u.push(s);return new mt(n,this._parents,this._name,this._id)}function Oi(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,n=e.length,o=r.length,i=Math.min(n,o),a=new Array(n),u=0;u<i;++u)for(var s=e[u],f=r[u],l=s.length,p=a[u]=new Array(l),c,d=0;d<l;++d)(c=s[d]||f[d])&&(p[d]=c);for(;u<n;++u)a[u]=e[u];return new mt(a,this._parents,this._name,this._id)}function pf(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function hf(t,e,r){var n,o,i=pf(e)?Be:ot;return function(){var a=i(this,t),u=a.on;u!==n&&(o=(n=u).copy()).on(e,r),a.on=o}}function Yi(t,e){var r=this._id;return arguments.length<2?j(this.node(),r).on.on(t):this.each(hf(r,t,e))}function df(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function Fi(){return this.on("end.remove",df(this._id))}function Ui(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Lt(t));for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a)for(var u=n[a],s=u.length,f=i[a]=new Array(s),l,p,c=0;c<s;++c)(l=u[c])&&(p=t.call(l,l.__data__,c,u))&&("__data__"in l&&(p.__data__=l.__data__),f[c]=p,Ft(f[c],e,r,c,f,j(l,r)));return new mt(i,this._parents,e,r)}function Pi(t){var e=this._name,r=this._id;typeof t!="function"&&(t=Te(t));for(var n=this._groups,o=n.length,i=[],a=[],u=0;u<o;++u)for(var s=n[u],f=s.length,l,p=0;p<f;++p)if(l=s[p]){for(var c=t.call(l,l.__data__,p,s),d,E=j(l,r),U=0,y=c.length;U<y;++U)(d=c[U])&&Ft(d,e,r,U,c,E);i.push(c),a.push(l)}return new mt(i,a,e,r)}var xf=kt.prototype.constructor;function Ri(){return new xf(this._groups,this._parents)}function gf(t,e){var r,n,o;return function(){var i=Ot(this,t),a=(this.style.removeProperty(t),Ot(this,t));return i===a?null:i===r&&a===n?o:o=e(r=i,n=a)}}function $i(t){return function(){this.style.removeProperty(t)}}function yf(t,e,r){var n,o=r+"",i;return function(){var a=Ot(this,t);return a===o?null:a===n?i:i=e(n=a,r)}}function vf(t,e,r){var n,o,i;return function(){var a=Ot(this,t),u=r(this),s=u+"";return u==null&&(s=u=(this.style.removeProperty(t),Ot(this,t))),a===s?null:a===n&&s===o?i:(o=s,i=e(n=a,u))}}function wf(t,e){var r,n,o,i="style."+e,a="end."+i,u;return function(){var s=ot(this,t),f=s.on,l=s.value[i]==null?u||(u=$i(e)):void 0;(f!==r||o!==l)&&(n=(r=f).copy()).on(a,o=l),s.on=n}}function zi(t,e,r){var n=(t+="")=="transform"?nn:Sr;return e==null?this.styleTween(t,gf(t,n)).on("end.style."+t,$i(t)):typeof e=="function"?this.styleTween(t,vf(t,n,fe(this,"style."+t,e))).each(wf(this._id,t)):this.styleTween(t,yf(t,n,e),r).on("end.style."+t,null)}function _f(t,e,r){return function(n){this.style.setProperty(t,e.call(this,n),r)}}function bf(t,e,r){var n,o;function i(){var a=e.apply(this,arguments);return a!==o&&(n=(o=a)&&_f(t,a,r)),n}return i._value=e,i}function Li(t,e,r){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,bf(t,e,r??""))}function Mf(t){return function(){this.textContent=t}}function Tf(t){return function(){var e=t(this);this.textContent=e??""}}function Hi(t){return this.tween("text",typeof t=="function"?Tf(fe(this,"text",t)):Mf(t==null?"":t+""))}function kf(t){return function(e){this.textContent=t.call(this,e)}}function Sf(t){var e,r;function n(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&kf(o)),e}return n._value=t,n}function Bi(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Sf(t))}function qi(){for(var t=this._name,e=this._id,r=Cr(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],u=a.length,s,f=0;f<u;++f)if(s=a[f]){var l=j(s,e);Ft(s,t,r,f,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new mt(n,this._parents,t,r)}function Wi(){var t,e,r=this,n=r._id,o=r.size();return new Promise(function(i,a){var u={value:a},s={value:function(){--o===0&&i()}};r.each(function(){var f=ot(this,n),l=f.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(s)),f.on=e}),o===0&&i()})}var Cf=0;function mt(t,e,r,n){this._groups=t,this._parents=e,this._name=r,this._id=n}function Xi(t){return kt().transition(t)}function Cr(){return++Cf}var Dt=kt.prototype;mt.prototype=Xi.prototype={constructor:mt,select:Ui,selectAll:Pi,selectChild:Dt.selectChild,selectChildren:Dt.selectChildren,filter:Ei,merge:Oi,selection:Ri,transition:qi,call:Dt.call,nodes:Dt.nodes,node:Dt.node,size:Dt.size,empty:Dt.empty,each:Dt.each,on:Yi,attr:Si,attrTween:Ci,style:zi,styleTween:Li,text:Hi,textTween:Bi,remove:Fi,tween:ki,delay:Di,duration:Ai,ease:Ni,easeVarying:Ii,end:Wi,[Symbol.iterator]:Dt[Symbol.iterator]};function Dr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Df={time:null,delay:0,duration:250,ease:Dr};function Af(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Vi(t){var e,r;t instanceof mt?(e=t._id,t=t._name):(e=Cr(),(r=Df).time=Le(),t=t==null?null:t+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],u=a.length,s,f=0;f<u;++f)(s=a[f])&&Ft(s,t,e,f,a,r||Af(s,e));return new mt(n,this._parents,t,e)}kt.prototype.interrupt=Ti;kt.prototype.transition=Vi;var Ar=t=>()=>t;function sn(t,{sourceEvent:e,target:r,selection:n,mode:o,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function Gi(t){t.stopImmediatePropagation()}function Nr(t){t.preventDefault(),t.stopImmediatePropagation()}var Zi={name:"drag"},fn={name:"space"},le={name:"handle"},ce={name:"center"},{abs:Qi,max:ut,min:st}=Math;function Ki(t){return[+t[0],+t[1]]}function pn(t){return[Ki(t[0]),Ki(t[1])]}var ln={name:"x",handles:["w","e"].map(qe),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},cn={name:"y",handles:["n","s"].map(qe),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Nf={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(qe),input:function(t){return t==null?null:pn(t)},output:function(t){return t}},At={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ji={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ji={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},If={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ef={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function qe(t){return{type:t}}function Of(t){return!t.ctrlKey&&!t.button}function Yf(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ff(){return navigator.maxTouchPoints||"ontouchstart"in this}function mn(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Uf(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Pf(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Rf(){return $f(Nf)}function $f(t){var e=Yf,r=Of,n=Ff,o=!0,i=St("start","brush","end"),a=6,u;function s(y){var g=y.property("__brush",U).selectAll(".overlay").data([qe("overlay")]);g.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",At.overlay).merge(g).each(function(){var _=mn(this).extent;J(this).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1])}),y.selectAll(".selection").data([qe("selection")]).enter().append("rect").attr("class","selection").attr("cursor",At.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var k=y.selectAll(".handle").data(t.handles,function(_){return _.type});k.exit().remove(),k.enter().append("rect").attr("class",function(_){return"handle handle--"+_.type}).attr("cursor",function(_){return At[_.type]}),y.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",c).filter(n).on("touchstart.brush",c).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(y,g,k){y.tween?y.on("start.brush",function(_){l(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){l(this,arguments).end(_)}).tween("brush",function(){var _=this,h=_.__brush,b=l(_,arguments),v=h.selection,A=t.input(typeof g=="function"?g.apply(this,arguments):g,h.extent),O=Ct(v,A);function H(P){h.selection=P===1&&A===null?null:O(P),f.call(_),b.brush()}return v!==null&&A!==null?H:H(1)}):y.each(function(){var _=this,h=arguments,b=_.__brush,v=t.input(typeof g=="function"?g.apply(_,h):g,b.extent),A=l(_,h).beforestart();wt(_),b.selection=v===null?null:v,f.call(_),A.start(k).brush(k).end(k)})},s.clear=function(y,g){s.move(y,null,g)};function f(){var y=J(this),g=mn(this).selection;g?(y.selectAll(".selection").style("display",null).attr("x",g[0][0]).attr("y",g[0][1]).attr("width",g[1][0]-g[0][0]).attr("height",g[1][1]-g[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(k){return k.type[k.type.length-1]==="e"?g[1][0]-a/2:g[0][0]-a/2}).attr("y",function(k){return k.type[0]==="s"?g[1][1]-a/2:g[0][1]-a/2}).attr("width",function(k){return k.type==="n"||k.type==="s"?g[1][0]-g[0][0]+a:a}).attr("height",function(k){return k.type==="e"||k.type==="w"?g[1][1]-g[0][1]+a:a})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(y,g,k){var _=y.__brush.emitter;return _&&(!k||!_.clean)?_:new p(y,g,k)}function p(y,g,k){this.that=y,this.args=g,this.state=y.__brush,this.active=0,this.clean=k}p.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(y,g){return this.starting?(this.starting=!1,this.emit("start",y,g)):this.emit("brush",y),this},brush:function(y,g){return this.emit("brush",y,g),this},end:function(y,g){return--this.active===0&&(delete this.state.emitter,this.emit("end",y,g)),this},emit:function(y,g,k){var _=J(this.that).datum();i.call(y,this.that,new sn(y,{sourceEvent:g,target:s,selection:t.output(this.state.selection),mode:k,dispatch:i}),_)}};function c(y){if(u&&!y.touches||!r.apply(this,arguments))return;var g=this,k=y.target.__data__.type,_=(o&&y.metaKey?k="overlay":k)==="selection"?Zi:o&&y.altKey?ce:le,h=t===cn?null:If[k],b=t===ln?null:Ef[k],v=mn(g),A=v.extent,O=v.selection,H=A[0][0],P,S,B=A[0][1],$,m,T=A[1][0],x,M,I=A[1][1],C,N,F=0,R=0,it,Z=h&&b&&o&&y.shiftKey,tt,at,X=Array.from(y.touches||[y],Y=>{let K=Y.identifier;return Y=ct(Y,g),Y.point0=Y.slice(),Y.identifier=K,Y});wt(g);var rt=l(g,arguments,!0).beforestart();if(k==="overlay"){O&&(it=!0);let Y=[X[0],X[1]||X[0]];v.selection=O=[[P=t===cn?H:st(Y[0][0],Y[1][0]),$=t===ln?B:st(Y[0][1],Y[1][1])],[x=t===cn?T:ut(Y[0][0],Y[1][0]),C=t===ln?I:ut(Y[0][1],Y[1][1])]],X.length>1&&Q(y)}else P=O[0][0],$=O[0][1],x=O[1][0],C=O[1][1];S=P,m=$,M=x,N=C;var D=J(g).attr("pointer-events","none"),z=D.selectAll(".overlay").attr("cursor",At[k]);if(y.touches)rt.moved=w,rt.ended=W;else{var L=J(y.view).on("mousemove.brush",w,!0).on("mouseup.brush",W,!0);o&&L.on("keydown.brush",ft,!0).on("keyup.brush",lt,!0),Bt(y.view)}f.call(g),rt.start(y,_.name);function w(Y){for(let K of Y.changedTouches||[Y])for(let _e of X)_e.identifier===K.identifier&&(_e.cur=ct(K,g));if(Z&&!tt&&!at&&X.length===1){let K=X[0];Qi(K.cur[0]-K[0])>Qi(K.cur[1]-K[1])?at=!0:tt=!0}for(let K of X)K.cur&&(K[0]=K.cur[0],K[1]=K.cur[1]);it=!0,Nr(Y),Q(Y)}function Q(Y){let K=X[0],_e=K.point0;var Et;switch(F=K[0]-_e[0],R=K[1]-_e[1],_){case fn:case Zi:{h&&(F=ut(H-P,st(T-x,F)),S=P+F,M=x+F),b&&(R=ut(B-$,st(I-C,R)),m=$+R,N=C+R);break}case le:{X[1]?(h&&(S=ut(H,st(T,X[0][0])),M=ut(H,st(T,X[1][0])),h=1),b&&(m=ut(B,st(I,X[0][1])),N=ut(B,st(I,X[1][1])),b=1)):(h<0?(F=ut(H-P,st(T-P,F)),S=P+F,M=x):h>0&&(F=ut(H-x,st(T-x,F)),S=P,M=x+F),b<0?(R=ut(B-$,st(I-$,R)),m=$+R,N=C):b>0&&(R=ut(B-C,st(I-C,R)),m=$,N=C+R));break}case ce:{h&&(S=ut(H,st(T,P-F*h)),M=ut(H,st(T,x+F*h))),b&&(m=ut(B,st(I,$-R*b)),N=ut(B,st(I,C+R*b)));break}}M<S&&(h*=-1,Et=P,P=x,x=Et,Et=S,S=M,M=Et,k in Ji&&z.attr("cursor",At[k=Ji[k]])),N<m&&(b*=-1,Et=$,$=C,C=Et,Et=m,m=N,N=Et,k in ji&&z.attr("cursor",At[k=ji[k]])),v.selection&&(O=v.selection),tt&&(S=O[0][0],M=O[1][0]),at&&(m=O[0][1],N=O[1][1]),(O[0][0]!==S||O[0][1]!==m||O[1][0]!==M||O[1][1]!==N)&&(v.selection=[[S,m],[M,N]],f.call(g),rt.brush(Y,_.name))}function W(Y){if(Gi(Y),Y.touches){if(Y.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500)}else qt(Y.view,it),L.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),z.attr("cursor",At.overlay),v.selection&&(O=v.selection),Uf(O)&&(v.selection=null,f.call(g)),rt.end(Y,_.name)}function ft(Y){switch(Y.keyCode){case 16:{Z=h&&b;break}case 18:{_===le&&(h&&(x=M-F*h,P=S+F*h),b&&(C=N-R*b,$=m+R*b),_=ce,Q(Y));break}case 32:{(_===le||_===ce)&&(h<0?x=M-F:h>0&&(P=S-F),b<0?C=N-R:b>0&&($=m-R),_=fn,z.attr("cursor",At.selection),Q(Y));break}default:return}Nr(Y)}function lt(Y){switch(Y.keyCode){case 16:{Z&&(tt=at=Z=!1,Q(Y));break}case 18:{_===ce&&(h<0?x=M:h>0&&(P=S),b<0?C=N:b>0&&($=m),_=le,Q(Y));break}case 32:{_===fn&&(Y.altKey?(h&&(x=M-F*h,P=S+F*h),b&&(C=N-R*b,$=m+R*b),_=ce):(h<0?x=M:h>0&&(P=S),b<0?C=N:b>0&&($=m),_=le),z.attr("cursor",At[k]),Q(Y));break}default:return}Nr(Y)}}function d(y){l(this,arguments).moved(y)}function E(y){l(this,arguments).ended(y)}function U(){var y=this.__brush||{selection:null};return y.extent=pn(e.apply(this,arguments)),y.dim=t,y}return s.extent=function(y){return arguments.length?(e=typeof y=="function"?y:Ar(pn(y)),s):e},s.filter=function(y){return arguments.length?(r=typeof y=="function"?y:Ar(!!y),s):r},s.touchable=function(y){return arguments.length?(n=typeof y=="function"?y:Ar(!!y),s):n},s.handleSize=function(y){return arguments.length?(a=+y,s):a},s.keyModifiers=function(y){return arguments.length?(o=!!y,s):o},s.on=function(){var y=i.on.apply(i,arguments);return y===i?s:y},s}var hn=Math.PI,dn=2*hn,Zt=1e-6,zf=dn-Zt;function ta(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Lf(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ta;let r=10**e;return function(n){this._+=n[0];for(let o=1,i=n.length;o<i;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}var Qt=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ta:Lf(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,o){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(e,r,n,o,i,a){this._append`C${+e},${+r},${+n},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(e,r,n,o,i){if(e=+e,r=+r,n=+n,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,u=this._y1,s=n-e,f=o-r,l=a-e,p=u-r,c=l*l+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(c>Zt)if(!(Math.abs(p*s-f*l)>Zt)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let d=n-a,E=o-u,U=s*s+f*f,y=d*d+E*E,g=Math.sqrt(U),k=Math.sqrt(c),_=i*Math.tan((hn-Math.acos((U+c-y)/(2*g*k)))/2),h=_/k,b=_/g;Math.abs(h-1)>Zt&&this._append`L${e+h*l},${r+h*p}`,this._append`A${i},${i},0,0,${+(p*d>l*E)},${this._x1=e+b*s},${this._y1=r+b*f}`}}arc(e,r,n,o,i,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(o),s=n*Math.sin(o),f=e+u,l=r+s,p=1^a,c=a?o-i:i-o;this._x1===null?this._append`M${f},${l}`:(Math.abs(this._x1-f)>Zt||Math.abs(this._y1-l)>Zt)&&this._append`L${f},${l}`,n&&(c<0&&(c=c%dn+dn),c>zf?this._append`A${n},${n},0,1,${p},${e-u},${r-s}A${n},${n},0,1,${p},${this._x1=f},${this._y1=l}`:c>Zt&&this._append`A${n},${n},0,${+(c>=hn)},${p},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}};function ea(){return new Qt}ea.prototype=Qt.prototype;function ra(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kt(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function _t(t){return t=Kt(Math.abs(t)),t?t[1]:NaN}function na(t,e){return function(r,n){for(var o=r.length,i=[],a=0,u=t[0],s=0;o>0&&u>0&&(s+u+1>n&&(u=Math.max(1,n-s)),i.push(r.substring(o-=u,o+u)),!((s+=u+1)>n));)u=t[a=(a+1)%t.length];return i.reverse().join(e)}}function oa(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Hf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ut(t){if(!(e=Hf.exec(t)))throw new Error("invalid format: "+t);var e;return new Ir({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ut.prototype=Ir.prototype;function Ir(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ir.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ia(t){t:for(var e=t.length,r=1,n=-1,o;r<e;++r)switch(t[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+t[r])break t;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(o+1):t}var xn;function aa(t,e){var r=Kt(t,e);if(!r)return t+"";var n=r[0],o=r[1],i=o-(xn=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Kt(t,Math.max(0,e+i-1))[0]}function gn(t,e){var r=Kt(t,e);if(!r)return t+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}var yn={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ra,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gn(t*100,e),r:gn,s:aa,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vn(t){return t}var ua=Array.prototype.map,sa=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function fa(t){var e=t.grouping===void 0||t.thousands===void 0?vn:na(ua.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?vn:oa(ua.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"\u2212":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Ut(p);var c=p.fill,d=p.align,E=p.sign,U=p.symbol,y=p.zero,g=p.width,k=p.comma,_=p.precision,h=p.trim,b=p.type;b==="n"?(k=!0,b="g"):yn[b]||(_===void 0&&(_=12),h=!0,b="g"),(y||c==="0"&&d==="=")&&(y=!0,c="0",d="=");var v=U==="$"?r:U==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",A=U==="$"?n:/[%p]/.test(b)?a:"",O=yn[b],H=/[defgprs%]/.test(b);_=_===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(S){var B=v,$=A,m,T,x;if(b==="c")$=O(S)+$,S="";else{S=+S;var M=S<0||1/S<0;if(S=isNaN(S)?s:O(Math.abs(S),_),h&&(S=ia(S)),M&&+S==0&&E!=="+"&&(M=!1),B=(M?E==="("?E:u:E==="-"||E==="("?"":E)+B,$=(b==="s"?sa[8+xn/3]:"")+$+(M&&E==="("?")":""),H){for(m=-1,T=S.length;++m<T;)if(x=S.charCodeAt(m),48>x||x>57){$=(x===46?o+S.slice(m+1):S.slice(m))+$,S=S.slice(0,m);break}}}k&&!y&&(S=e(S,1/0));var I=B.length+S.length+$.length,C=I<g?new Array(g-I+1).join(c):"";switch(k&&y&&(S=e(C+S,C.length?g-$.length:1/0),C=""),d){case"<":S=B+S+$+C;break;case"=":S=B+C+S+$;break;case"^":S=C.slice(0,I=C.length>>1)+B+S+$+C.slice(I);break;default:S=C+B+S+$;break}return i(S)}return P.toString=function(){return p+""},P}function l(p,c){var d=f((p=Ut(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(_t(c)/3)))*3,U=Math.pow(10,-E),y=sa[8+E/3];return function(g){return d(U*g)+y}}return{format:f,formatPrefix:l}}var Er,Or,Yr;wn({thousands:",",grouping:[3],currency:["$",""]});function wn(t){return Er=fa(t),Or=Er.format,Yr=Er.formatPrefix,Er}function _n(t){return Math.max(0,-_t(Math.abs(t)))}function bn(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_t(e)/3)))*3-_t(Math.abs(t)))}function Mn(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_t(e)-_t(t))+1}function me(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var Tn=Symbol("implicit");function kn(){var t=new oe,e=[],r=[],n=Tn;function o(i){let a=t.get(i);if(a===void 0){if(n!==Tn)return n;t.set(i,a=e.push(i)-1)}return r[a%r.length]}return o.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new oe;for(let a of i)t.has(a)||t.set(a,e.push(a)-1);return o},o.range=function(i){return arguments.length?(r=Array.from(i),o):r.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return kn(e,r).unknown(n)},me.apply(o,arguments),o}function Sn(t){return function(){return t}}function Cn(t){return+t}var la=[0,1];function pe(t){return t}function Dn(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Sn(isNaN(e)?NaN:.5)}function Bf(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function qf(t,e,r){var n=t[0],o=t[1],i=e[0],a=e[1];return o<n?(n=Dn(o,n),i=r(a,i)):(n=Dn(n,o),i=r(i,a)),function(u){return i(n(u))}}function Wf(t,e,r){var n=Math.min(t.length,e.length)-1,o=new Array(n),i=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)o[a]=Dn(t[a],t[a+1]),i[a]=r(e[a],e[a+1]);return function(u){var s=qr(t,u,1,n)-1;return i[s](o[s](u))}}function Fr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xf(){var t=la,e=la,r=Ct,n,o,i,a=pe,u,s,f;function l(){var c=Math.min(t.length,e.length);return a!==pe&&(a=Bf(t[0],t[c-1])),u=c>2?Wf:qf,s=f=null,p}function p(c){return c==null||isNaN(c=+c)?i:(s||(s=u(t.map(n),e,r)))(n(a(c)))}return p.invert=function(c){return a(o((f||(f=u(e,t.map(n),nt)))(c)))},p.domain=function(c){return arguments.length?(t=Array.from(c,Cn),l()):t.slice()},p.range=function(c){return arguments.length?(e=Array.from(c),l()):e.slice()},p.rangeRound=function(c){return e=Array.from(c),r=en,l()},p.clamp=function(c){return arguments.length?(a=c?!0:pe,l()):a!==pe},p.interpolate=function(c){return arguments.length?(r=c,l()):r},p.unknown=function(c){return arguments.length?(i=c,p):i},function(c,d){return n=c,o=d,l()}}function We(){return Xf()(pe,pe)}function An(t,e,r,n){var o=ie(t,e,r),i;switch(n=Ut(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=bn(o,a))&&(n.precision=i),Yr(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Mn(o,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=_n(o))&&(n.precision=i-(n.type==="%")*2);break}}return Or(n)}function Vf(t){var e=t.domain;return t.ticks=function(r){var n=e();return rr(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var o=e();return An(o[0],o[o.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),o=0,i=n.length-1,a=n[o],u=n[i],s,f,l=10;for(u<a&&(f=a,a=u,u=f,f=o,o=i,i=f);l-- >0;){if(f=be(a,u,r),f===s)return n[o]=a,n[i]=u,e(n);if(f>0)a=Math.floor(a/f)*f,u=Math.ceil(u/f)*f;else if(f<0)a=Math.ceil(a*f)/f,u=Math.floor(u*f)/f;else break;s=f}return t},t}function Nn(){var t=We();return t.copy=function(){return Fr(t,Nn())},me.apply(t,arguments),Vf(t)}function In(t,e){t=t.slice();var r=0,n=t.length-1,o=t[r],i=t[n],a;return i<o&&(a=r,r=n,n=a,a=o,o=i,i=a),t[r]=e.floor(o),t[n]=e.ceil(i),t}var En=new Date,On=new Date;function V(t,e,r,n){function o(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(t(i=new Date(+i)),i),o.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),o.round=i=>{let a=o(i),u=o.ceil(i);return i-a<u-i?a:u},o.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,u)=>{let s=[];if(i=o.ceil(i),u=u==null?1:Math.floor(u),!(i<a)||!(u>0))return s;let f;do s.push(f=new Date(+i)),e(i,u),t(i);while(f<i&&i<a);return s},o.filter=i=>V(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;e(a,-1),!i(a););else for(;--u>=0;)for(;e(a,1),!i(a););}),r&&(o.count=(i,a)=>(En.setTime(+i),On.setTime(+a),t(En),t(On),Math.floor(r(En,On))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(n?a=>n(a)%i===0:a=>o.count(0,a)%i===0):o)),o}var Xe=V(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xe.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?V(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Xe);var hy=Xe.range;var bt=V(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),ca=bt.range;var he=V(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),Gf=he.range,Ur=V(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),Zf=Ur.range;var de=V(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),Qf=de.range,Pr=V(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),Kf=Pr.range;var Nt=V(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),Jf=Nt.range,Ge=V(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),jf=Ge.range,Rr=V(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),tl=Rr.range;function te(t){return V(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var It=te(0),xe=te(1),pa=te(2),ha=te(3),Pt=te(4),da=te(5),xa=te(6),ga=It.range,el=xe.range,rl=pa.range,nl=ha.range,ol=Pt.range,il=da.range,al=xa.range;function ee(t){return V(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/6048e5)}var re=ee(0),ge=ee(1),ya=ee(2),va=ee(3),Rt=ee(4),wa=ee(5),_a=ee(6),ba=re.range,ul=ge.range,sl=ya.range,fl=va.range,ll=Rt.range,cl=wa.range,ml=_a.range;var ye=V(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),pl=ye.range,$r=V(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),hl=$r.range;var ht=V(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ht.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:V(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});var dl=ht.range,gt=V(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());gt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:V(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});var xl=gt.range;function Ta(t,e,r,n,o,i){let a=[[bt,1,1e3],[bt,5,5*1e3],[bt,15,15*1e3],[bt,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[o,1,36e5],[o,3,3*36e5],[o,6,6*36e5],[o,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function u(f,l,p){let c=l<f;c&&([f,l]=[l,f]);let d=p&&typeof p.range=="function"?p:s(f,l,p),E=d?d.range(f,+l+1):[];return c?E.reverse():E}function s(f,l,p){let c=Math.abs(l-f)/p,d=zt(([,,y])=>y).right(a,c);if(d===a.length)return t.every(ie(f/31536e6,l/31536e6,p));if(d===0)return Xe.every(Math.max(ie(f,l,p),1));let[E,U]=a[c/a[d-1][2]<a[d][2]/c?d-1:d];return E.every(U)}return[u,s]}var[yl,vl]=Ta(gt,$r,re,Rr,Pr,Ur),[Yn,Fn]=Ta(ht,ye,It,Nt,de,he);function Un(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ze(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Rn(t){var e=t.dateTime,r=t.date,n=t.time,o=t.periods,i=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,f=Qe(o),l=Ke(o),p=Qe(i),c=Ke(i),d=Qe(a),E=Ke(a),U=Qe(u),y=Ke(u),g=Qe(s),k=Ke(s),_={a:M,A:I,b:C,B:N,c:null,d:Na,e:Na,f:Hl,g:Jl,G:tc,H:$l,I:zl,j:Ll,L:Fa,m:Bl,M:ql,p:F,q:R,Q:Oa,s:Ya,S:Wl,u:Xl,U:Vl,V:Gl,w:Zl,W:Ql,x:null,X:null,y:Kl,Y:jl,Z:ec,"%":Ea},h={a:it,A:Z,b:tt,B:at,c:null,d:Ia,e:Ia,f:ic,g:dc,G:gc,H:rc,I:nc,j:oc,L:Pa,m:ac,M:uc,p:X,q:rt,Q:Oa,s:Ya,S:sc,u:fc,U:lc,V:cc,w:mc,W:pc,x:null,X:null,y:hc,Y:xc,Z:yc,"%":Ea},b={a:P,A:S,b:B,B:$,c:m,d:Da,e:Da,f:Fl,g:Ca,G:Sa,H:Aa,I:Aa,j:Il,L:Yl,m:Nl,M:El,p:H,q:Al,Q:Pl,s:Rl,S:Ol,u:Tl,U:kl,V:Sl,w:Ml,W:Cl,x:T,X:x,y:Ca,Y:Sa,Z:Dl,"%":Ul};_.x=v(r,_),_.X=v(n,_),_.c=v(e,_),h.x=v(r,h),h.X=v(n,h),h.c=v(e,h);function v(D,z){return function(L){var w=[],Q=-1,W=0,ft=D.length,lt,Y,K;for(L instanceof Date||(L=new Date(+L));++Q<ft;)D.charCodeAt(Q)===37&&(w.push(D.slice(W,Q)),(Y=ka[lt=D.charAt(++Q)])!=null?lt=D.charAt(++Q):Y=lt==="e"?" ":"0",(K=z[lt])&&(lt=K(L,Y)),w.push(lt),W=Q+1);return w.push(D.slice(W,Q)),w.join("")}}function A(D,z){return function(L){var w=Ze(1900,void 0,1),Q=O(w,D,L+="",0),W,ft;if(Q!=L.length)return null;if("Q"in w)return new Date(w.Q);if("s"in w)return new Date(w.s*1e3+("L"in w?w.L:0));if(z&&!("Z"in w)&&(w.Z=0),"p"in w&&(w.H=w.H%12+w.p*12),w.m===void 0&&(w.m="q"in w?w.q:0),"V"in w){if(w.V<1||w.V>53)return null;"w"in w||(w.w=1),"Z"in w?(W=Pn(Ze(w.y,0,1)),ft=W.getUTCDay(),W=ft>4||ft===0?ge.ceil(W):ge(W),W=Ge.offset(W,(w.V-1)*7),w.y=W.getUTCFullYear(),w.m=W.getUTCMonth(),w.d=W.getUTCDate()+(w.w+6)%7):(W=Un(Ze(w.y,0,1)),ft=W.getDay(),W=ft>4||ft===0?xe.ceil(W):xe(W),W=Nt.offset(W,(w.V-1)*7),w.y=W.getFullYear(),w.m=W.getMonth(),w.d=W.getDate()+(w.w+6)%7)}else("W"in w||"U"in w)&&("w"in w||(w.w="u"in w?w.u%7:"W"in w?1:0),ft="Z"in w?Pn(Ze(w.y,0,1)).getUTCDay():Un(Ze(w.y,0,1)).getDay(),w.m=0,w.d="W"in w?(w.w+6)%7+w.W*7-(ft+5)%7:w.w+w.U*7-(ft+6)%7);return"Z"in w?(w.H+=w.Z/100|0,w.M+=w.Z%100,Pn(w)):Un(w)}}function O(D,z,L,w){for(var Q=0,W=z.length,ft=L.length,lt,Y;Q<W;){if(w>=ft)return-1;if(lt=z.charCodeAt(Q++),lt===37){if(lt=z.charAt(Q++),Y=b[lt in ka?z.charAt(Q++):lt],!Y||(w=Y(D,L,w))<0)return-1}else if(lt!=L.charCodeAt(w++))return-1}return w}function H(D,z,L){var w=f.exec(z.slice(L));return w?(D.p=l.get(w[0].toLowerCase()),L+w[0].length):-1}function P(D,z,L){var w=d.exec(z.slice(L));return w?(D.w=E.get(w[0].toLowerCase()),L+w[0].length):-1}function S(D,z,L){var w=p.exec(z.slice(L));return w?(D.w=c.get(w[0].toLowerCase()),L+w[0].length):-1}function B(D,z,L){var w=g.exec(z.slice(L));return w?(D.m=k.get(w[0].toLowerCase()),L+w[0].length):-1}function $(D,z,L){var w=U.exec(z.slice(L));return w?(D.m=y.get(w[0].toLowerCase()),L+w[0].length):-1}function m(D,z,L){return O(D,e,z,L)}function T(D,z,L){return O(D,r,z,L)}function x(D,z,L){return O(D,n,z,L)}function M(D){return a[D.getDay()]}function I(D){return i[D.getDay()]}function C(D){return s[D.getMonth()]}function N(D){return u[D.getMonth()]}function F(D){return o[+(D.getHours()>=12)]}function R(D){return 1+~~(D.getMonth()/3)}function it(D){return a[D.getUTCDay()]}function Z(D){return i[D.getUTCDay()]}function tt(D){return s[D.getUTCMonth()]}function at(D){return u[D.getUTCMonth()]}function X(D){return o[+(D.getUTCHours()>=12)]}function rt(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var z=v(D+="",_);return z.toString=function(){return D},z},parse:function(D){var z=A(D+="",!1);return z.toString=function(){return D},z},utcFormat:function(D){var z=v(D+="",h);return z.toString=function(){return D},z},utcParse:function(D){var z=A(D+="",!0);return z.toString=function(){return D},z}}}var ka={"-":"",_:" ",0:"0"},et=/^\s*\d+/,wl=/^%/,_l=/[\\^$*+?|[\]().{}]/g;function q(t,e,r){var n=t<0?"-":"",o=(n?-t:t)+"",i=o.length;return n+(i<r?new Array(r-i+1).join(e)+o:o)}function bl(t){return t.replace(_l,"\\$&")}function Qe(t){return new RegExp("^(?:"+t.map(bl).join("|")+")","i")}function Ke(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Ml(t,e,r){var n=et.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Tl(t,e,r){var n=et.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function kl(t,e,r){var n=et.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Sl(t,e,r){var n=et.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Cl(t,e,r){var n=et.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Sa(t,e,r){var n=et.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Ca(t,e,r){var n=et.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Dl(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Al(t,e,r){var n=et.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Nl(t,e,r){var n=et.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Da(t,e,r){var n=et.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Il(t,e,r){var n=et.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Aa(t,e,r){var n=et.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function El(t,e,r){var n=et.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Ol(t,e,r){var n=et.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Yl(t,e,r){var n=et.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Fl(t,e,r){var n=et.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ul(t,e,r){var n=wl.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Pl(t,e,r){var n=et.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Rl(t,e,r){var n=et.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Na(t,e){return q(t.getDate(),e,2)}function $l(t,e){return q(t.getHours(),e,2)}function zl(t,e){return q(t.getHours()%12||12,e,2)}function Ll(t,e){return q(1+Nt.count(ht(t),t),e,3)}function Fa(t,e){return q(t.getMilliseconds(),e,3)}function Hl(t,e){return Fa(t,e)+"000"}function Bl(t,e){return q(t.getMonth()+1,e,2)}function ql(t,e){return q(t.getMinutes(),e,2)}function Wl(t,e){return q(t.getSeconds(),e,2)}function Xl(t){var e=t.getDay();return e===0?7:e}function Vl(t,e){return q(It.count(ht(t)-1,t),e,2)}function Ua(t){var e=t.getDay();return e>=4||e===0?Pt(t):Pt.ceil(t)}function Gl(t,e){return t=Ua(t),q(Pt.count(ht(t),t)+(ht(t).getDay()===4),e,2)}function Zl(t){return t.getDay()}function Ql(t,e){return q(xe.count(ht(t)-1,t),e,2)}function Kl(t,e){return q(t.getFullYear()%100,e,2)}function Jl(t,e){return t=Ua(t),q(t.getFullYear()%100,e,2)}function jl(t,e){return q(t.getFullYear()%1e4,e,4)}function tc(t,e){var r=t.getDay();return t=r>=4||r===0?Pt(t):Pt.ceil(t),q(t.getFullYear()%1e4,e,4)}function ec(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+q(e/60|0,"0",2)+q(e%60,"0",2)}function Ia(t,e){return q(t.getUTCDate(),e,2)}function rc(t,e){return q(t.getUTCHours(),e,2)}function nc(t,e){return q(t.getUTCHours()%12||12,e,2)}function oc(t,e){return q(1+Ge.count(gt(t),t),e,3)}function Pa(t,e){return q(t.getUTCMilliseconds(),e,3)}function ic(t,e){return Pa(t,e)+"000"}function ac(t,e){return q(t.getUTCMonth()+1,e,2)}function uc(t,e){return q(t.getUTCMinutes(),e,2)}function sc(t,e){return q(t.getUTCSeconds(),e,2)}function fc(t){var e=t.getUTCDay();return e===0?7:e}function lc(t,e){return q(re.count(gt(t)-1,t),e,2)}function Ra(t){var e=t.getUTCDay();return e>=4||e===0?Rt(t):Rt.ceil(t)}function cc(t,e){return t=Ra(t),q(Rt.count(gt(t),t)+(gt(t).getUTCDay()===4),e,2)}function mc(t){return t.getUTCDay()}function pc(t,e){return q(ge.count(gt(t)-1,t),e,2)}function hc(t,e){return q(t.getUTCFullYear()%100,e,2)}function dc(t,e){return t=Ra(t),q(t.getUTCFullYear()%100,e,2)}function xc(t,e){return q(t.getUTCFullYear()%1e4,e,4)}function gc(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Rt(t):Rt.ceil(t),q(t.getUTCFullYear()%1e4,e,4)}function yc(){return"+0000"}function Ea(){return"%"}function Oa(t){return+t}function Ya(t){return Math.floor(+t/1e3)}var ve,zr,$a,za,La;$n({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $n(t){return ve=Rn(t),zr=ve.format,$a=ve.parse,za=ve.utcFormat,La=ve.utcParse,ve}function vc(t){return new Date(t)}function wc(t){return t instanceof Date?+t:+new Date(+t)}function Ha(t,e,r,n,o,i,a,u,s,f){var l=We(),p=l.invert,c=l.domain,d=f(".%L"),E=f(":%S"),U=f("%I:%M"),y=f("%I %p"),g=f("%a %d"),k=f("%b %d"),_=f("%B"),h=f("%Y");function b(v){return(s(v)<v?d:u(v)<v?E:a(v)<v?U:i(v)<v?y:n(v)<v?o(v)<v?g:k:r(v)<v?_:h)(v)}return l.invert=function(v){return new Date(p(v))},l.domain=function(v){return arguments.length?c(Array.from(v,wc)):c().map(vc)},l.ticks=function(v){var A=c();return t(A[0],A[A.length-1],v??10)},l.tickFormat=function(v,A){return A==null?b:f(A)},l.nice=function(v){var A=c();return(!v||typeof v.range!="function")&&(v=e(A[0],A[A.length-1],v??10)),v?c(In(A,v)):l},l.copy=function(){return Fr(l,Ha(t,e,r,n,o,i,a,u,s,f))},l}function Ba(){return me.apply(Ha(Yn,Fn,ht,ye,It,Nt,de,he,bt,zr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qa(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}var _c=qa("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function ne(t){return function(){return t}}function Wa(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Qt(e)}var v1=Array.prototype.slice;function Xa(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Va(t){this._context=t}Va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zn(t){return new Va(t)}function Ga(t){return t[0]}function Za(t){return t[1]}function bc(t,e){var r=ne(!0),n=null,o=zn,i=null,a=Wa(u);t=typeof t=="function"?t:t===void 0?Ga:ne(t),e=typeof e=="function"?e:e===void 0?Za:ne(e);function u(s){var f,l=(s=Xa(s)).length,p,c=!1,d;for(n==null&&(i=o(d=a())),f=0;f<=l;++f)!(f<l&&r(p=s[f],f,s))===c&&((c=!c)?i.lineStart():i.lineEnd()),c&&i.point(+t(p,f,s),+e(p,f,s));if(d)return i=null,d+""||null}return u.x=function(s){return arguments.length?(t=typeof s=="function"?s:ne(+s),u):t},u.y=function(s){return arguments.length?(e=typeof s=="function"?s:ne(+s),u):e},u.defined=function(s){return arguments.length?(r=typeof s=="function"?s:ne(!!s),u):r},u.curve=function(s){return arguments.length?(o=s,n!=null&&(i=o(n)),u):o},u.context=function(s){return arguments.length?(s==null?n=i=null:i=o(n=s),u):n},u}function Qa(t){return t<0?-1:1}function Ka(t,e,r){var n=t._x1-t._x0,o=e-t._x1,i=(t._y1-t._y0)/(n||o<0&&-0),a=(r-t._y1)/(o||n<0&&-0),u=(i*o+a*n)/(n+o);return(Qa(i)+Qa(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(u))||0}function Ja(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Ln(t,e,r){var n=t._x0,o=t._y0,i=t._x1,a=t._y1,u=(i-n)/3;t._context.bezierCurveTo(n+u,o+u*e,i-u,a-u*r,i,a)}function Lr(t){this._context=t}Lr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ln(this,this._t0,Ja(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ln(this,Ja(this,r=Ka(this,t,e)),r);break;default:Ln(this,this._t0,r=Ka(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Mc(t){this._context=new ja(t)}(Mc.prototype=Object.create(Lr.prototype)).point=function(t,e){Lr.prototype.point.call(this,e,t)};function ja(t){this._context=t}ja.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,o,i){this._context.bezierCurveTo(e,t,n,r,i,o)}};function Tc(t){return new Lr(t)}var Je=t=>()=>t;function Hn(t,{sourceEvent:e,target:r,transform:n,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:o}})}function yt(t,e,r){this.k=t,this.x=e,this.y=r}yt.prototype={constructor:yt,scale:function(t){return t===1?this:new yt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new yt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var je=new yt(1,0,0);Bn.prototype=yt.prototype;function Bn(t){for(;!t.__zoom;)if(!(t=t.parentNode))return je;return t.__zoom}function Hr(t){t.stopImmediatePropagation()}function we(t){t.preventDefault(),t.stopImmediatePropagation()}function kc(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Sc(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function tu(){return this.__zoom||je}function Cc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Dc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ac(t,e,r){var n=t.invertX(e[0][0])-r[0][0],o=t.invertX(e[1][0])-r[1][0],i=t.invertY(e[0][1])-r[0][1],a=t.invertY(e[1][1])-r[1][1];return t.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Nc(){var t=kc,e=Sc,r=Ac,n=Cc,o=Dc,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,s=an,f=St("start","zoom","end"),l,p,c,d=500,E=150,U=0,y=10;function g(m){m.property("__zoom",tu).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",P).filter(o).on("touchstart.zoom",S).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(m,T,x,M){var I=m.selection?m.selection():m;I.property("__zoom",tu),m!==I?b(m,T,x,M):I.interrupt().each(function(){v(this,arguments).event(M).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},g.scaleBy=function(m,T,x,M){g.scaleTo(m,function(){var I=this.__zoom.k,C=typeof T=="function"?T.apply(this,arguments):T;return I*C},x,M)},g.scaleTo=function(m,T,x,M){g.transform(m,function(){var I=e.apply(this,arguments),C=this.__zoom,N=x==null?h(I):typeof x=="function"?x.apply(this,arguments):x,F=C.invert(N),R=typeof T=="function"?T.apply(this,arguments):T;return r(_(k(C,R),N,F),I,a)},x,M)},g.translateBy=function(m,T,x,M){g.transform(m,function(){return r(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof x=="function"?x.apply(this,arguments):x),e.apply(this,arguments),a)},null,M)},g.translateTo=function(m,T,x,M,I){g.transform(m,function(){var C=e.apply(this,arguments),N=this.__zoom,F=M==null?h(C):typeof M=="function"?M.apply(this,arguments):M;return r(je.translate(F[0],F[1]).scale(N.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof x=="function"?-x.apply(this,arguments):-x),C,a)},M,I)};function k(m,T){return T=Math.max(i[0],Math.min(i[1],T)),T===m.k?m:new yt(T,m.x,m.y)}function _(m,T,x){var M=T[0]-x[0]*m.k,I=T[1]-x[1]*m.k;return M===m.x&&I===m.y?m:new yt(m.k,M,I)}function h(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function b(m,T,x,M){m.on("start.zoom",function(){v(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){v(this,arguments).event(M).end()}).tween("zoom",function(){var I=this,C=arguments,N=v(I,C).event(M),F=e.apply(I,C),R=x==null?h(F):typeof x=="function"?x.apply(I,C):x,it=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),Z=I.__zoom,tt=typeof T=="function"?T.apply(I,C):T,at=s(Z.invert(R).concat(it/Z.k),tt.invert(R).concat(it/tt.k));return function(X){if(X===1)X=tt;else{var rt=at(X),D=it/rt[2];X=new yt(D,R[0]-rt[0]*D,R[1]-rt[1]*D)}N.zoom(null,X)}})}function v(m,T,x){return!x&&m.__zooming||new A(m,T)}function A(m,T){this.that=m,this.args=T,this.active=0,this.sourceEvent=null,this.extent=e.apply(m,T),this.taps=0}A.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,T){return this.mouse&&m!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var T=J(this.that).datum();f.call(m,this.that,new Hn(m,{sourceEvent:this.sourceEvent,target:g,type:m,transform:this.that.__zoom,dispatch:f}),T)}};function O(m,...T){if(!t.apply(this,arguments))return;var x=v(this,T).event(m),M=this.__zoom,I=Math.max(i[0],Math.min(i[1],M.k*Math.pow(2,n.apply(this,arguments)))),C=ct(m);if(x.wheel)(x.mouse[0][0]!==C[0]||x.mouse[0][1]!==C[1])&&(x.mouse[1]=M.invert(x.mouse[0]=C)),clearTimeout(x.wheel);else{if(M.k===I)return;x.mouse=[C,M.invert(C)],wt(this),x.start()}we(m),x.wheel=setTimeout(N,E),x.zoom("mouse",r(_(k(M,I),x.mouse[0],x.mouse[1]),x.extent,a));function N(){x.wheel=null,x.end()}}function H(m,...T){if(c||!t.apply(this,arguments))return;var x=m.currentTarget,M=v(this,T,!0).event(m),I=J(m.view).on("mousemove.zoom",R,!0).on("mouseup.zoom",it,!0),C=ct(m,x),N=m.clientX,F=m.clientY;Bt(m.view),Hr(m),M.mouse=[C,this.__zoom.invert(C)],wt(this),M.start();function R(Z){if(we(Z),!M.moved){var tt=Z.clientX-N,at=Z.clientY-F;M.moved=tt*tt+at*at>U}M.event(Z).zoom("mouse",r(_(M.that.__zoom,M.mouse[0]=ct(Z,x),M.mouse[1]),M.extent,a))}function it(Z){I.on("mousemove.zoom mouseup.zoom",null),qt(Z.view,M.moved),we(Z),M.event(Z).end()}}function P(m,...T){if(t.apply(this,arguments)){var x=this.__zoom,M=ct(m.changedTouches?m.changedTouches[0]:m,this),I=x.invert(M),C=x.k*(m.shiftKey?.5:2),N=r(_(k(x,C),M,I),e.apply(this,T),a);we(m),u>0?J(this).transition().duration(u).call(b,N,M,m):J(this).call(g.transform,N,M,m)}}function S(m,...T){if(t.apply(this,arguments)){var x=m.touches,M=x.length,I=v(this,T,m.changedTouches.length===M).event(m),C,N,F,R;for(Hr(m),N=0;N<M;++N)F=x[N],R=ct(F,this),R=[R,this.__zoom.invert(R),F.identifier],I.touch0?!I.touch1&&I.touch0[2]!==R[2]&&(I.touch1=R,I.taps=0):(I.touch0=R,C=!0,I.taps=1+!!l);l&&(l=clearTimeout(l)),C&&(I.taps<2&&(p=R[0],l=setTimeout(function(){l=null},d)),wt(this),I.start())}}function B(m,...T){if(this.__zooming){var x=v(this,T).event(m),M=m.changedTouches,I=M.length,C,N,F,R;for(we(m),C=0;C<I;++C)N=M[C],F=ct(N,this),x.touch0&&x.touch0[2]===N.identifier?x.touch0[0]=F:x.touch1&&x.touch1[2]===N.identifier&&(x.touch1[0]=F);if(N=x.that.__zoom,x.touch1){var it=x.touch0[0],Z=x.touch0[1],tt=x.touch1[0],at=x.touch1[1],X=(X=tt[0]-it[0])*X+(X=tt[1]-it[1])*X,rt=(rt=at[0]-Z[0])*rt+(rt=at[1]-Z[1])*rt;N=k(N,Math.sqrt(X/rt)),F=[(it[0]+tt[0])/2,(it[1]+tt[1])/2],R=[(Z[0]+at[0])/2,(Z[1]+at[1])/2]}else if(x.touch0)F=x.touch0[0],R=x.touch0[1];else return;x.zoom("touch",r(_(N,F,R),x.extent,a))}}function $(m,...T){if(this.__zooming){var x=v(this,T).event(m),M=m.changedTouches,I=M.length,C,N;for(Hr(m),c&&clearTimeout(c),c=setTimeout(function(){c=null},d),C=0;C<I;++C)N=M[C],x.touch0&&x.touch0[2]===N.identifier?delete x.touch0:x.touch1&&x.touch1[2]===N.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(N=ct(N,this),Math.hypot(p[0]-N[0],p[1]-N[1])<y)){var F=J(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return g.wheelDelta=function(m){return arguments.length?(n=typeof m=="function"?m:Je(+m),g):n},g.filter=function(m){return arguments.length?(t=typeof m=="function"?m:Je(!!m),g):t},g.touchable=function(m){return arguments.length?(o=typeof m=="function"?m:Je(!!m),g):o},g.extent=function(m){return arguments.length?(e=typeof m=="function"?m:Je([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),g):e},g.scaleExtent=function(m){return arguments.length?(i[0]=+m[0],i[1]=+m[1],g):[i[0],i[1]]},g.translateExtent=function(m){return arguments.length?(a[0][0]=+m[0][0],a[1][0]=+m[1][0],a[0][1]=+m[0][1],a[1][1]=+m[1][1],g):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},g.constrain=function(m){return arguments.length?(r=m,g):r},g.duration=function(m){return arguments.length?(u=+m,g):u},g.interpolate=function(m){return arguments.length?(s=m,g):s},g.on=function(){var m=f.on.apply(f,arguments);return m===f?g:m},g.clickDistance=function(m){return arguments.length?(U=(m=+m)*m,g):Math.sqrt(U)},g.tapDistance=function(m){return arguments.length?(y=+m,g):y},g}export{tr as a,qn as b,Gn as c,Zn as d,Qn as e,Kn as f,ms as g,ps as h,J as i,ct as j,as as k,_s as l,Pf as m,Rf as n,kn as o,Nn as p,zr as q,Ba as r,_c as s,zn as t,bc as u,Tc as v,je as w,Nc as x};
